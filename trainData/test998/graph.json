[{"cfgs":[],"code":"if(isWriteFailure(rowWriteFailure))","dfgs":[],"fName":"src_main_java_com_healthmarketscience_jackcess_impl_TableImpl.java","fieldParents":[],"isDel":true,"lineBeg":1604,"lineEnd":1604,"lineMapIndex":6,"methodParents":[],"nodeIndex":0},{"cfgs":[2,3],"code":"int autoNumAssignCount = 0","dfgs":[2,4,5],"fName":"src_main_java_com_healthmarketscience_jackcess_impl_TableImpl.java","fieldParents":[],"isDel":false,"lineBeg":1506,"lineEnd":1506,"lineMapIndex":-1,"methodParents":[],"nodeIndex":1},{"cfgs":[3],"code":"++autoNumAssignCount","dfgs":[4,5],"fName":"src_main_java_com_healthmarketscience_jackcess_impl_TableImpl.java","fieldParents":[],"isDel":false,"lineBeg":1533,"lineEnd":1533,"lineMapIndex":-1,"methodParents":[],"nodeIndex":2},{"cfgs":[4],"code":"boolean isWriteFailure = isWriteFailure(rowWriteFailure)","dfgs":[4],"fName":"src_main_java_com_healthmarketscience_jackcess_impl_TableImpl.java","fieldParents":[],"isDel":false,"lineBeg":1597,"lineEnd":1597,"lineMapIndex":-1,"methodParents":[],"nodeIndex":3},{"cfgs":[5,6],"code":"if(!isWriteFailure && (autoNumAssignCount > updateCount))","dfgs":[5],"fName":"src_main_java_com_healthmarketscience_jackcess_impl_TableImpl.java","fieldParents":[],"isDel":false,"lineBeg":1599,"lineEnd":1599,"lineMapIndex":-1,"methodParents":[],"nodeIndex":4},{"cfgs":[6],"code":"restoreAutoNumbersFromAdd(rows.get(autoNumAssignCount - 1))","dfgs":[],"fName":"src_main_java_com_healthmarketscience_jackcess_impl_TableImpl.java","fieldParents":[],"isDel":false,"lineBeg":1602,"lineEnd":1602,"lineMapIndex":-1,"methodParents":[7],"nodeIndex":5},{"cfgs":[],"code":"if(isWriteFailure)","dfgs":[],"fName":"src_main_java_com_healthmarketscience_jackcess_impl_TableImpl.java","fieldParents":[],"isDel":false,"lineBeg":1614,"lineEnd":1614,"lineMapIndex":0,"methodParents":[],"nodeIndex":6},{"cfgs":[8],"code":"private void restoreAutoNumbersFromAdd(Object[] row)throws IOException","dfgs":[8,9,10,11],"fName":"src_main_java_com_healthmarketscience_jackcess_impl_TableImpl.java","fieldParents":[],"isDel":false,"lineBeg":2165,"lineEnd":2167,"lineMapIndex":-1,"methodParents":[],"nodeIndex":7},{"cfgs":[9,10],"code":"if(_autoNumColumns.isEmpty())","dfgs":[10],"fName":"src_main_java_com_healthmarketscience_jackcess_impl_TableImpl.java","fieldParents":[],"isDel":false,"lineBeg":2168,"lineEnd":2168,"lineMapIndex":-1,"methodParents":[],"nodeIndex":8},{"cfgs":[],"code":"return","dfgs":[],"fName":"src_main_java_com_healthmarketscience_jackcess_impl_TableImpl.java","fieldParents":[],"isDel":false,"lineBeg":2169,"lineEnd":2169,"lineMapIndex":-1,"methodParents":[],"nodeIndex":9},{"cfgs":[11],"code":"for(ColumnImpl col : _autoNumColumns)","dfgs":[11],"fName":"src_main_java_com_healthmarketscience_jackcess_impl_TableImpl.java","fieldParents":[],"isDel":false,"lineBeg":2172,"lineEnd":2172,"lineMapIndex":-1,"methodParents":[],"nodeIndex":10},{"cfgs":[],"code":"col.getAutoNumberGenerator().restoreLast(col.getRowValue(row))","dfgs":[],"fName":"src_main_java_com_healthmarketscience_jackcess_impl_TableImpl.java","fieldParents":[],"isDel":false,"lineBeg":2174,"lineEnd":2174,"lineMapIndex":-1,"methodParents":[50],"nodeIndex":11},{"cfgs":[13],"code":"void restoreLastLongAutoNumber(int lastLongAutoNumber) ","dfgs":[13],"fName":"src_main_java_com_healthmarketscience_jackcess_impl_TableImpl.java","fieldParents":[],"isDel":false,"lineBeg":2204,"lineEnd":2204,"lineMapIndex":-1,"methodParents":[],"nodeIndex":12},{"cfgs":[],"code":"_lastLongAutoNumber = lastLongAutoNumber - 1","dfgs":[],"fName":"src_main_java_com_healthmarketscience_jackcess_impl_TableImpl.java","fieldParents":[],"isDel":false,"lineBeg":2206,"lineEnd":2206,"lineMapIndex":-1,"methodParents":[],"nodeIndex":13},{"cfgs":[15],"code":"void restoreLastComplexTypeAutoNumber(int lastComplexTypeAutoNumber) ","dfgs":[15],"fName":"src_main_java_com_healthmarketscience_jackcess_impl_TableImpl.java","fieldParents":[],"isDel":false,"lineBeg":2219,"lineEnd":2219,"lineMapIndex":-1,"methodParents":[],"nodeIndex":14},{"cfgs":[],"code":"_lastComplexTypeAutoNumber = lastComplexTypeAutoNumber - 1","dfgs":[],"fName":"src_main_java_com_healthmarketscience_jackcess_impl_TableImpl.java","fieldParents":[],"isDel":false,"lineBeg":2221,"lineEnd":2221,"lineMapIndex":-1,"methodParents":[],"nodeIndex":15},{"cfgs":[17],"code":"public void testAutoNumberRecover() throws Exception","dfgs":[17,33,43,20,26,27,29,31,32,34,35,36,44,45,46,47,48,49,18,19,25,28,30,40,21,23,24,38,39,41,42],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":596,"lineEnd":597,"lineMapIndex":-1,"methodParents":[],"nodeIndex":16},{"cfgs":[18],"code":"for (final FileFormat fileFormat : SUPPORTED_FILEFORMATS)","dfgs":[18],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":598,"lineEnd":598,"lineMapIndex":-1,"methodParents":[],"nodeIndex":17},{"cfgs":[19],"code":"Database db = create(fileFormat)","dfgs":[19,24],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":599,"lineEnd":599,"lineMapIndex":-1,"methodParents":[],"nodeIndex":18},{"cfgs":[20],"code":"Table t = new TableBuilder(\"TestTable\").addColumn(new ColumnBuilder(\"id\", DataType.LONG).setAutoNumber(true)).addColumn(new ColumnBuilder(\"data\", DataType.TEXT)).addIndex(new IndexBuilder(IndexBuilder.PRIMARY_KEY_NAME).addColumns(\"id\").setPrimaryKey()).addIndex(new IndexBuilder(\"data_ind\").addColumns(\"data\").setUnique()).toTable(db)","dfgs":[49,21,23],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":601,"lineEnd":608,"lineMapIndex":-1,"methodParents":[],"nodeIndex":19},{"cfgs":[21,22],"code":"for(int i = 1; i < 3; ++i)","dfgs":[21],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":610,"lineEnd":610,"lineMapIndex":-1,"methodParents":[],"nodeIndex":20},{"cfgs":[],"code":"t.addRow(null, \"row\" + i)","dfgs":[23],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":611,"lineEnd":611,"lineMapIndex":-1,"methodParents":[],"nodeIndex":21},{"cfgs":[23],"code":"try ","dfgs":[],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":614,"lineEnd":614,"lineMapIndex":-1,"methodParents":[],"nodeIndex":22},{"cfgs":[24],"code":"t.addRow(null, \"row1\")","dfgs":[26],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":615,"lineEnd":615,"lineMapIndex":-1,"methodParents":[],"nodeIndex":23},{"cfgs":[25],"code":"fail(\"ConstraintViolationException should have been thrown\")","dfgs":[27],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":616,"lineEnd":616,"lineMapIndex":-1,"methodParents":[],"nodeIndex":24},{"cfgs":[26],"code":"catch(ConstraintViolationException ce)","dfgs":[],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":617,"lineEnd":617,"lineMapIndex":-1,"methodParents":[],"nodeIndex":25},{"cfgs":[27],"code":"t.addRow(null, \"row3\")","dfgs":[27],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":621,"lineEnd":621,"lineMapIndex":-1,"methodParents":[],"nodeIndex":26},{"cfgs":[28],"code":"assertEquals(3, t.getRowCount())","dfgs":[29,28],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":623,"lineEnd":623,"lineMapIndex":-1,"methodParents":[],"nodeIndex":27},{"cfgs":[29],"code":"List<Row> expectedRows =createExpectedTable(createExpectedRow(\"id\", 1, \"data\", \"row1\"),createExpectedRow(\"id\", 2, \"data\", \"row2\"),createExpectedRow(\"id\", 3, \"data\", \"row3\"))","dfgs":[29],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":625,"lineEnd":632,"lineMapIndex":-1,"methodParents":[],"nodeIndex":28},{"cfgs":[30],"code":"assertTable(expectedRows, t)","dfgs":[31,30],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":634,"lineEnd":634,"lineMapIndex":-1,"methodParents":[],"nodeIndex":29},{"cfgs":[31],"code":"IndexCursor pkCursor = CursorBuilder.createCursor(t.getPrimaryKeyIndex())","dfgs":[31,32],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":636,"lineEnd":636,"lineMapIndex":-1,"methodParents":[],"nodeIndex":30},{"cfgs":[32],"code":"assertCursor(expectedRows, pkCursor)","dfgs":[32,47],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":637,"lineEnd":637,"lineMapIndex":-1,"methodParents":[],"nodeIndex":31},{"cfgs":[33],"code":"assertCursor(expectedRows, CursorBuilder.createCursor(t.getIndex(\"data_ind\")))","dfgs":[48,38,39],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":639,"lineEnd":640,"lineMapIndex":-1,"methodParents":[],"nodeIndex":32},{"cfgs":[34],"code":"List<Object[]> batch = new ArrayList<Object[]>()","dfgs":[34],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":642,"lineEnd":642,"lineMapIndex":-1,"methodParents":[],"nodeIndex":33},{"cfgs":[35],"code":"batch.add(new Object[]{null, \"row4\"})","dfgs":[35],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":643,"lineEnd":643,"lineMapIndex":-1,"methodParents":[],"nodeIndex":34},{"cfgs":[36],"code":"batch.add(new Object[]{null, \"row5\"})","dfgs":[36],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":644,"lineEnd":644,"lineMapIndex":-1,"methodParents":[],"nodeIndex":35},{"cfgs":[37],"code":"batch.add(new Object[]{null, \"row3\"})","dfgs":[38],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":645,"lineEnd":645,"lineMapIndex":-1,"methodParents":[],"nodeIndex":36},{"cfgs":[38],"code":"try ","dfgs":[],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":647,"lineEnd":647,"lineMapIndex":-1,"methodParents":[],"nodeIndex":37},{"cfgs":[39],"code":"t.addRows(batch)","dfgs":[46],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":648,"lineEnd":648,"lineMapIndex":-1,"methodParents":[],"nodeIndex":38},{"cfgs":[43,40],"code":"fail(\"BatchUpdateException should have been thrown\")","dfgs":[44,41],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":649,"lineEnd":649,"lineMapIndex":-1,"methodParents":[],"nodeIndex":39},{"cfgs":[41],"code":"catch(BatchUpdateException be)","dfgs":[],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":650,"lineEnd":650,"lineMapIndex":-1,"methodParents":[],"nodeIndex":40},{"cfgs":[42],"code":"assertTrue(be.getCause() instanceof ConstraintViolationException)","dfgs":[42],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":652,"lineEnd":652,"lineMapIndex":-1,"methodParents":[],"nodeIndex":41},{"cfgs":[43],"code":"assertEquals(2, be.getUpdateCount())","dfgs":[44],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":653,"lineEnd":653,"lineMapIndex":-1,"methodParents":[],"nodeIndex":42},{"cfgs":[44],"code":"expectedRows = new ArrayList<Row>(expectedRows)","dfgs":[44],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":656,"lineEnd":656,"lineMapIndex":-1,"methodParents":[],"nodeIndex":43},{"cfgs":[45],"code":"expectedRows.add(createExpectedRow(\"id\", 4, \"data\", \"row4\"))","dfgs":[45],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":657,"lineEnd":657,"lineMapIndex":-1,"methodParents":[],"nodeIndex":44},{"cfgs":[46],"code":"expectedRows.add(createExpectedRow(\"id\", 5, \"data\", \"row5\"))","dfgs":[46],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":658,"lineEnd":658,"lineMapIndex":-1,"methodParents":[],"nodeIndex":45},{"cfgs":[47],"code":"assertTable(expectedRows, t)","dfgs":[47,48],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":660,"lineEnd":660,"lineMapIndex":-1,"methodParents":[],"nodeIndex":46},{"cfgs":[48],"code":"assertCursor(expectedRows, pkCursor)","dfgs":[48],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":662,"lineEnd":662,"lineMapIndex":-1,"methodParents":[],"nodeIndex":47},{"cfgs":[49],"code":"assertCursor(expectedRows, CursorBuilder.createCursor(t.getIndex(\"data_ind\")))","dfgs":[],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":664,"lineEnd":665,"lineMapIndex":-1,"methodParents":[],"nodeIndex":48},{"cfgs":[],"code":"db.close()","dfgs":[],"fName":"src_test_java_com_healthmarketscience_jackcess_IndexTest.java","fieldParents":[],"isDel":false,"lineBeg":667,"lineEnd":667,"lineMapIndex":-1,"methodParents":[],"nodeIndex":49},{"cfgs":[],"code":"public abstract void restoreLast(Object last)","dfgs":[],"fName":"src_main_java_com_healthmarketscience_jackcess_impl_ColumnImpl.java","fieldParents":[],"isDel":false,"lineBeg":1999,"lineEnd":1999,"lineMapIndex":-1,"methodParents":[],"nodeIndex":50},{"cfgs":[],"code":"public void restoreLast(Object last) ","dfgs":[52],"fName":"src_main_java_com_healthmarketscience_jackcess_impl_ColumnImpl.java","fieldParents":[],"isDel":false,"lineBeg":2024,"lineEnd":2024,"lineMapIndex":-1,"methodParents":[],"nodeIndex":51},{"cfgs":[53],"code":"if(last instanceof Integer)","dfgs":[53],"fName":"src_main_java_com_healthmarketscience_jackcess_impl_ColumnImpl.java","fieldParents":[],"isDel":false,"lineBeg":2025,"lineEnd":2025,"lineMapIndex":-1,"methodParents":[],"nodeIndex":52},{"cfgs":[],"code":"getTable().restoreLastLongAutoNumber((Integer)last)","dfgs":[],"fName":"src_main_java_com_healthmarketscience_jackcess_impl_ColumnImpl.java","fieldParents":[],"isDel":false,"lineBeg":2026,"lineEnd":2026,"lineMapIndex":-1,"methodParents":[12],"nodeIndex":53},{"cfgs":[],"code":"public void restoreLast(Object last) ","dfgs":[],"fName":"src_main_java_com_healthmarketscience_jackcess_impl_ColumnImpl.java","fieldParents":[],"isDel":false,"lineBeg":2055,"lineEnd":2055,"lineMapIndex":-1,"methodParents":[],"nodeIndex":54},{"cfgs":[],"code":"_lastAutoNumber = null","dfgs":[],"fName":"src_main_java_com_healthmarketscience_jackcess_impl_ColumnImpl.java","fieldParents":[],"isDel":false,"lineBeg":2056,"lineEnd":2056,"lineMapIndex":-1,"methodParents":[],"nodeIndex":55},{"cfgs":[],"code":"public void restoreLast(Object last) ","dfgs":[57],"fName":"src_main_java_com_healthmarketscience_jackcess_impl_ColumnImpl.java","fieldParents":[],"isDel":false,"lineBeg":2087,"lineEnd":2087,"lineMapIndex":-1,"methodParents":[],"nodeIndex":56},{"cfgs":[58],"code":"if(last instanceof ComplexValueForeignKey)","dfgs":[58],"fName":"src_main_java_com_healthmarketscience_jackcess_impl_ColumnImpl.java","fieldParents":[],"isDel":false,"lineBeg":2088,"lineEnd":2088,"lineMapIndex":-1,"methodParents":[],"nodeIndex":57},{"cfgs":[],"code":"getTable().restoreLastComplexTypeAutoNumber(((ComplexValueForeignKey)last).get())","dfgs":[],"fName":"src_main_java_com_healthmarketscience_jackcess_impl_ColumnImpl.java","fieldParents":[],"isDel":false,"lineBeg":2089,"lineEnd":2090,"lineMapIndex":-1,"methodParents":[14],"nodeIndex":58},{"cfgs":[],"code":"public void restoreLast(Object last) ","dfgs":[],"fName":"src_main_java_com_healthmarketscience_jackcess_impl_ColumnImpl.java","fieldParents":[],"isDel":false,"lineBeg":2119,"lineEnd":2119,"lineMapIndex":-1,"methodParents":[],"nodeIndex":59},{"cfgs":[],"code":"throw new UnsupportedOperationException()","dfgs":[],"fName":"src_main_java_com_healthmarketscience_jackcess_impl_ColumnImpl.java","fieldParents":[],"isDel":false,"lineBeg":2120,"lineEnd":2120,"lineMapIndex":-1,"methodParents":[],"nodeIndex":60}]