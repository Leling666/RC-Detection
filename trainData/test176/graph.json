[{"cfgs":[1],"code":"if (shardQueryIncludeScore)","dfgs":[],"fName":"solr_core_src_java_org_apache_solr_handler_component_QueryComponent.java","fieldParents":[],"isDel":true,"lineBeg":887,"lineEnd":887,"lineMapIndex":31,"methodParents":[],"nodeIndex":0},{"cfgs":[2],"code":"sreq.params.set(CommonParams.FL, rb.req.getSchema().getUniqueKeyField().getName() + \",score\")","dfgs":[3,2],"fName":"solr_core_src_java_org_apache_solr_handler_component_QueryComponent.java","fieldParents":[],"isDel":true,"lineBeg":888,"lineEnd":888,"lineMapIndex":-1,"methodParents":[],"nodeIndex":1},{"cfgs":[3],"code":"StatsCache statsCache = rb.req.getCore().getStatsCache()","dfgs":[3],"fName":"solr_core_src_java_org_apache_solr_handler_component_QueryComponent.java","fieldParents":[],"isDel":true,"lineBeg":889,"lineEnd":889,"lineMapIndex":32,"methodParents":[],"nodeIndex":2},{"cfgs":[7,6],"code":"statsCache.sendGlobalStats(rb, sreq)","dfgs":[],"fName":"solr_core_src_java_org_apache_solr_handler_component_QueryComponent.java","fieldParents":[],"isDel":true,"lineBeg":890,"lineEnd":890,"lineMapIndex":33,"methodParents":[],"nodeIndex":3},{"cfgs":[5],"code":"else","dfgs":[],"fName":"solr_core_src_java_org_apache_solr_handler_component_QueryComponent.java","fieldParents":[],"isDel":true,"lineBeg":891,"lineEnd":891,"lineMapIndex":-1,"methodParents":[],"nodeIndex":4},{"cfgs":[7,6],"code":"sreq.params.set(CommonParams.FL, rb.req.getSchema().getUniqueKeyField().getName())","dfgs":[],"fName":"solr_core_src_java_org_apache_solr_handler_component_QueryComponent.java","fieldParents":[],"isDel":true,"lineBeg":893,"lineEnd":893,"lineMapIndex":28,"methodParents":[],"nodeIndex":5},{"cfgs":[7],"code":"if (distribSinglePass)","dfgs":[],"fName":"solr_core_src_java_org_apache_solr_handler_component_QueryComponent.java","fieldParents":[],"isDel":true,"lineBeg":896,"lineEnd":896,"lineMapIndex":22,"methodParents":[],"nodeIndex":6},{"cfgs":[8],"code":"StringBuilder additionalFL = new StringBuilder()","dfgs":[10,12],"fName":"solr_core_src_java_org_apache_solr_handler_component_QueryComponent.java","fieldParents":[],"isDel":true,"lineBeg":907,"lineEnd":907,"lineMapIndex":20,"methodParents":[],"nodeIndex":7},{"cfgs":[9],"code":"boolean additionalAdded = false","dfgs":[10,12],"fName":"solr_core_src_java_org_apache_solr_handler_component_QueryComponent.java","fieldParents":[],"isDel":true,"lineBeg":908,"lineEnd":908,"lineMapIndex":21,"methodParents":[],"nodeIndex":8},{"cfgs":[10,11],"code":"if (!distribSinglePass || !fields.wantsField(keyFieldName))","dfgs":[10,11],"fName":"solr_core_src_java_org_apache_solr_handler_component_QueryComponent.java","fieldParents":[],"isDel":true,"lineBeg":909,"lineEnd":909,"lineMapIndex":23,"methodParents":[],"nodeIndex":9},{"cfgs":[11],"code":"additionalAdded = addFL(additionalFL, keyFieldName, additionalAdded)","dfgs":[12],"fName":"solr_core_src_java_org_apache_solr_handler_component_QueryComponent.java","fieldParents":[],"isDel":true,"lineBeg":910,"lineEnd":910,"lineMapIndex":24,"methodParents":[],"nodeIndex":10},{"cfgs":[12],"code":"if ((!distribSinglePass || !fields.wantsScore()) && shardQueryIncludeScore)","dfgs":[],"fName":"solr_core_src_java_org_apache_solr_handler_component_QueryComponent.java","fieldParents":[],"isDel":true,"lineBeg":911,"lineEnd":911,"lineMapIndex":29,"methodParents":[],"nodeIndex":11},{"cfgs":[],"code":"additionalAdded = addFL(additionalFL, \"score\", additionalAdded)","dfgs":[],"fName":"solr_core_src_java_org_apache_solr_handler_component_QueryComponent.java","fieldParents":[],"isDel":true,"lineBeg":912,"lineEnd":912,"lineMapIndex":30,"methodParents":[],"nodeIndex":12},{"cfgs":[],"code":"if (idScoreFields.containsAll(fls))","dfgs":[],"fName":"solr_core_src_test_org_apache_solr_handler_component_DistributedQueryComponentOptimizationTest.java","fieldParents":[],"isDel":true,"lineBeg":199,"lineEnd":199,"lineMapIndex":40,"methodParents":[],"nodeIndex":13},{"cfgs":[16,15],"code":"for (String p : params)","dfgs":[17,15],"fName":"solr_core_src_test_org_apache_solr_handler_component_DistributedQueryComponentOptimizationTest.java","fieldParents":[],"isDel":true,"lineBeg":262,"lineEnd":262,"lineMapIndex":42,"methodParents":[],"nodeIndex":14},{"cfgs":[],"code":"requestedFields.addAll(StrUtils.splitSmart(p, ','))","dfgs":[16],"fName":"solr_core_src_test_org_apache_solr_handler_component_DistributedQueryComponentOptimizationTest.java","fieldParents":[],"isDel":true,"lineBeg":263,"lineEnd":263,"lineMapIndex":43,"methodParents":[],"nodeIndex":15},{"cfgs":[17],"code":"assertEquals(\"Number of requested fields do not match with expectations\", expectedCount, requestedFields.size())","dfgs":[18,19],"fName":"solr_core_src_test_org_apache_solr_handler_component_DistributedQueryComponentOptimizationTest.java","fieldParents":[],"isDel":true,"lineBeg":265,"lineEnd":265,"lineMapIndex":47,"methodParents":[],"nodeIndex":16},{"cfgs":[18],"code":"for (String field : values)","dfgs":[18],"fName":"solr_core_src_test_org_apache_solr_handler_component_DistributedQueryComponentOptimizationTest.java","fieldParents":[],"isDel":true,"lineBeg":266,"lineEnd":266,"lineMapIndex":48,"methodParents":[],"nodeIndex":17},{"cfgs":[19],"code":"if (!requestedFields.contains(field))","dfgs":[19],"fName":"solr_core_src_test_org_apache_solr_handler_component_DistributedQueryComponentOptimizationTest.java","fieldParents":[],"isDel":true,"lineBeg":267,"lineEnd":267,"lineMapIndex":49,"methodParents":[],"nodeIndex":18},{"cfgs":[],"code":"fail(\"Field \" + field + \" not found in param: \" + paramName + \" request had \" + paramName + \"=\" + requestedFields)","dfgs":[],"fName":"solr_core_src_test_org_apache_solr_handler_component_DistributedQueryComponentOptimizationTest.java","fieldParents":[],"isDel":true,"lineBeg":268,"lineEnd":268,"lineMapIndex":50,"methodParents":[],"nodeIndex":19},{"cfgs":[21],"code":"StringBuilder additionalFL = new StringBuilder()","dfgs":[26,30,24],"fName":"solr_core_src_java_org_apache_solr_handler_component_QueryComponent.java","fieldParents":[],"isDel":false,"lineBeg":886,"lineEnd":886,"lineMapIndex":7,"methodParents":[],"nodeIndex":20},{"cfgs":[22,27],"code":"boolean additionalAdded = false","dfgs":[26,30,24],"fName":"solr_core_src_java_org_apache_solr_handler_component_QueryComponent.java","fieldParents":[],"isDel":false,"lineBeg":887,"lineEnd":887,"lineMapIndex":8,"methodParents":[],"nodeIndex":21},{"cfgs":[23,25],"code":"if (distribSinglePass)","dfgs":[],"fName":"solr_core_src_java_org_apache_solr_handler_component_QueryComponent.java","fieldParents":[],"isDel":false,"lineBeg":888,"lineEnd":888,"lineMapIndex":6,"methodParents":[],"nodeIndex":22},{"cfgs":[24,25],"code":"if (!fields.wantsField(keyFieldName))","dfgs":[25,24],"fName":"solr_core_src_java_org_apache_solr_handler_component_QueryComponent.java","fieldParents":[],"isDel":false,"lineBeg":893,"lineEnd":893,"lineMapIndex":9,"methodParents":[],"nodeIndex":23},{"cfgs":[25],"code":"additionalAdded = addFL(additionalFL, keyFieldName, additionalAdded)","dfgs":[26],"fName":"solr_core_src_java_org_apache_solr_handler_component_QueryComponent.java","fieldParents":[],"isDel":false,"lineBeg":894,"lineEnd":894,"lineMapIndex":10,"methodParents":[],"nodeIndex":24},{"cfgs":[26,31],"code":"if (!fields.wantsScore() && shardQueryIncludeScore)","dfgs":[],"fName":"solr_core_src_java_org_apache_solr_handler_component_QueryComponent.java","fieldParents":[],"isDel":false,"lineBeg":901,"lineEnd":901,"lineMapIndex":-1,"methodParents":[],"nodeIndex":25},{"cfgs":[31],"code":"additionalAdded = addFL(additionalFL, \"score\", additionalAdded)","dfgs":[],"fName":"solr_core_src_java_org_apache_solr_handler_component_QueryComponent.java","fieldParents":[],"isDel":false,"lineBeg":902,"lineEnd":902,"lineMapIndex":-1,"methodParents":[],"nodeIndex":26},{"cfgs":[28],"code":"else","dfgs":[],"fName":"solr_core_src_java_org_apache_solr_handler_component_QueryComponent.java","fieldParents":[],"isDel":false,"lineBeg":904,"lineEnd":904,"lineMapIndex":-1,"methodParents":[],"nodeIndex":27},{"cfgs":[29,31],"code":"sreq.params.set(CommonParams.FL, rb.req.getSchema().getUniqueKeyField().getName())","dfgs":[33,32],"fName":"solr_core_src_java_org_apache_solr_handler_component_QueryComponent.java","fieldParents":[],"isDel":false,"lineBeg":906,"lineEnd":906,"lineMapIndex":5,"methodParents":[],"nodeIndex":28},{"cfgs":[30],"code":"if (shardQueryIncludeScore)","dfgs":[],"fName":"solr_core_src_java_org_apache_solr_handler_component_QueryComponent.java","fieldParents":[],"isDel":false,"lineBeg":907,"lineEnd":907,"lineMapIndex":11,"methodParents":[],"nodeIndex":29},{"cfgs":[31],"code":"additionalAdded = addFL(additionalFL, \"score\", additionalAdded)","dfgs":[],"fName":"solr_core_src_java_org_apache_solr_handler_component_QueryComponent.java","fieldParents":[],"isDel":false,"lineBeg":908,"lineEnd":908,"lineMapIndex":12,"methodParents":[],"nodeIndex":30},{"cfgs":[32],"code":"if (shardQueryIncludeScore)","dfgs":[],"fName":"solr_core_src_java_org_apache_solr_handler_component_QueryComponent.java","fieldParents":[],"isDel":false,"lineBeg":914,"lineEnd":914,"lineMapIndex":0,"methodParents":[],"nodeIndex":31},{"cfgs":[33],"code":"StatsCache statsCache = rb.req.getCore().getStatsCache()","dfgs":[33],"fName":"solr_core_src_java_org_apache_solr_handler_component_QueryComponent.java","fieldParents":[],"isDel":false,"lineBeg":915,"lineEnd":915,"lineMapIndex":2,"methodParents":[],"nodeIndex":32},{"cfgs":[],"code":"statsCache.sendGlobalStats(rb, sreq)","dfgs":[],"fName":"solr_core_src_java_org_apache_solr_handler_component_QueryComponent.java","fieldParents":[],"isDel":false,"lineBeg":916,"lineEnd":916,"lineMapIndex":3,"methodParents":[],"nodeIndex":33},{"cfgs":[35],"code":"queryWithAsserts(\"q\", \"*:*\", \"sort\", \"payload desc\", ShardParams.DISTRIB_SINGLE_PASS, \"true\")","dfgs":[35,36],"fName":"solr_core_src_test_org_apache_solr_handler_component_DistributedQueryComponentOptimizationTest.java","fieldParents":[],"isDel":false,"lineBeg":137,"lineEnd":137,"lineMapIndex":-1,"methodParents":[],"nodeIndex":34},{"cfgs":[36],"code":"queryWithAsserts(\"q\", \"*:*\", \"sort\", \"payload desc\")","dfgs":[36],"fName":"solr_core_src_test_org_apache_solr_handler_component_DistributedQueryComponentOptimizationTest.java","fieldParents":[],"isDel":false,"lineBeg":138,"lineEnd":138,"lineMapIndex":-1,"methodParents":[],"nodeIndex":35},{"cfgs":[37],"code":"queryWithAsserts(\"q\", \"*:*\", \"fl\", \"*\", \"sort\", \"payload desc\", ShardParams.DISTRIB_SINGLE_PASS, \"true\")","dfgs":[37,38],"fName":"solr_core_src_test_org_apache_solr_handler_component_DistributedQueryComponentOptimizationTest.java","fieldParents":[],"isDel":false,"lineBeg":141,"lineEnd":141,"lineMapIndex":-1,"methodParents":[],"nodeIndex":36},{"cfgs":[38],"code":"queryWithAsserts(\"q\", \"*:*\", \"fl\", \"*\", \"sort\", \"payload desc\")","dfgs":[38],"fName":"solr_core_src_test_org_apache_solr_handler_component_DistributedQueryComponentOptimizationTest.java","fieldParents":[],"isDel":false,"lineBeg":142,"lineEnd":142,"lineMapIndex":-1,"methodParents":[],"nodeIndex":37},{"cfgs":[39],"code":"queryWithAsserts(\"q\", \"*:*\", \"fl\", \"*,score\", \"sort\", \"payload desc\", ShardParams.DISTRIB_SINGLE_PASS, \"true\")","dfgs":[39],"fName":"solr_core_src_test_org_apache_solr_handler_component_DistributedQueryComponentOptimizationTest.java","fieldParents":[],"isDel":false,"lineBeg":145,"lineEnd":145,"lineMapIndex":-1,"methodParents":[],"nodeIndex":38},{"cfgs":[],"code":"queryWithAsserts(\"q\", \"*:*\", \"fl\", \"*,score\", \"sort\", \"payload desc\")","dfgs":[],"fName":"solr_core_src_test_org_apache_solr_handler_component_DistributedQueryComponentOptimizationTest.java","fieldParents":[],"isDel":false,"lineBeg":146,"lineEnd":146,"lineMapIndex":-1,"methodParents":[],"nodeIndex":39},{"cfgs":[],"code":"if (idScoreFields.containsAll(fls) && !fls.isEmpty())","dfgs":[],"fName":"solr_core_src_test_org_apache_solr_handler_component_DistributedQueryComponentOptimizationTest.java","fieldParents":[],"isDel":false,"lineBeg":211,"lineEnd":211,"lineMapIndex":13,"methodParents":[],"nodeIndex":40},{"cfgs":[42,46],"code":"if (params != null)","dfgs":[42],"fName":"solr_core_src_test_org_apache_solr_handler_component_DistributedQueryComponentOptimizationTest.java","fieldParents":[],"isDel":false,"lineBeg":274,"lineEnd":274,"lineMapIndex":-1,"methodParents":[],"nodeIndex":41},{"cfgs":[46,43],"code":"for (String p : params)","dfgs":[43],"fName":"solr_core_src_test_org_apache_solr_handler_component_DistributedQueryComponentOptimizationTest.java","fieldParents":[],"isDel":false,"lineBeg":275,"lineEnd":275,"lineMapIndex":14,"methodParents":[],"nodeIndex":42},{"cfgs":[44],"code":"List<String> list = StrUtils.splitSmart(p, ',')","dfgs":[44],"fName":"solr_core_src_test_org_apache_solr_handler_component_DistributedQueryComponentOptimizationTest.java","fieldParents":[],"isDel":false,"lineBeg":276,"lineEnd":276,"lineMapIndex":15,"methodParents":[],"nodeIndex":43},{"cfgs":[45],"code":"for (String s : list)","dfgs":[48,45],"fName":"solr_core_src_test_org_apache_solr_handler_component_DistributedQueryComponentOptimizationTest.java","fieldParents":[],"isDel":false,"lineBeg":277,"lineEnd":277,"lineMapIndex":-1,"methodParents":[],"nodeIndex":44},{"cfgs":[],"code":"assertTrue(\"Field name \" + s + \" was requested multiple times: params = \" + requestAndParams.params,requestedFields.add(s))","dfgs":[46,47],"fName":"solr_core_src_test_org_apache_solr_handler_component_DistributedQueryComponentOptimizationTest.java","fieldParents":[],"isDel":false,"lineBeg":279,"lineEnd":280,"lineMapIndex":-1,"methodParents":[],"nodeIndex":45},{"cfgs":[47],"code":"if (!requestedFields.contains(\"*\"))","dfgs":[47],"fName":"solr_core_src_test_org_apache_solr_handler_component_DistributedQueryComponentOptimizationTest.java","fieldParents":[],"isDel":false,"lineBeg":285,"lineEnd":285,"lineMapIndex":-1,"methodParents":[],"nodeIndex":46},{"cfgs":[48],"code":"assertEquals(\"Number of requested fields do not match with expectations\", expectedCount, requestedFields.size())","dfgs":[49,50],"fName":"solr_core_src_test_org_apache_solr_handler_component_DistributedQueryComponentOptimizationTest.java","fieldParents":[],"isDel":false,"lineBeg":286,"lineEnd":286,"lineMapIndex":16,"methodParents":[],"nodeIndex":47},{"cfgs":[49],"code":"for (String field : values)","dfgs":[49],"fName":"solr_core_src_test_org_apache_solr_handler_component_DistributedQueryComponentOptimizationTest.java","fieldParents":[],"isDel":false,"lineBeg":287,"lineEnd":287,"lineMapIndex":17,"methodParents":[],"nodeIndex":48},{"cfgs":[50],"code":"if (!requestedFields.contains(field))","dfgs":[50],"fName":"solr_core_src_test_org_apache_solr_handler_component_DistributedQueryComponentOptimizationTest.java","fieldParents":[],"isDel":false,"lineBeg":288,"lineEnd":288,"lineMapIndex":18,"methodParents":[],"nodeIndex":49},{"cfgs":[],"code":"fail(\"Field \" + field + \" not found in param: \" + paramName + \" request had \" + paramName + \"=\" + requestedFields)","dfgs":[],"fName":"solr_core_src_test_org_apache_solr_handler_component_DistributedQueryComponentOptimizationTest.java","fieldParents":[],"isDel":false,"lineBeg":289,"lineEnd":289,"lineMapIndex":19,"methodParents":[],"nodeIndex":50}]