[{"cfgs":[1],"code":"assertThat(mhtn.genSamenessKey()).isNotEqualTo(parseMsgHtmlTagNode(\"<br/>\").genSamenessKey())","dfgs":[1],"fName":"java_tests_com_google_template_soy_soytree_MsgHtmlTagNodeTest.java","fieldParents":[],"isDel":true,"lineBeg":51,"lineEnd":51,"lineMapIndex":147,"methodParents":[],"nodeIndex":0},{"cfgs":[],"code":"assertThat(mhtn.toSourceString()).isEqualTo(\"<br />\")","dfgs":[],"fName":"java_tests_com_google_template_soy_soytree_MsgHtmlTagNodeTest.java","fieldParents":[],"isDel":true,"lineBeg":52,"lineEnd":52,"lineMapIndex":148,"methodParents":[],"nodeIndex":1},{"cfgs":[],"code":"MsgPlaceholderNode repPlaceholderNode =originalMsg.getRepPlaceholderNode(placeholder.getPlaceholderName())","dfgs":[],"fName":"java_src_com_google_template_soy_jbcsrc_MsgCompiler.java","fieldParents":[],"isDel":true,"lineBeg":387,"lineEnd":388,"lineMapIndex":159,"methodParents":[],"nodeIndex":2},{"cfgs":[],"code":"assertThatTemplateBody(\"{@param quota : int}\",\"{@param url : string}\",\"{msg desc=\\\"msg with placeholders.\\\"}\",\"  You're currently using {$quota} MB of your quota.{sp}\",\"  <a href=\\\"{$url}\\\">Learn more</A>\",\"  <br /><br />\",\"{/msg}\",\"{msg meaning=\\\"noun\\\" desc=\\\"\\\" hidden=\\\"true\\\"}Archive{/msg}\",\"{msg meaning=\\\"noun\\\" desc=\\\"The archive (noun).\\\"}Archive{/msg}\",\"{msg meaning=\\\"verb\\\" desc=\\\"\\\"}Archive{/msg}\",\"{msg desc=\\\"\\\"}Archive{/msg}\",\"\").rendersAs(\"You're currently using 26 MB of your quota. \"+ \"<a href=\\\"http://foo.com\\\">Learn more</A>\"+ \"<br /><br />\"+ \"ArchiveArchiveArchiveArchive\",ImmutableMap.of(\"quota\", 26, \"url\", \"http://foo.com\"))","dfgs":[],"fName":"java_tests_com_google_template_soy_jbcsrc_BytecodeCompilerTest.java","fieldParents":[],"isDel":true,"lineBeg":763,"lineEnd":781,"lineMapIndex":162,"methodParents":[],"nodeIndex":3},{"cfgs":[],"code":"TemplateSubject.assertThatTemplateContent(\"\"+ \"{msg meaning=\\\"verb\\\" desc=\\\"\\\"}\\n\"+ \"  Archive\\n\"+ \"{fallbackmsg desc=\\\"\\\"}\\n\"+ \"  Archive\\n\"+ \"{fallbackmsg desc=\\\"\\\"}\\n\"+ \"  Store\\n\"+ \"{/msg}\").causesError(\"parse error at '{fallbackmsg ': expected text, {literal}, {call, {delcall, {msg, \"+ \"{/msg}, {xid, {css, {if, {let, {for, {plural, {select, {switch, \"+ \"{foreach, {log}, {debugger}, {print, {, <, or whitespace\")","dfgs":[],"fName":"java_tests_com_google_template_soy_soyparse_TemplateParserTest.java","fieldParents":[],"isDel":true,"lineBeg":512,"lineEnd":524,"lineMapIndex":172,"methodParents":[],"nodeIndex":4},{"cfgs":[6],"code":"assertEquals(\"<br  phname=\\\"breakTag\\\"/>\", mhtn3.toSourceString())","dfgs":[6],"fName":"java_tests_com_google_template_soy_soyparse_TemplateParserTest.java","fieldParents":[],"isDel":true,"lineBeg":1147,"lineEnd":1147,"lineMapIndex":173,"methodParents":[],"nodeIndex":5},{"cfgs":[],"code":"assertEquals(\"<br  phname=\\\"break_tag\\\"/>\", mhtn5.toSourceString())","dfgs":[],"fName":"java_tests_com_google_template_soy_soyparse_TemplateParserTest.java","fieldParents":[],"isDel":true,"lineBeg":1156,"lineEnd":1156,"lineMapIndex":174,"methodParents":[],"nodeIndex":6},{"cfgs":[8],"code":"private void visitControlFlowBranches(List<BlockNode> branches) ","dfgs":[9,8],"fName":"java_src_com_google_template_soy_passes_DesugarHtmlNodesPass.java","fieldParents":[],"isDel":true,"lineBeg":217,"lineEnd":217,"lineMapIndex":184,"methodParents":[],"nodeIndex":7},{"cfgs":[9],"code":"for (BlockNode child : branches)","dfgs":[9],"fName":"java_src_com_google_template_soy_passes_DesugarHtmlNodesPass.java","fieldParents":[],"isDel":true,"lineBeg":222,"lineEnd":222,"lineMapIndex":185,"methodParents":[],"nodeIndex":8},{"cfgs":[],"code":"visitChildren(child)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_DesugarHtmlNodesPass.java","fieldParents":[],"isDel":true,"lineBeg":223,"lineEnd":223,"lineMapIndex":186,"methodParents":[],"nodeIndex":9},{"cfgs":[],"code":"import com.google.template.soy.soytree.SoyNode.StandaloneNode","dfgs":[],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":true,"lineBeg":36,"lineEnd":36,"lineMapIndex":190,"methodParents":[],"nodeIndex":10},{"cfgs":[],"code":"final List<SoyNode.MsgPlaceholderInitialNode> nodesToReplace = new ArrayList<>()","dfgs":[],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":true,"lineBeg":66,"lineEnd":66,"lineMapIndex":195,"methodParents":[],"nodeIndex":11},{"cfgs":[13],"code":"for (SoyNode.MsgPlaceholderInitialNode node : nodesToReplace)","dfgs":[13],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[11],"isDel":true,"lineBeg":82,"lineEnd":82,"lineMapIndex":196,"methodParents":[],"nodeIndex":12},{"cfgs":[14],"code":"ParentSoyNode<StandaloneNode> parent = node.getParent()","dfgs":[14],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":true,"lineBeg":83,"lineEnd":83,"lineMapIndex":197,"methodParents":[],"nodeIndex":13},{"cfgs":[],"code":"parent.addChild(index, new MsgPlaceholderNode(nodeIdGen.genId(), node))","dfgs":[],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":true,"lineBeg":95,"lineEnd":95,"lineMapIndex":203,"methodParents":[],"nodeIndex":14},{"cfgs":[],"code":"throw new IllegalStateException(node.toSourceString())","dfgs":[],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":true,"lineBeg":141,"lineEnd":141,"lineMapIndex":216,"methodParents":[],"nodeIndex":15},{"cfgs":[],"code":"private void maybeAddAndVisitChildren(SoyNode.MsgPlaceholderInitialNode node) ","dfgs":[],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":true,"lineBeg":144,"lineEnd":144,"lineMapIndex":217,"methodParents":[],"nodeIndex":16},{"cfgs":[18],"code":"assertEquals(\"BREAK_1\", msg.getPlaceholderName(placeholders.get(7)))","dfgs":[18],"fName":"java_tests_com_google_template_soy_soytree_MsgNodeTest.java","fieldParents":[],"isDel":true,"lineBeg":106,"lineEnd":106,"lineMapIndex":218,"methodParents":[],"nodeIndex":17},{"cfgs":[19],"code":"assertEquals(\"BREAK_2\", msg.getPlaceholderName(placeholders.get(8)))","dfgs":[19],"fName":"java_tests_com_google_template_soy_soytree_MsgNodeTest.java","fieldParents":[],"isDel":true,"lineBeg":107,"lineEnd":107,"lineMapIndex":219,"methodParents":[],"nodeIndex":18},{"cfgs":[20],"code":"assertEquals(\"BREAK_2\", msg.getPlaceholderName(placeholders.get(9)))","dfgs":[20],"fName":"java_tests_com_google_template_soy_soytree_MsgNodeTest.java","fieldParents":[],"isDel":true,"lineBeg":108,"lineEnd":108,"lineMapIndex":220,"methodParents":[],"nodeIndex":19},{"cfgs":[21],"code":"assertSame(placeholders.get(7), msg.getRepPlaceholderNode(\"BREAK_1\"))","dfgs":[21],"fName":"java_tests_com_google_template_soy_soytree_MsgNodeTest.java","fieldParents":[],"isDel":true,"lineBeg":132,"lineEnd":132,"lineMapIndex":221,"methodParents":[],"nodeIndex":20},{"cfgs":[22],"code":"assertSame(placeholders.get(8), msg.getRepPlaceholderNode(\"BREAK_2\"))","dfgs":[22],"fName":"java_tests_com_google_template_soy_soytree_MsgNodeTest.java","fieldParents":[],"isDel":true,"lineBeg":133,"lineEnd":133,"lineMapIndex":-1,"methodParents":[],"nodeIndex":21},{"cfgs":[],"code":"assertNotSame(placeholders.get(9), msg.getRepPlaceholderNode(\"BREAK_2\"))","dfgs":[],"fName":"java_tests_com_google_template_soy_soytree_MsgNodeTest.java","fieldParents":[],"isDel":true,"lineBeg":134,"lineEnd":134,"lineMapIndex":-1,"methodParents":[],"nodeIndex":22},{"cfgs":[],"code":"import com.google.template.soy.soytree.MsgHtmlTagNode","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":64,"lineEnd":64,"lineMapIndex":223,"methodParents":[],"nodeIndex":23},{"cfgs":[],"code":"import com.google.template.soy.soytree.MsgPlaceholderNode","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":66,"lineEnd":66,"lineMapIndex":224,"methodParents":[],"nodeIndex":24},{"cfgs":[],"code":"import com.google.template.soy.soytree.MsgPluralCaseNode","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":67,"lineEnd":67,"lineMapIndex":-1,"methodParents":[],"nodeIndex":25},{"cfgs":[],"code":"import com.google.template.soy.soytree.MsgPluralDefaultNode","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":68,"lineEnd":68,"lineMapIndex":-1,"methodParents":[],"nodeIndex":26},{"cfgs":[],"code":"import com.google.template.soy.soytree.MsgSelectCaseNode","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":70,"lineEnd":70,"lineMapIndex":-1,"methodParents":[],"nodeIndex":27},{"cfgs":[],"code":"import com.google.template.soy.soytree.MsgSelectDefaultNode","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":71,"lineEnd":71,"lineMapIndex":-1,"methodParents":[],"nodeIndex":28},{"cfgs":[],"code":"this.extraPasses = ImmutableList.copyOf(extraPasses)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":388,"lineEnd":388,"lineMapIndex":226,"methodParents":[],"nodeIndex":29},{"cfgs":[],"code":"new Visitor(nodeIdGen, file.getFilePath(), errorReporter).exec(file)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":394,"lineEnd":394,"lineMapIndex":227,"methodParents":[33],"nodeIndex":30},{"cfgs":[],"code":"new Visitor(nodeIdGen, file.getFilePath(), errorReporter).exec(clone)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":402,"lineEnd":402,"lineMapIndex":229,"methodParents":[33],"nodeIndex":31},{"cfgs":[],"code":"final AstEdits edits = new AstEdits()","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":458,"lineEnd":458,"lineMapIndex":-1,"methodParents":[],"nodeIndex":32},{"cfgs":[],"code":"Visitor(IdGenerator nodeIdGen, String filePath, ErrorReporter errorReporter) ","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":472,"lineEnd":472,"lineMapIndex":247,"methodParents":[],"nodeIndex":33},{"cfgs":[],"code":"protected void visitMsgFallbackGroupNode(MsgFallbackGroupNode node) ","dfgs":[35],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":1196,"lineEnd":1196,"lineMapIndex":-1,"methodParents":[],"nodeIndex":34},{"cfgs":[36],"code":"processPrintableNode(node)","dfgs":[37,36],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":1197,"lineEnd":1197,"lineMapIndex":-1,"methodParents":[],"nodeIndex":35},{"cfgs":[37],"code":"State oldState = context.setState(State.NONE, node.getSourceLocation().getBeginPoint())","dfgs":[37,38],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":1200,"lineEnd":1200,"lineMapIndex":-1,"methodParents":[],"nodeIndex":36},{"cfgs":[38],"code":"visitChildren(node)","dfgs":[38],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":1201,"lineEnd":1201,"lineMapIndex":-1,"methodParents":[],"nodeIndex":37},{"cfgs":[],"code":"context.setState(oldState, node.getSourceLocation().getEndPoint())","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":1202,"lineEnd":1202,"lineMapIndex":-1,"methodParents":[],"nodeIndex":38},{"cfgs":[],"code":"protected void visitMsgNode(MsgNode node) ","dfgs":[40],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":1208,"lineEnd":1208,"lineMapIndex":-1,"methodParents":[],"nodeIndex":39},{"cfgs":[],"code":"visitChildren(node)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":1209,"lineEnd":1209,"lineMapIndex":-1,"methodParents":[],"nodeIndex":40},{"cfgs":[],"code":"protected void visitMsgHtmlTagNode(MsgHtmlTagNode node) ","dfgs":[42],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":1213,"lineEnd":1213,"lineMapIndex":-1,"methodParents":[],"nodeIndex":41},{"cfgs":[],"code":"visitChildren(node)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":1214,"lineEnd":1214,"lineMapIndex":-1,"methodParents":[],"nodeIndex":42},{"cfgs":[],"code":"protected void visitMsgPluralNode(MsgPluralNode node) ","dfgs":[44],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":1218,"lineEnd":1218,"lineMapIndex":-1,"methodParents":[],"nodeIndex":43},{"cfgs":[],"code":"visitChildren(node)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":1219,"lineEnd":1219,"lineMapIndex":-1,"methodParents":[],"nodeIndex":44},{"cfgs":[],"code":"protected void visitMsgPluralCaseNode(MsgPluralCaseNode node) ","dfgs":[46],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":1223,"lineEnd":1223,"lineMapIndex":-1,"methodParents":[],"nodeIndex":45},{"cfgs":[],"code":"visitChildren(node)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":1224,"lineEnd":1224,"lineMapIndex":-1,"methodParents":[],"nodeIndex":46},{"cfgs":[],"code":"protected void visitMsgPluralDefaultNode(MsgPluralDefaultNode node) ","dfgs":[48],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":1228,"lineEnd":1228,"lineMapIndex":-1,"methodParents":[],"nodeIndex":47},{"cfgs":[],"code":"visitChildren(node)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":1229,"lineEnd":1229,"lineMapIndex":-1,"methodParents":[],"nodeIndex":48},{"cfgs":[],"code":"protected void visitMsgPlaceholderNode(MsgPlaceholderNode node) ","dfgs":[50],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":1233,"lineEnd":1233,"lineMapIndex":-1,"methodParents":[],"nodeIndex":49},{"cfgs":[],"code":"visitChildren(node)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":1234,"lineEnd":1234,"lineMapIndex":-1,"methodParents":[],"nodeIndex":50},{"cfgs":[],"code":"protected void visitMsgSelectNode(MsgSelectNode node) ","dfgs":[52],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":1238,"lineEnd":1238,"lineMapIndex":-1,"methodParents":[],"nodeIndex":51},{"cfgs":[],"code":"visitChildren(node)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":1239,"lineEnd":1239,"lineMapIndex":-1,"methodParents":[],"nodeIndex":52},{"cfgs":[],"code":"protected void visitMsgSelectCaseNode(MsgSelectCaseNode node) ","dfgs":[54],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":1243,"lineEnd":1243,"lineMapIndex":-1,"methodParents":[],"nodeIndex":53},{"cfgs":[],"code":"visitChildren(node)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":1244,"lineEnd":1244,"lineMapIndex":-1,"methodParents":[],"nodeIndex":54},{"cfgs":[],"code":"protected void visitMsgSelectDefaultNode(MsgSelectDefaultNode node) ","dfgs":[56],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":1248,"lineEnd":1248,"lineMapIndex":-1,"methodParents":[],"nodeIndex":55},{"cfgs":[],"code":"visitChildren(node)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":1249,"lineEnd":1249,"lineMapIndex":-1,"methodParents":[],"nodeIndex":56},{"cfgs":[58],"code":"if (!directTagChildren.isEmpty())","dfgs":[58],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":2238,"lineEnd":2238,"lineMapIndex":-1,"methodParents":[],"nodeIndex":57},{"cfgs":[],"code":"errorReporter.report(directTagChildren.get(0).getSourceLocation(), UNEXPECTED_CLOSE_TAG_CONTENT)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":true,"lineBeg":2239,"lineEnd":2240,"lineMapIndex":-1,"methodParents":[],"nodeIndex":58},{"cfgs":[],"code":"expectedJsCode =\"\"+ \"var htmlTag15 = '<span id=\\\"';\\n\"+ \"for (var i10 = 0; i10 < 3; i10++) {\\n\"+ \"  htmlTag15 += i10;\\n\"+ \"}\\n\"+ \"htmlTag15 += '\\\">';\\n\"+ \"var param21 = '';\\n\"+ \"for (var i18 = 0; i18 < 4; i18++) {\\n\"+ \"  param21 += i18;\\n\"+ \"}\\n\"+ \"/** @desc A span with generated id. */\\n\"+ \"var MSG_UNNAMED = goog.getMsg('{$startSpan}{$xxx_1}{$xxx_2}', \"+ \"{'startSpan': htmlTag15, \"+ \"'xxx_1': some.func(soy.$$assignDefaults({goo: param21}, opt_data.boo), null, \"+ \"opt_ijData),\"+ \" 'xxx_2': opt_data.a + 2});\\n\"+ \"output += MSG_UNNAMED;\\n\"","dfgs":[],"fName":"java_tests_com_google_template_soy_jssrc_internal_GenJsCodeVisitorTest.java","fieldParents":[],"isDel":true,"lineBeg":777,"lineEnd":794,"lineMapIndex":301,"methodParents":[],"nodeIndex":59},{"cfgs":[],"code":"assertRender(templateBody,\"You're currently using 26 MB of your quota. \"+ \"<a href=\\\"baz\\\">Learn more</A>\"+ \"<br /><br />\"+ \"ArchiveArchiveArchiveArchive\")","dfgs":[],"fName":"java_tests_com_google_template_soy_sharedpasses_render_RenderVisitorTest.java","fieldParents":[],"isDel":true,"lineBeg":366,"lineEnd":371,"lineMapIndex":302,"methodParents":[],"nodeIndex":60},{"cfgs":[],"code":"import com.google.common.collect.ImmutableList","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":19,"lineEnd":19,"lineMapIndex":303,"methodParents":[],"nodeIndex":61},{"cfgs":[],"code":"import com.google.common.collect.Iterables","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":21,"lineEnd":21,"lineMapIndex":304,"methodParents":[],"nodeIndex":62},{"cfgs":[],"code":"import com.google.template.soy.error.ErrorReporter.Checkpoint","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":26,"lineEnd":26,"lineMapIndex":306,"methodParents":[],"nodeIndex":63},{"cfgs":[],"code":"import com.google.template.soy.error.ExplodingErrorReporter","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":27,"lineEnd":27,"lineMapIndex":305,"methodParents":[],"nodeIndex":64},{"cfgs":[],"code":"import com.google.template.soy.error.SoyErrorKind.StyleAllowance","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":29,"lineEnd":29,"lineMapIndex":307,"methodParents":[],"nodeIndex":65},{"cfgs":[],"code":"import java.util.ArrayList","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":32,"lineEnd":32,"lineMapIndex":-1,"methodParents":[],"nodeIndex":66},{"cfgs":[],"code":"import java.util.List","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":33,"lineEnd":33,"lineMapIndex":-1,"methodParents":[],"nodeIndex":67},{"cfgs":[],"code":"import java.util.Locale","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":34,"lineEnd":34,"lineMapIndex":-1,"methodParents":[],"nodeIndex":68},{"cfgs":[],"code":"import java.util.regex.Matcher","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":35,"lineEnd":35,"lineMapIndex":-1,"methodParents":[],"nodeIndex":69},{"cfgs":[],"code":"import java.util.regex.Pattern","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":36,"lineEnd":36,"lineMapIndex":-1,"methodParents":[],"nodeIndex":70},{"cfgs":[72],"code":"private static final SoyErrorKind HTML_COMMENT_WITHIN_MSG_BLOCK =SoyErrorKind.of(\"Found HTML comment within ''msg'' block: {0}\", StyleAllowance.NO_PUNCTUATION)","dfgs":[72],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":47,"lineEnd":49,"lineMapIndex":-1,"methodParents":[],"nodeIndex":71},{"cfgs":[73],"code":"private static final SoyErrorKind UNNAMED_HTML_TAG_WITHIN_MSG_BLOCK =SoyErrorKind.of(\"HTML tag within ''msg'' block has no tag name: {0}\", StyleAllowance.NO_PUNCTUATION)","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":50,"lineEnd":52,"lineMapIndex":-1,"methodParents":[],"nodeIndex":72},{"cfgs":[74],"code":"private static final Pattern PHNAME_ATTR_PATTERN =Pattern.compile(\"\\\\s phname=\\\" ( [^\\\"]* ) \\\"\", Pattern.COMMENTS)","dfgs":[74],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":59,"lineEnd":60,"lineMapIndex":-1,"methodParents":[],"nodeIndex":73},{"cfgs":[],"code":"private static final Pattern TAG_NAME_PATTERN =Pattern.compile(\"(?<= ^< ) /? [a-zA-Z0-9]+\", Pattern.COMMENTS)","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":63,"lineEnd":64,"lineMapIndex":-1,"methodParents":[],"nodeIndex":74},{"cfgs":[76],"code":"private MsgHtmlTagNode(int id,SourceLocation sourceLocation,String userSuppliedPlaceholderName,String lcTagName,boolean isSelfEnding,boolean isOnlyRawText,String fullTagText,List<StandaloneNode> children)","dfgs":[76],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":101,"lineEnd":109,"lineMapIndex":354,"methodParents":[],"nodeIndex":75},{"cfgs":[],"code":"addChildren(children)","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[82],"isDel":true,"lineBeg":116,"lineEnd":116,"lineMapIndex":355,"methodParents":[],"nodeIndex":76},{"cfgs":[],"code":"return basePlaceholderName.toUpperCase()","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":182,"lineEnd":182,"lineMapIndex":358,"methodParents":[],"nodeIndex":77},{"cfgs":[],"code":"public static final class Builder ","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":234,"lineEnd":234,"lineMapIndex":-1,"methodParents":[],"nodeIndex":78},{"cfgs":[80],"code":"private static MsgHtmlTagNode error(SourceLocation location) ","dfgs":[80],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":236,"lineEnd":236,"lineMapIndex":-1,"methodParents":[],"nodeIndex":79},{"cfgs":[],"code":"return new Builder(-1,ImmutableList.<StandaloneNode>of(new RawTextNode(-1, \"<body/>\", location)),location).build(ExplodingErrorReporter.get())","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":237,"lineEnd":241,"lineMapIndex":-1,"methodParents":[88],"nodeIndex":80},{"cfgs":[],"code":"private final int id","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":244,"lineEnd":244,"lineMapIndex":-1,"methodParents":[],"nodeIndex":81},{"cfgs":[],"code":"private ImmutableList<StandaloneNode> children","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":245,"lineEnd":245,"lineMapIndex":-1,"methodParents":[],"nodeIndex":82},{"cfgs":[],"code":"private final SourceLocation sourceLocation","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":246,"lineEnd":246,"lineMapIndex":-1,"methodParents":[],"nodeIndex":83},{"cfgs":[85],"code":"public Builder(int id, ImmutableList<StandaloneNode> children, SourceLocation sourceLocation) ","dfgs":[85,86,87],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":253,"lineEnd":253,"lineMapIndex":-1,"methodParents":[],"nodeIndex":84},{"cfgs":[86],"code":"this.id = id","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[81],"isDel":true,"lineBeg":254,"lineEnd":254,"lineMapIndex":-1,"methodParents":[],"nodeIndex":85},{"cfgs":[87],"code":"this.children = children","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[82],"isDel":true,"lineBeg":255,"lineEnd":255,"lineMapIndex":-1,"methodParents":[],"nodeIndex":86},{"cfgs":[],"code":"this.sourceLocation = sourceLocation","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[83],"isDel":true,"lineBeg":256,"lineEnd":256,"lineMapIndex":-1,"methodParents":[],"nodeIndex":87},{"cfgs":[89],"code":"public MsgHtmlTagNode build(ErrorReporter errorReporter) ","dfgs":[97,89,90,91,92,93,94,95,96],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":263,"lineEnd":263,"lineMapIndex":-1,"methodParents":[],"nodeIndex":88},{"cfgs":[90],"code":"Checkpoint checkpoint = errorReporter.checkpoint()","dfgs":[90,95],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":264,"lineEnd":264,"lineMapIndex":-1,"methodParents":[],"nodeIndex":89},{"cfgs":[91],"code":"String userSuppliedPlaceholderName = computePlaceholderName(errorReporter)","dfgs":[91,97],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":266,"lineEnd":266,"lineMapIndex":311,"methodParents":[120],"nodeIndex":90},{"cfgs":[92],"code":"String lcTagName = computeLcTagName(errorReporter)","dfgs":[92,95,97],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":267,"lineEnd":267,"lineMapIndex":330,"methodParents":[110],"nodeIndex":91},{"cfgs":[93],"code":"boolean selfEnding = isSelfEnding()","dfgs":[94,93,97],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":268,"lineEnd":268,"lineMapIndex":-1,"methodParents":[98],"nodeIndex":92},{"cfgs":[94],"code":"boolean isOnlyRawText = children.size() == 1","dfgs":[94,97],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[82],"isDel":true,"lineBeg":269,"lineEnd":269,"lineMapIndex":-1,"methodParents":[],"nodeIndex":93},{"cfgs":[95],"code":"String fullTagText = computeFullTagText()","dfgs":[97,96],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":270,"lineEnd":270,"lineMapIndex":-1,"methodParents":[102],"nodeIndex":94},{"cfgs":[96,97],"code":"if (errorReporter.errorsSince(checkpoint))","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":272,"lineEnd":272,"lineMapIndex":-1,"methodParents":[],"nodeIndex":95},{"cfgs":[],"code":"return error(sourceLocation)","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[83],"isDel":true,"lineBeg":273,"lineEnd":273,"lineMapIndex":-1,"methodParents":[79],"nodeIndex":96},{"cfgs":[],"code":"return new MsgHtmlTagNode(id,sourceLocation,userSuppliedPlaceholderName,lcTagName,selfEnding,isOnlyRawText,fullTagText,children)","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[81],"isDel":true,"lineBeg":276,"lineEnd":284,"lineMapIndex":-1,"methodParents":[75],"nodeIndex":97},{"cfgs":[99],"code":"private boolean isSelfEnding() ","dfgs":[99,100,101],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":287,"lineEnd":287,"lineMapIndex":-1,"methodParents":[],"nodeIndex":98},{"cfgs":[100],"code":"int numChildren = children.size()","dfgs":[100],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[82],"isDel":true,"lineBeg":288,"lineEnd":288,"lineMapIndex":-1,"methodParents":[],"nodeIndex":99},{"cfgs":[101],"code":"String lastChildText = ((RawTextNode) children.get(numChildren - 1)).getRawText()","dfgs":[101],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[82],"isDel":true,"lineBeg":289,"lineEnd":289,"lineMapIndex":-1,"methodParents":[],"nodeIndex":100},{"cfgs":[],"code":"return lastChildText.endsWith(\"/>\")","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":290,"lineEnd":290,"lineMapIndex":-1,"methodParents":[],"nodeIndex":101},{"cfgs":[103],"code":"private String computeFullTagText() ","dfgs":[103,109,104,105,106,108,107],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":293,"lineEnd":293,"lineMapIndex":-1,"methodParents":[],"nodeIndex":102},{"cfgs":[104],"code":"String fullTagText = null","dfgs":[109],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":294,"lineEnd":294,"lineMapIndex":-1,"methodParents":[],"nodeIndex":103},{"cfgs":[105,109],"code":"if (children.size() == 1)","dfgs":[106],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[82],"isDel":true,"lineBeg":295,"lineEnd":295,"lineMapIndex":-1,"methodParents":[],"nodeIndex":104},{"cfgs":[106],"code":"StringBuilder fullTagTextSb = new StringBuilder()","dfgs":[108,107],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":296,"lineEnd":296,"lineMapIndex":-1,"methodParents":[],"nodeIndex":105},{"cfgs":[108,107],"code":"for (StandaloneNode child : children)","dfgs":[107],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[82],"isDel":true,"lineBeg":297,"lineEnd":297,"lineMapIndex":-1,"methodParents":[],"nodeIndex":106},{"cfgs":[],"code":"fullTagTextSb.append(child.toSourceString())","dfgs":[108],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":298,"lineEnd":298,"lineMapIndex":-1,"methodParents":[],"nodeIndex":107},{"cfgs":[109],"code":"fullTagText = fullTagTextSb.toString()","dfgs":[109],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":300,"lineEnd":300,"lineMapIndex":-1,"methodParents":[],"nodeIndex":108},{"cfgs":[],"code":"return fullTagText","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":302,"lineEnd":302,"lineMapIndex":-1,"methodParents":[],"nodeIndex":109},{"cfgs":[111],"code":"private String computeLcTagName(ErrorReporter errorReporter) ","dfgs":[111,112,118,113,119,114,115,117],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":305,"lineEnd":305,"lineMapIndex":-1,"methodParents":[],"nodeIndex":110},{"cfgs":[112],"code":"String firstChildText = ((RawTextNode) children.get(0)).getRawText()","dfgs":[112],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[82],"isDel":true,"lineBeg":306,"lineEnd":306,"lineMapIndex":-1,"methodParents":[],"nodeIndex":111},{"cfgs":[113],"code":"Matcher matcher = TAG_NAME_PATTERN.matcher(firstChildText)","dfgs":[113,114],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[74],"isDel":true,"lineBeg":307,"lineEnd":307,"lineMapIndex":-1,"methodParents":[],"nodeIndex":112},{"cfgs":[114,119],"code":"if (!matcher.find())","dfgs":[119],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":308,"lineEnd":308,"lineMapIndex":-1,"methodParents":[],"nodeIndex":113},{"cfgs":[115,116],"code":"if (firstChildText.startsWith(\"<!--\"))","dfgs":[115,117],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":309,"lineEnd":309,"lineMapIndex":-1,"methodParents":[],"nodeIndex":114},{"cfgs":[118],"code":"errorReporter.report(sourceLocation, HTML_COMMENT_WITHIN_MSG_BLOCK, firstChildText)","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[71],"isDel":true,"lineBeg":310,"lineEnd":310,"lineMapIndex":-1,"methodParents":[],"nodeIndex":115},{"cfgs":[117],"code":"else","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":311,"lineEnd":311,"lineMapIndex":-1,"methodParents":[],"nodeIndex":116},{"cfgs":[118],"code":"errorReporter.report(sourceLocation, UNNAMED_HTML_TAG_WITHIN_MSG_BLOCK, firstChildText)","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[72],"isDel":true,"lineBeg":312,"lineEnd":312,"lineMapIndex":-1,"methodParents":[],"nodeIndex":117},{"cfgs":[],"code":"return null","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":314,"lineEnd":314,"lineMapIndex":329,"methodParents":[],"nodeIndex":118},{"cfgs":[],"code":"return matcher.group().toLowerCase(Locale.ENGLISH)","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":316,"lineEnd":316,"lineMapIndex":-1,"methodParents":[],"nodeIndex":119},{"cfgs":[121],"code":"private String computePlaceholderName(ErrorReporter errorReporter) ","dfgs":[121,122,123,125,126,129,131,124,130,127,128],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":319,"lineEnd":319,"lineMapIndex":-1,"methodParents":[],"nodeIndex":120},{"cfgs":[122],"code":"List<String> names = new ArrayList<>()","dfgs":[126,124],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":320,"lineEnd":320,"lineMapIndex":-1,"methodParents":[],"nodeIndex":121},{"cfgs":[123],"code":"ImmutableList.Builder<StandaloneNode> transformedChildren = new ImmutableList.Builder<>()","dfgs":[125,124],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":321,"lineEnd":321,"lineMapIndex":-1,"methodParents":[],"nodeIndex":122},{"cfgs":[125,124],"code":"for (StandaloneNode child : children)","dfgs":[124],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[82],"isDel":true,"lineBeg":322,"lineEnd":322,"lineMapIndex":-1,"methodParents":[],"nodeIndex":123},{"cfgs":[],"code":"transformedChildren.add(extractPlaceholderName(child, names))","dfgs":[125,126,130,128],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":323,"lineEnd":323,"lineMapIndex":-1,"methodParents":[132],"nodeIndex":124},{"cfgs":[126],"code":"children = transformedChildren.build()","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[82],"isDel":true,"lineBeg":325,"lineEnd":325,"lineMapIndex":-1,"methodParents":[],"nodeIndex":125},{"cfgs":[129,127],"code":"for (String name : names)","dfgs":[129,127],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":327,"lineEnd":327,"lineMapIndex":-1,"methodParents":[],"nodeIndex":126},{"cfgs":[128],"code":"if (!BaseUtils.isIdentifier(name))","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":328,"lineEnd":328,"lineMapIndex":-1,"methodParents":[],"nodeIndex":127},{"cfgs":[],"code":"errorReporter.report(sourceLocation, INVALID_PHNAME_ATTRIBUTE)","dfgs":[130],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[83],"isDel":true,"lineBeg":329,"lineEnd":329,"lineMapIndex":344,"methodParents":[],"nodeIndex":128},{"cfgs":[130,131],"code":"if (names.size() > 1)","dfgs":[131],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":333,"lineEnd":333,"lineMapIndex":333,"methodParents":[],"nodeIndex":129},{"cfgs":[131],"code":"errorReporter.report(sourceLocation, MULTIPLE_PHNAME_ATTRIBUTES)","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[83],"isDel":true,"lineBeg":334,"lineEnd":334,"lineMapIndex":334,"methodParents":[],"nodeIndex":130},{"cfgs":[],"code":"return Iterables.getFirst(names, null)","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":337,"lineEnd":337,"lineMapIndex":-1,"methodParents":[],"nodeIndex":131},{"cfgs":[133],"code":"private static StandaloneNode extractPlaceholderName(StandaloneNode node, List<String> names)","dfgs":[146,135,136,137,138,133,134,145,143,141,142,144,140],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":340,"lineEnd":341,"lineMapIndex":-1,"methodParents":[],"nodeIndex":132},{"cfgs":[134,135],"code":"if (!(node instanceof RawTextNode))","dfgs":[146,134,135,145],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":342,"lineEnd":342,"lineMapIndex":-1,"methodParents":[],"nodeIndex":133},{"cfgs":[],"code":"return node","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":343,"lineEnd":343,"lineMapIndex":-1,"methodParents":[],"nodeIndex":134},{"cfgs":[136],"code":"String rawText = ((RawTextNode) node).getRawText()","dfgs":[136],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":345,"lineEnd":345,"lineMapIndex":-1,"methodParents":[],"nodeIndex":135},{"cfgs":[137],"code":"Matcher matcher = PHNAME_ATTR_PATTERN.matcher(rawText)","dfgs":[137,138],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[73],"isDel":true,"lineBeg":346,"lineEnd":346,"lineMapIndex":-1,"methodParents":[],"nodeIndex":136},{"cfgs":[138,146],"code":"if (matcher.find())","dfgs":[140],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":348,"lineEnd":348,"lineMapIndex":-1,"methodParents":[],"nodeIndex":137},{"cfgs":[139],"code":"StringBuffer sb = new StringBuffer(rawText.length())","dfgs":[142],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":349,"lineEnd":349,"lineMapIndex":-1,"methodParents":[],"nodeIndex":138},{"cfgs":[140],"code":"d","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":350,"lineEnd":350,"lineMapIndex":-1,"methodParents":[],"nodeIndex":139},{"cfgs":[141],"code":"String userSuppliedPlaceholderName = matcher.group(1)","dfgs":[141,142],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":351,"lineEnd":351,"lineMapIndex":-1,"methodParents":[],"nodeIndex":140},{"cfgs":[142],"code":"names.add(userSuppliedPlaceholderName)","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":352,"lineEnd":352,"lineMapIndex":-1,"methodParents":[],"nodeIndex":141},{"cfgs":[143],"code":"matcher.appendReplacement(sb, \"\")","dfgs":[143,144],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":353,"lineEnd":353,"lineMapIndex":-1,"methodParents":[],"nodeIndex":142},{"cfgs":[144],"code":"while (matcher.find())","dfgs":[144],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":354,"lineEnd":354,"lineMapIndex":-1,"methodParents":[],"nodeIndex":143},{"cfgs":[145],"code":"String replacementText = matcher.appendTail(sb).toString()","dfgs":[145],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":355,"lineEnd":355,"lineMapIndex":-1,"methodParents":[],"nodeIndex":144},{"cfgs":[],"code":"return new RawTextNode(node.getId(), replacementText, node.getSourceLocation())","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":356,"lineEnd":356,"lineMapIndex":-1,"methodParents":[],"nodeIndex":145},{"cfgs":[],"code":"return node","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":true,"lineBeg":358,"lineEnd":358,"lineMapIndex":-1,"methodParents":[],"nodeIndex":146},{"cfgs":[148],"code":"assertThat(mhtn.genSamenessKey()).isEqualTo(parseMsgHtmlTagNode(\"<br/>\").genSamenessKey())","dfgs":[148],"fName":"java_tests_com_google_template_soy_soytree_MsgHtmlTagNodeTest.java","fieldParents":[],"isDel":false,"lineBeg":51,"lineEnd":51,"lineMapIndex":0,"methodParents":[],"nodeIndex":147},{"cfgs":[],"code":"assertThat(mhtn.toSourceString()).isEqualTo(\"<br/>\")","dfgs":[],"fName":"java_tests_com_google_template_soy_soytree_MsgHtmlTagNodeTest.java","fieldParents":[],"isDel":false,"lineBeg":52,"lineEnd":52,"lineMapIndex":1,"methodParents":[],"nodeIndex":148},{"cfgs":[],"code":"public void testPlaceholderCustomTagNameWithHyphen() ","dfgs":[],"fName":"java_tests_com_google_template_soy_soytree_MsgHtmlTagNodeTest.java","fieldParents":[],"isDel":false,"lineBeg":83,"lineEnd":83,"lineMapIndex":-1,"methodParents":[],"nodeIndex":149},{"cfgs":[151],"code":"MsgHtmlTagNode mhtn = parseMsgHtmlTagNode(\"<foo-bar>\")","dfgs":[151],"fName":"java_tests_com_google_template_soy_soytree_MsgHtmlTagNodeTest.java","fieldParents":[],"isDel":false,"lineBeg":84,"lineEnd":84,"lineMapIndex":-1,"methodParents":[],"nodeIndex":150},{"cfgs":[152],"code":"assertThat(mhtn.genBasePhName()).isEqualTo(\"START_FOO_BAR\")","dfgs":[152],"fName":"java_tests_com_google_template_soy_soytree_MsgHtmlTagNodeTest.java","fieldParents":[],"isDel":false,"lineBeg":85,"lineEnd":85,"lineMapIndex":-1,"methodParents":[357],"nodeIndex":151},{"cfgs":[153],"code":"mhtn = parseMsgHtmlTagNode(\"<foo-bar />\")","dfgs":[153],"fName":"java_tests_com_google_template_soy_soytree_MsgHtmlTagNodeTest.java","fieldParents":[],"isDel":false,"lineBeg":86,"lineEnd":86,"lineMapIndex":-1,"methodParents":[],"nodeIndex":152},{"cfgs":[],"code":"assertThat(mhtn.genBasePhName()).isEqualTo(\"FOO_BAR\")","dfgs":[],"fName":"java_tests_com_google_template_soy_soytree_MsgHtmlTagNodeTest.java","fieldParents":[],"isDel":false,"lineBeg":87,"lineEnd":87,"lineMapIndex":-1,"methodParents":[357],"nodeIndex":153},{"cfgs":[],"code":"public void testAutomaticPlaceholderName() ","dfgs":[],"fName":"java_tests_com_google_template_soy_soytree_MsgHtmlTagNodeTest.java","fieldParents":[],"isDel":false,"lineBeg":91,"lineEnd":91,"lineMapIndex":-1,"methodParents":[],"nodeIndex":154},{"cfgs":[156],"code":"MsgHtmlTagNode mhtn = parseMsgHtmlTagNode(\"<h2>\")","dfgs":[156],"fName":"java_tests_com_google_template_soy_soytree_MsgHtmlTagNodeTest.java","fieldParents":[],"isDel":false,"lineBeg":92,"lineEnd":92,"lineMapIndex":-1,"methodParents":[],"nodeIndex":155},{"cfgs":[157],"code":"assertThat(mhtn.genBasePhName()).isEqualTo(\"START_H2\")","dfgs":[157],"fName":"java_tests_com_google_template_soy_soytree_MsgHtmlTagNodeTest.java","fieldParents":[],"isDel":false,"lineBeg":93,"lineEnd":93,"lineMapIndex":-1,"methodParents":[357],"nodeIndex":156},{"cfgs":[158],"code":"mhtn = parseMsgHtmlTagNode(\"</h2>\")","dfgs":[158],"fName":"java_tests_com_google_template_soy_soytree_MsgHtmlTagNodeTest.java","fieldParents":[],"isDel":false,"lineBeg":94,"lineEnd":94,"lineMapIndex":-1,"methodParents":[],"nodeIndex":157},{"cfgs":[],"code":"assertThat(mhtn.genBasePhName()).isEqualTo(\"END_H2\")","dfgs":[],"fName":"java_tests_com_google_template_soy_soytree_MsgHtmlTagNodeTest.java","fieldParents":[],"isDel":false,"lineBeg":95,"lineEnd":95,"lineMapIndex":-1,"methodParents":[357],"nodeIndex":158},{"cfgs":[160],"code":"MsgPlaceholderNode repPlaceholderNode =originalMsg.getRepPlaceholderNode(placeholder.getPlaceholderName())","dfgs":[160],"fName":"java_src_com_google_template_soy_jbcsrc_MsgCompiler.java","fieldParents":[],"isDel":false,"lineBeg":389,"lineEnd":390,"lineMapIndex":2,"methodParents":[],"nodeIndex":159},{"cfgs":[161],"code":"if (repPlaceholderNode.numChildren() == 0)","dfgs":[],"fName":"java_src_com_google_template_soy_jbcsrc_MsgCompiler.java","fieldParents":[],"isDel":false,"lineBeg":391,"lineEnd":391,"lineMapIndex":-1,"methodParents":[],"nodeIndex":160},{"cfgs":[],"code":"throw new IllegalStateException(\"empty rep node for: \" + placeholderName)","dfgs":[],"fName":"java_src_com_google_template_soy_jbcsrc_MsgCompiler.java","fieldParents":[],"isDel":false,"lineBeg":392,"lineEnd":392,"lineMapIndex":-1,"methodParents":[],"nodeIndex":161},{"cfgs":[],"code":"assertThatTemplateBody(\"{@param quota : int}\",\"{@param url : string}\",\"{msg desc=\\\"msg with placeholders.\\\"}\",\"  You're currently using {$quota} MB of your quota.{sp}\",\"  <a href=\\\"{$url}\\\">Learn more</A>\",\"  <br /><br />\",\"{/msg}\",\"{msg meaning=\\\"noun\\\" desc=\\\"\\\" hidden=\\\"true\\\"}Archive{/msg}\",\"{msg meaning=\\\"noun\\\" desc=\\\"The archive (noun).\\\"}Archive{/msg}\",\"{msg meaning=\\\"verb\\\" desc=\\\"\\\"}Archive{/msg}\",\"{msg desc=\\\"\\\"}Archive{/msg}\",\"\").rendersAs(\"You're currently using 26 MB of your quota. \"+ \"<a href=\\\"http://foo.com\\\">Learn more</A>\"+ \"<br/><br/>\"+ \"ArchiveArchiveArchiveArchive\",ImmutableMap.of(\"quota\", 26, \"url\", \"http://foo.com\"))","dfgs":[],"fName":"java_tests_com_google_template_soy_jbcsrc_BytecodeCompilerTest.java","fieldParents":[],"isDel":false,"lineBeg":763,"lineEnd":781,"lineMapIndex":3,"methodParents":[],"nodeIndex":162},{"cfgs":[],"code":"import javax.annotation.Nullable","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_HtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":24,"lineEnd":24,"lineMapIndex":-1,"methodParents":[],"nodeIndex":163},{"cfgs":[165],"code":"public HtmlAttributeNode getPhNameNode() ","dfgs":[171,165,166,167,168,169,170],"fName":"java_src_com_google_template_soy_soytree_HtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":65,"lineEnd":65,"lineMapIndex":-1,"methodParents":[],"nodeIndex":164},{"cfgs":[166,171],"code":"for (int i = 1; i < numChildren(); i++)","dfgs":[166],"fName":"java_src_com_google_template_soy_soytree_HtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":67,"lineEnd":67,"lineMapIndex":-1,"methodParents":[],"nodeIndex":165},{"cfgs":[167],"code":"StandaloneNode child = getChild(i)","dfgs":[167],"fName":"java_src_com_google_template_soy_soytree_HtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":68,"lineEnd":68,"lineMapIndex":-1,"methodParents":[],"nodeIndex":166},{"cfgs":[168],"code":"if (child instanceof HtmlAttributeNode)","dfgs":[168],"fName":"java_src_com_google_template_soy_soytree_HtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":69,"lineEnd":69,"lineMapIndex":-1,"methodParents":[],"nodeIndex":167},{"cfgs":[169],"code":"HtmlAttributeNode attr = (HtmlAttributeNode) child","dfgs":[169],"fName":"java_src_com_google_template_soy_soytree_HtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":70,"lineEnd":70,"lineMapIndex":-1,"methodParents":[],"nodeIndex":168},{"cfgs":[170],"code":"if (attr.definitelyMatchesAttributeName(\"phname\") && attr.hasValue())","dfgs":[170],"fName":"java_src_com_google_template_soy_soytree_HtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":71,"lineEnd":71,"lineMapIndex":-1,"methodParents":[188],"nodeIndex":169},{"cfgs":[],"code":"return attr","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_HtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":73,"lineEnd":73,"lineMapIndex":-1,"methodParents":[],"nodeIndex":170},{"cfgs":[],"code":"return null","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_HtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":77,"lineEnd":77,"lineMapIndex":-1,"methodParents":[],"nodeIndex":171},{"cfgs":[],"code":"TemplateSubject.assertThatTemplateContent(\"\"+ \"{msg meaning=\\\"verb\\\" desc=\\\"\\\"}\\n\"+ \"  Archive\\n\"+ \"{fallbackmsg desc=\\\"\\\"}\\n\"+ \"  Archive\\n\"+ \"{fallbackmsg desc=\\\"\\\"}\\n\"+ \"  Store\\n\"+ \"{/msg}\").causesError(\"parse error at '{fallbackmsg ': expected text, {literal}, {call, {delcall, {msg, \"+ \"{/msg}, {xid, {css, {if, {let, {for, {plural, {select, {switch, \"+ \"{foreach, {log}, {debugger}, {print, {, or whitespace\")","dfgs":[],"fName":"java_tests_com_google_template_soy_soyparse_TemplateParserTest.java","fieldParents":[],"isDel":false,"lineBeg":512,"lineEnd":524,"lineMapIndex":4,"methodParents":[],"nodeIndex":172},{"cfgs":[174],"code":"assertEquals(\"<br phname=\\\"breakTag\\\"/>\", mhtn3.toSourceString())","dfgs":[174],"fName":"java_tests_com_google_template_soy_soyparse_TemplateParserTest.java","fieldParents":[],"isDel":false,"lineBeg":1147,"lineEnd":1147,"lineMapIndex":5,"methodParents":[],"nodeIndex":173},{"cfgs":[],"code":"assertEquals(\"<br phname=\\\"break_tag\\\"/>\", mhtn5.toSourceString())","dfgs":[],"fName":"java_tests_com_google_template_soy_soyparse_TemplateParserTest.java","fieldParents":[],"isDel":false,"lineBeg":1156,"lineEnd":1156,"lineMapIndex":6,"methodParents":[],"nodeIndex":174},{"cfgs":[],"code":"import com.google.template.soy.soytree.MsgFallbackGroupNode","dfgs":[],"fName":"java_src_com_google_template_soy_passes_DesugarHtmlNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":36,"lineEnd":36,"lineMapIndex":-1,"methodParents":[],"nodeIndex":175},{"cfgs":[],"code":"import com.google.template.soy.soytree.MsgPluralNode","dfgs":[],"fName":"java_src_com_google_template_soy_passes_DesugarHtmlNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":37,"lineEnd":37,"lineMapIndex":-1,"methodParents":[],"nodeIndex":176},{"cfgs":[],"code":"import com.google.template.soy.soytree.MsgSelectNode","dfgs":[],"fName":"java_src_com_google_template_soy_passes_DesugarHtmlNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":38,"lineEnd":38,"lineMapIndex":-1,"methodParents":[],"nodeIndex":177},{"cfgs":[],"code":"protected void visitMsgFallbackGroupNode(MsgFallbackGroupNode node) ","dfgs":[179],"fName":"java_src_com_google_template_soy_passes_DesugarHtmlNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":221,"lineEnd":221,"lineMapIndex":-1,"methodParents":[],"nodeIndex":178},{"cfgs":[],"code":"visitControlFlowBranches(node.getChildren())","dfgs":[],"fName":"java_src_com_google_template_soy_passes_DesugarHtmlNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":222,"lineEnd":222,"lineMapIndex":-1,"methodParents":[184],"nodeIndex":179},{"cfgs":[],"code":"protected void visitMsgPluralNode(MsgPluralNode node) ","dfgs":[181],"fName":"java_src_com_google_template_soy_passes_DesugarHtmlNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":226,"lineEnd":226,"lineMapIndex":-1,"methodParents":[],"nodeIndex":180},{"cfgs":[],"code":"visitControlFlowBranches(node.getChildren())","dfgs":[],"fName":"java_src_com_google_template_soy_passes_DesugarHtmlNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":227,"lineEnd":227,"lineMapIndex":-1,"methodParents":[184],"nodeIndex":181},{"cfgs":[],"code":"protected void visitMsgSelectNode(MsgSelectNode node) ","dfgs":[183],"fName":"java_src_com_google_template_soy_passes_DesugarHtmlNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":231,"lineEnd":231,"lineMapIndex":-1,"methodParents":[],"nodeIndex":182},{"cfgs":[],"code":"visitControlFlowBranches(node.getChildren())","dfgs":[],"fName":"java_src_com_google_template_soy_passes_DesugarHtmlNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":232,"lineEnd":232,"lineMapIndex":-1,"methodParents":[184],"nodeIndex":183},{"cfgs":[185],"code":"private void visitControlFlowBranches(List<? extends ParentSoyNode<?>> branches) ","dfgs":[186,185],"fName":"java_src_com_google_template_soy_passes_DesugarHtmlNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":235,"lineEnd":235,"lineMapIndex":7,"methodParents":[],"nodeIndex":184},{"cfgs":[186],"code":"for (ParentSoyNode<?> branch : branches)","dfgs":[186],"fName":"java_src_com_google_template_soy_passes_DesugarHtmlNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":240,"lineEnd":240,"lineMapIndex":8,"methodParents":[],"nodeIndex":185},{"cfgs":[],"code":"visitChildren(branch)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_DesugarHtmlNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":241,"lineEnd":241,"lineMapIndex":9,"methodParents":[],"nodeIndex":186},{"cfgs":[],"code":"import com.google.common.base.Ascii","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_HtmlAttributeNode.java","fieldParents":[],"isDel":false,"lineBeg":21,"lineEnd":21,"lineMapIndex":-1,"methodParents":[],"nodeIndex":187},{"cfgs":[189],"code":"public boolean definitelyMatchesAttributeName(String attributeName) ","dfgs":[189],"fName":"java_src_com_google_template_soy_soytree_HtmlAttributeNode.java","fieldParents":[],"isDel":false,"lineBeg":63,"lineEnd":63,"lineMapIndex":-1,"methodParents":[],"nodeIndex":188},{"cfgs":[],"code":"return getChild(0) instanceof RawTextNode&& Ascii.equalsIgnoreCase(attributeName, ((RawTextNode) getChild(0)).getRawText())","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_HtmlAttributeNode.java","fieldParents":[],"isDel":false,"lineBeg":64,"lineEnd":65,"lineMapIndex":-1,"methodParents":[],"nodeIndex":189},{"cfgs":[],"code":"import com.google.template.soy.soytree.HtmlAttributeNode","dfgs":[],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":24,"lineEnd":24,"lineMapIndex":10,"methodParents":[],"nodeIndex":190},{"cfgs":[],"code":"import com.google.template.soy.soytree.HtmlAttributeValueNode","dfgs":[],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":25,"lineEnd":25,"lineMapIndex":-1,"methodParents":[],"nodeIndex":191},{"cfgs":[],"code":"import com.google.template.soy.soytree.HtmlCloseTagNode","dfgs":[],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":26,"lineEnd":26,"lineMapIndex":-1,"methodParents":[],"nodeIndex":192},{"cfgs":[],"code":"import com.google.template.soy.soytree.HtmlOpenTagNode","dfgs":[],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":27,"lineEnd":27,"lineMapIndex":-1,"methodParents":[],"nodeIndex":193},{"cfgs":[],"code":"import com.google.template.soy.soytree.HtmlTagNode","dfgs":[],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":28,"lineEnd":28,"lineMapIndex":-1,"methodParents":[],"nodeIndex":194},{"cfgs":[],"code":"final List<SoyNode> nodesToReplace = new ArrayList<>()","dfgs":[],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":70,"lineEnd":70,"lineMapIndex":11,"methodParents":[],"nodeIndex":195},{"cfgs":[197],"code":"for (SoyNode node : nodesToReplace)","dfgs":[197],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[195],"isDel":false,"lineBeg":86,"lineEnd":86,"lineMapIndex":12,"methodParents":[],"nodeIndex":196},{"cfgs":[199],"code":"ParentSoyNode<?> parent = node.getParent()","dfgs":[203,199],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":87,"lineEnd":87,"lineMapIndex":13,"methodParents":[],"nodeIndex":197},{"cfgs":[],"code":"MsgPlaceholderInitialNode newNode","dfgs":[],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":99,"lineEnd":99,"lineMapIndex":-1,"methodParents":[],"nodeIndex":198},{"cfgs":[200,201],"code":"if (node instanceof HtmlTagNode)","dfgs":[202,200],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":100,"lineEnd":100,"lineMapIndex":-1,"methodParents":[],"nodeIndex":199},{"cfgs":[203],"code":"newNode = MsgHtmlTagNode.fromNode(nodeIdGen.genId(), (HtmlTagNode) node, errorReporter)","dfgs":[203],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":101,"lineEnd":101,"lineMapIndex":-1,"methodParents":[309],"nodeIndex":200},{"cfgs":[202],"code":"else","dfgs":[],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":102,"lineEnd":102,"lineMapIndex":-1,"methodParents":[],"nodeIndex":201},{"cfgs":[203],"code":"newNode = (MsgPlaceholderInitialNode) node","dfgs":[203],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":104,"lineEnd":104,"lineMapIndex":-1,"methodParents":[],"nodeIndex":202},{"cfgs":[],"code":"((MsgBlockNode) parent).addChild(index, new MsgPlaceholderNode(nodeIdGen.genId(), newNode))","dfgs":[],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":106,"lineEnd":106,"lineMapIndex":14,"methodParents":[282],"nodeIndex":203},{"cfgs":[],"code":"throw new AssertionError(\"Unexpected node: \" + node.toSourceString())","dfgs":[],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":141,"lineEnd":141,"lineMapIndex":-1,"methodParents":[],"nodeIndex":204},{"cfgs":[],"code":"protected void visitHtmlOpenTagNode(HtmlOpenTagNode node) ","dfgs":[206],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":145,"lineEnd":145,"lineMapIndex":-1,"methodParents":[],"nodeIndex":205},{"cfgs":[],"code":"maybeAddAndVisitChildren(node)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":146,"lineEnd":146,"lineMapIndex":-1,"methodParents":[217],"nodeIndex":206},{"cfgs":[],"code":"protected void visitHtmlCloseTagNode(HtmlCloseTagNode node) ","dfgs":[208,209,211],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":152,"lineEnd":152,"lineMapIndex":-1,"methodParents":[],"nodeIndex":207},{"cfgs":[209],"code":"if (!inMsgNode)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":155,"lineEnd":155,"lineMapIndex":-1,"methodParents":[],"nodeIndex":208},{"cfgs":[210],"code":"HtmlAttributeNode attr = node.getPhNameNode()","dfgs":[210],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":158,"lineEnd":158,"lineMapIndex":-1,"methodParents":[164],"nodeIndex":209},{"cfgs":[211],"code":"if (attr != null)","dfgs":[211],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":159,"lineEnd":159,"lineMapIndex":-1,"methodParents":[],"nodeIndex":210},{"cfgs":[],"code":"errorReporter.report(attr.getSourceLocation(), INVALID_PLACEHOLDER)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":160,"lineEnd":160,"lineMapIndex":-1,"methodParents":[],"nodeIndex":211},{"cfgs":[],"code":"protected void visitHtmlAttributeNode(HtmlAttributeNode node) ","dfgs":[213],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":172,"lineEnd":172,"lineMapIndex":-1,"methodParents":[],"nodeIndex":212},{"cfgs":[],"code":"visitChildren(node)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":176,"lineEnd":176,"lineMapIndex":-1,"methodParents":[],"nodeIndex":213},{"cfgs":[],"code":"protected void visitHtmlAttributeValueNode(HtmlAttributeValueNode node) ","dfgs":[215],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":180,"lineEnd":180,"lineMapIndex":-1,"methodParents":[],"nodeIndex":214},{"cfgs":[],"code":"visitChildren(node)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":185,"lineEnd":185,"lineMapIndex":-1,"methodParents":[],"nodeIndex":215},{"cfgs":[],"code":"throw new AssertionError(\"Unexpected node: \" + node.toSourceString())","dfgs":[],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":190,"lineEnd":190,"lineMapIndex":15,"methodParents":[],"nodeIndex":216},{"cfgs":[],"code":"private void maybeAddAndVisitChildren(SoyNode node) ","dfgs":[],"fName":"java_src_com_google_template_soy_passes_InsertMsgPlaceholderNodesPass.java","fieldParents":[],"isDel":false,"lineBeg":193,"lineEnd":193,"lineMapIndex":16,"methodParents":[],"nodeIndex":217},{"cfgs":[219],"code":"assertEquals(\"BREAK\", msg.getPlaceholderName(placeholders.get(7)))","dfgs":[219],"fName":"java_tests_com_google_template_soy_soytree_MsgNodeTest.java","fieldParents":[],"isDel":false,"lineBeg":106,"lineEnd":106,"lineMapIndex":17,"methodParents":[],"nodeIndex":218},{"cfgs":[220],"code":"assertEquals(\"BREAK\", msg.getPlaceholderName(placeholders.get(8)))","dfgs":[220],"fName":"java_tests_com_google_template_soy_soytree_MsgNodeTest.java","fieldParents":[],"isDel":false,"lineBeg":107,"lineEnd":107,"lineMapIndex":18,"methodParents":[],"nodeIndex":219},{"cfgs":[221],"code":"assertEquals(\"BREAK\", msg.getPlaceholderName(placeholders.get(9)))","dfgs":[221],"fName":"java_tests_com_google_template_soy_soytree_MsgNodeTest.java","fieldParents":[],"isDel":false,"lineBeg":108,"lineEnd":108,"lineMapIndex":19,"methodParents":[],"nodeIndex":220},{"cfgs":[],"code":"assertSame(placeholders.get(7), msg.getRepPlaceholderNode(\"BREAK\"))","dfgs":[],"fName":"java_tests_com_google_template_soy_soytree_MsgNodeTest.java","fieldParents":[],"isDel":false,"lineBeg":132,"lineEnd":132,"lineMapIndex":20,"methodParents":[],"nodeIndex":221},{"cfgs":[],"code":"import com.google.common.base.Supplier","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":30,"lineEnd":30,"lineMapIndex":-1,"methodParents":[],"nodeIndex":222},{"cfgs":[],"code":"import com.google.template.soy.soytree.CaseOrDefaultNode","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":49,"lineEnd":49,"lineMapIndex":23,"methodParents":[],"nodeIndex":223},{"cfgs":[],"code":"import com.google.template.soy.soytree.SoyNode.MsgBlockNode","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":75,"lineEnd":75,"lineMapIndex":24,"methodParents":[],"nodeIndex":224},{"cfgs":[],"code":"private static final SoyErrorKind HTML_COMMENT_WITHIN_MSG_BLOCK =SoyErrorKind.of(\"Found HTML comment within ''msg'' block. This is not allowed.\")","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":185,"lineEnd":186,"lineMapIndex":-1,"methodParents":[],"nodeIndex":225},{"cfgs":[],"code":"this.extraPasses =ImmutableList.<CompilerFilePass>builder().add(new ValidateCloseTagChildren(errorReporter)).add(extraPasses).build()","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[233],"isDel":false,"lineBeg":382,"lineEnd":386,"lineMapIndex":29,"methodParents":[],"nodeIndex":226},{"cfgs":[],"code":"new Visitor(nodeIdGen,file.getFilePath(),errorReporter,false /* discardEditsOutsideOfMsgNodes */).exec(file)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[233],"isDel":false,"lineBeg":404,"lineEnd":409,"lineMapIndex":30,"methodParents":[319],"nodeIndex":227},{"cfgs":[229],"code":"Checkpoint checkpoint = errorReporter.checkpoint()","dfgs":[229,230],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[233],"isDel":false,"lineBeg":416,"lineEnd":416,"lineMapIndex":-1,"methodParents":[],"nodeIndex":228},{"cfgs":[230],"code":"new Visitor(nodeIdGen,file.getFilePath(),errorReporter,false /* discardEditsOutsideOfMsgNodes */).exec(clone)","dfgs":[230,231],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[233],"isDel":false,"lineBeg":418,"lineEnd":423,"lineMapIndex":31,"methodParents":[319],"nodeIndex":229},{"cfgs":[231],"code":"if (!errorReporter.errorsSince(checkpoint))","dfgs":[231],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[233],"isDel":false,"lineBeg":424,"lineEnd":424,"lineMapIndex":-1,"methodParents":[],"nodeIndex":230},{"cfgs":[],"code":"new Visitor(nodeIdGen,file.getFilePath(),errorReporter,true /* discardEditsOutsideOfMsgNodes */).exec(file)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[233],"isDel":false,"lineBeg":426,"lineEnd":431,"lineMapIndex":-1,"methodParents":[319],"nodeIndex":231},{"cfgs":[],"code":"private static final class ValidateCloseTagChildren extends CompilerFilePass ","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":444,"lineEnd":444,"lineMapIndex":-1,"methodParents":[],"nodeIndex":232},{"cfgs":[],"code":"final ErrorReporter errorReporter","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":445,"lineEnd":445,"lineMapIndex":-1,"methodParents":[],"nodeIndex":233},{"cfgs":[235],"code":"ValidateCloseTagChildren(ErrorReporter errorReporter) ","dfgs":[235],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":447,"lineEnd":447,"lineMapIndex":-1,"methodParents":[],"nodeIndex":234},{"cfgs":[],"code":"this.errorReporter = errorReporter","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[233],"isDel":false,"lineBeg":448,"lineEnd":448,"lineMapIndex":-1,"methodParents":[],"nodeIndex":235},{"cfgs":[],"code":"public void run(SoyFileNode file, IdGenerator nodeIdGen) ","dfgs":[237],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":452,"lineEnd":452,"lineMapIndex":-1,"methodParents":[],"nodeIndex":236},{"cfgs":[238],"code":"for (HtmlCloseTagNode closeTag :SoyTreeUtils.getAllNodesOfType(file, HtmlCloseTagNode.class))","dfgs":[238],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":453,"lineEnd":454,"lineMapIndex":-1,"methodParents":[],"nodeIndex":237},{"cfgs":[239],"code":"List<StandaloneNode> children = closeTag.getChildren()","dfgs":[239,240],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":455,"lineEnd":455,"lineMapIndex":-1,"methodParents":[],"nodeIndex":238},{"cfgs":[240],"code":"HtmlAttributeNode phNameAttribute = closeTag.getPhNameNode()","dfgs":[242],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":456,"lineEnd":456,"lineMapIndex":-1,"methodParents":[164],"nodeIndex":239},{"cfgs":[241],"code":"for (int i = 1; i < children.size(); i++)","dfgs":[241],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":458,"lineEnd":458,"lineMapIndex":-1,"methodParents":[],"nodeIndex":240},{"cfgs":[242],"code":"StandaloneNode child = children.get(i)","dfgs":[242],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":459,"lineEnd":459,"lineMapIndex":-1,"methodParents":[],"nodeIndex":241},{"cfgs":[244],"code":"if (child == phNameAttribute)","dfgs":[244],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":460,"lineEnd":460,"lineMapIndex":-1,"methodParents":[],"nodeIndex":242},{"cfgs":[],"code":"continue","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":461,"lineEnd":461,"lineMapIndex":-1,"methodParents":[],"nodeIndex":243},{"cfgs":[],"code":"errorReporter.report(child.getSourceLocation(), UNEXPECTED_CLOSE_TAG_CONTENT)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[233],"isDel":false,"lineBeg":463,"lineEnd":463,"lineMapIndex":-1,"methodParents":[],"nodeIndex":244},{"cfgs":[],"code":"final AstEdits edits","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":518,"lineEnd":518,"lineMapIndex":-1,"methodParents":[],"nodeIndex":245},{"cfgs":[],"code":"boolean inMsgNode","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":537,"lineEnd":537,"lineMapIndex":-1,"methodParents":[],"nodeIndex":246},{"cfgs":[248],"code":"Visitor(IdGenerator nodeIdGen,String filePath,ErrorReporter errorReporter,boolean discardEditsOutsideOfMsgNodes)","dfgs":[248],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":548,"lineEnd":552,"lineMapIndex":33,"methodParents":[],"nodeIndex":247},{"cfgs":[],"code":"this.edits =new AstEdits(discardEditsOutsideOfMsgNodes,new Supplier<Boolean>() {@Overridepublic Boolean get() {return inMsgNode;}})","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[245],"isDel":false,"lineBeg":556,"lineEnd":564,"lineMapIndex":-1,"methodParents":[],"nodeIndex":248},{"cfgs":[250],"code":"if (inMsgNode)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[246],"isDel":false,"lineBeg":847,"lineEnd":847,"lineMapIndex":-1,"methodParents":[],"nodeIndex":249},{"cfgs":[],"code":"errorReporter.report(ltPoint.asLocation(filePath).offsetEndCol(4), HTML_COMMENT_WITHIN_MSG_BLOCK)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[225],"isDel":false,"lineBeg":848,"lineEnd":849,"lineMapIndex":-1,"methodParents":[],"nodeIndex":250},{"cfgs":[252],"code":"boolean oldInMsgNode = this.inMsgNode","dfgs":[253],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[246],"isDel":false,"lineBeg":1286,"lineEnd":1286,"lineMapIndex":-1,"methodParents":[],"nodeIndex":251},{"cfgs":[253],"code":"this.inMsgNode = false","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[246],"isDel":false,"lineBeg":1287,"lineEnd":1287,"lineMapIndex":-1,"methodParents":[],"nodeIndex":252},{"cfgs":[],"code":"this.inMsgNode = oldInMsgNode","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[246],"isDel":false,"lineBeg":1289,"lineEnd":1289,"lineMapIndex":-1,"methodParents":[],"nodeIndex":253},{"cfgs":[],"code":"protected void visitMsgFallbackGroupNode(final MsgFallbackGroupNode node) ","dfgs":[255],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":1297,"lineEnd":1297,"lineMapIndex":-1,"methodParents":[],"nodeIndex":254},{"cfgs":[],"code":"visitControlFlowStructure(node,collectMsgBranches(node),\"msg\",new Function<BlockNode, String>() {@Overridepublic String apply(BlockNode input) {switch (input.getKind()) {case MSG_FALLBACK_GROUP_NODE:return \"fallbackmsg\";case MSG_NODE:return \"msg\";case MSG_PLURAL_CASE_NODE:case MSG_SELECT_CASE_NODE:return \"case block\";case MSG_PLURAL_DEFAULT_NODE:case MSG_SELECT_DEFAULT_NODE:return \"default block\";default:throw new AssertionError(\"unexepected node: \" + input);}}},true, // exactly one branch will execute oncetrue)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":1304,"lineEnd":1328,"lineMapIndex":-1,"methodParents":[],"nodeIndex":255},{"cfgs":[],"code":"case MSG_FALLBACK_GROUP_NODE","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":1312,"lineEnd":1312,"lineMapIndex":-1,"methodParents":[],"nodeIndex":256},{"cfgs":[],"code":"return \"fallbackmsg\"","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":1313,"lineEnd":1313,"lineMapIndex":-1,"methodParents":[],"nodeIndex":257},{"cfgs":[],"code":"case MSG_NODE","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":1314,"lineEnd":1314,"lineMapIndex":-1,"methodParents":[],"nodeIndex":258},{"cfgs":[],"code":"return \"msg\"","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":1315,"lineEnd":1315,"lineMapIndex":-1,"methodParents":[],"nodeIndex":259},{"cfgs":[],"code":"case MSG_PLURAL_CASE_NODE","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":1316,"lineEnd":1316,"lineMapIndex":-1,"methodParents":[],"nodeIndex":260},{"cfgs":[],"code":"case MSG_SELECT_CASE_NODE","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":1317,"lineEnd":1317,"lineMapIndex":-1,"methodParents":[],"nodeIndex":261},{"cfgs":[],"code":"return \"case block\"","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":1318,"lineEnd":1318,"lineMapIndex":-1,"methodParents":[],"nodeIndex":262},{"cfgs":[],"code":"case MSG_PLURAL_DEFAULT_NODE","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":1319,"lineEnd":1319,"lineMapIndex":-1,"methodParents":[],"nodeIndex":263},{"cfgs":[],"code":"case MSG_SELECT_DEFAULT_NODE","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":1320,"lineEnd":1320,"lineMapIndex":-1,"methodParents":[],"nodeIndex":264},{"cfgs":[],"code":"return \"default block\"","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":1321,"lineEnd":1321,"lineMapIndex":-1,"methodParents":[],"nodeIndex":265},{"cfgs":[],"code":"throw new AssertionError(\"unexepected node: \" + input)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":1323,"lineEnd":1323,"lineMapIndex":-1,"methodParents":[],"nodeIndex":266},{"cfgs":[268,269],"code":"if (block instanceof MsgBlockNode)","dfgs":[269],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":1675,"lineEnd":1675,"lineMapIndex":-1,"methodParents":[],"nodeIndex":267},{"cfgs":[269],"code":"this.inMsgNode = true","dfgs":[269],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[246],"isDel":false,"lineBeg":1676,"lineEnd":1676,"lineMapIndex":-1,"methodParents":[],"nodeIndex":268},{"cfgs":[270],"code":"if (block instanceof MsgBlockNode)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":1684,"lineEnd":1684,"lineMapIndex":-1,"methodParents":[],"nodeIndex":269},{"cfgs":[],"code":"this.inMsgNode = false","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[246],"isDel":false,"lineBeg":1685,"lineEnd":1685,"lineMapIndex":-1,"methodParents":[],"nodeIndex":270},{"cfgs":[],"code":"final boolean discardEditsOutsideOfMsgNodes","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":1888,"lineEnd":1888,"lineMapIndex":-1,"methodParents":[],"nodeIndex":271},{"cfgs":[],"code":"final Supplier<Boolean> inMsgNode","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":1889,"lineEnd":1889,"lineMapIndex":-1,"methodParents":[],"nodeIndex":272},{"cfgs":[274],"code":"AstEdits(boolean discardEditsOutsideOfMsgNodes, Supplier<Boolean> inMsgNode) ","dfgs":[274,275],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":1892,"lineEnd":1892,"lineMapIndex":-1,"methodParents":[],"nodeIndex":273},{"cfgs":[275],"code":"this.discardEditsOutsideOfMsgNodes = discardEditsOutsideOfMsgNodes","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[271],"isDel":false,"lineBeg":1893,"lineEnd":1893,"lineMapIndex":-1,"methodParents":[],"nodeIndex":274},{"cfgs":[],"code":"this.inMsgNode = inMsgNode","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[246],"isDel":false,"lineBeg":1894,"lineEnd":1894,"lineMapIndex":-1,"methodParents":[],"nodeIndex":275},{"cfgs":[277],"code":"private boolean discardEdit() ","dfgs":[277],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":1897,"lineEnd":1897,"lineMapIndex":-1,"methodParents":[],"nodeIndex":276},{"cfgs":[],"code":"return discardEditsOutsideOfMsgNodes && !inMsgNode.get()","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[246],"isDel":false,"lineBeg":1898,"lineEnd":1898,"lineMapIndex":-1,"methodParents":[],"nodeIndex":277},{"cfgs":[279],"code":"if (discardEdit())","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":1925,"lineEnd":1925,"lineMapIndex":-1,"methodParents":[276],"nodeIndex":278},{"cfgs":[],"code":"return","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":1926,"lineEnd":1926,"lineMapIndex":-1,"methodParents":[],"nodeIndex":279},{"cfgs":[281],"code":"if (discardEdit())","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":1938,"lineEnd":1938,"lineMapIndex":-1,"methodParents":[276],"nodeIndex":280},{"cfgs":[],"code":"return","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":1939,"lineEnd":1939,"lineMapIndex":-1,"methodParents":[],"nodeIndex":281},{"cfgs":[283],"code":"if (discardEdit())","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":1948,"lineEnd":1948,"lineMapIndex":-1,"methodParents":[276],"nodeIndex":282},{"cfgs":[],"code":"return","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":1949,"lineEnd":1949,"lineMapIndex":-1,"methodParents":[],"nodeIndex":283},{"cfgs":[285],"code":"if (discardEdit())","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":1957,"lineEnd":1957,"lineMapIndex":-1,"methodParents":[276],"nodeIndex":284},{"cfgs":[],"code":"return","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":1958,"lineEnd":1958,"lineMapIndex":-1,"methodParents":[],"nodeIndex":285},{"cfgs":[287],"code":"private static List<? extends MsgBlockNode> collectMsgBranches(MsgFallbackGroupNode node) ","dfgs":[287,290,288,289],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":2469,"lineEnd":2469,"lineMapIndex":-1,"methodParents":[],"nodeIndex":286},{"cfgs":[288],"code":"List<MsgBlockNode> msgBranches = new ArrayList<>()","dfgs":[290,289],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":2470,"lineEnd":2470,"lineMapIndex":-1,"methodParents":[],"nodeIndex":287},{"cfgs":[290,289],"code":"for (MsgNode child : node.getChildren())","dfgs":[289],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":2471,"lineEnd":2471,"lineMapIndex":-1,"methodParents":[],"nodeIndex":288},{"cfgs":[],"code":"collectMsgBranches(child, msgBranches)","dfgs":[290],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":2472,"lineEnd":2472,"lineMapIndex":-1,"methodParents":[291],"nodeIndex":289},{"cfgs":[],"code":"return msgBranches","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":2474,"lineEnd":2474,"lineMapIndex":-1,"methodParents":[],"nodeIndex":290},{"cfgs":[292],"code":"private static void collectMsgBranches(MsgBlockNode parent, List<MsgBlockNode> msgBranches) ","dfgs":[292,293,294,296,295,297,300,298],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":2477,"lineEnd":2477,"lineMapIndex":-1,"methodParents":[],"nodeIndex":291},{"cfgs":[293],"code":"StandaloneNode firstChild = Iterables.getFirst(parent.getChildren(), null)","dfgs":[293,300],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":2478,"lineEnd":2478,"lineMapIndex":-1,"methodParents":[],"nodeIndex":292},{"cfgs":[294,296],"code":"if (firstChild instanceof MsgPluralNode)","dfgs":[296,294],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":2479,"lineEnd":2479,"lineMapIndex":-1,"methodParents":[],"nodeIndex":293},{"cfgs":[295],"code":"for (CaseOrDefaultNode caseOrDefault : ((MsgPluralNode) firstChild).getChildren())","dfgs":[295],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":2480,"lineEnd":2480,"lineMapIndex":-1,"methodParents":[],"nodeIndex":294},{"cfgs":[],"code":"collectMsgBranches((MsgBlockNode) caseOrDefault, msgBranches)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":2481,"lineEnd":2481,"lineMapIndex":-1,"methodParents":[291],"nodeIndex":295},{"cfgs":[297,299],"code":"if (firstChild instanceof MsgSelectNode)","dfgs":[297],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":2483,"lineEnd":2483,"lineMapIndex":-1,"methodParents":[],"nodeIndex":296},{"cfgs":[298],"code":"for (CaseOrDefaultNode caseOrDefault : ((MsgSelectNode) firstChild).getChildren())","dfgs":[298],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":2484,"lineEnd":2484,"lineMapIndex":-1,"methodParents":[],"nodeIndex":297},{"cfgs":[],"code":"collectMsgBranches((MsgBlockNode) caseOrDefault, msgBranches)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":2485,"lineEnd":2485,"lineMapIndex":-1,"methodParents":[291],"nodeIndex":298},{"cfgs":[300],"code":"else","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":2487,"lineEnd":2487,"lineMapIndex":-1,"methodParents":[],"nodeIndex":299},{"cfgs":[],"code":"msgBranches.add(parent)","dfgs":[],"fName":"java_src_com_google_template_soy_passes_HtmlRewritePass.java","fieldParents":[],"isDel":false,"lineBeg":2488,"lineEnd":2488,"lineMapIndex":-1,"methodParents":[],"nodeIndex":300},{"cfgs":[],"code":"expectedJsCode =\"\"+ \"var htmlTag33 = '<span id=\\\"';\\n\"+ \"for (var i10 = 0; i10 < 3; i10++) {\\n\"+ \"  htmlTag33 += i10;\\n\"+ \"}\\n\"+ \"htmlTag33 += '\\\">';\\n\"+ \"var param17 = '';\\n\"+ \"for (var i14 = 0; i14 < 4; i14++) {\\n\"+ \"  param17 += i14;\\n\"+ \"}\\n\"+ \"/** @desc A span with generated id. */\\n\"+ \"var MSG_UNNAMED = goog.getMsg('{$startSpan}{$xxx_1}{$xxx_2}', \"+ \"{'startSpan': htmlTag33, \"+ \"'xxx_1': some.func(soy.$$assignDefaults({goo: param17}, opt_data.boo), null, \"+ \"opt_ijData),\"+ \" 'xxx_2': opt_data.a + 2});\\n\"+ \"output += MSG_UNNAMED;\\n\"","dfgs":[],"fName":"java_tests_com_google_template_soy_jssrc_internal_GenJsCodeVisitorTest.java","fieldParents":[],"isDel":false,"lineBeg":777,"lineEnd":794,"lineMapIndex":59,"methodParents":[],"nodeIndex":301},{"cfgs":[],"code":"assertRender(templateBody,\"You're currently using 26 MB of your quota. \"+ \"<a href=\\\"baz\\\">Learn more</A>\"+ \"<br/><br/>\"+ \"ArchiveArchiveArchiveArchive\")","dfgs":[],"fName":"java_tests_com_google_template_soy_sharedpasses_render_RenderVisitorTest.java","fieldParents":[],"isDel":false,"lineBeg":366,"lineEnd":371,"lineMapIndex":60,"methodParents":[],"nodeIndex":302},{"cfgs":[],"code":"import com.google.common.base.Ascii","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":19,"lineEnd":19,"lineMapIndex":61,"methodParents":[],"nodeIndex":303},{"cfgs":[],"code":"import com.google.common.base.CharMatcher","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":20,"lineEnd":20,"lineMapIndex":62,"methodParents":[],"nodeIndex":304},{"cfgs":[],"code":"import com.google.template.soy.basetree.Node","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":25,"lineEnd":25,"lineMapIndex":64,"methodParents":[],"nodeIndex":305},{"cfgs":[],"code":"import com.google.template.soy.basetree.NodeVisitor","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":26,"lineEnd":26,"lineMapIndex":63,"methodParents":[],"nodeIndex":306},{"cfgs":[],"code":"import com.google.template.soy.exprtree.ExprEquivalence","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":29,"lineEnd":29,"lineMapIndex":65,"methodParents":[],"nodeIndex":307},{"cfgs":[356],"code":"private static final SoyErrorKind DYNAMIC_TAG_NAME_IN_MSG_BLOCK =SoyErrorKind.of(\"HTML tags within within ''msg'' blocks must use constant tag names.\")","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":42,"lineEnd":43,"lineMapIndex":-1,"methodParents":[],"nodeIndex":308},{"cfgs":[310],"code":"public static MsgHtmlTagNode fromNode(int id, HtmlTagNode tagNode, ErrorReporter errorReporter) ","dfgs":[315,310,311,312,313,314],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":55,"lineEnd":55,"lineMapIndex":-1,"methodParents":[],"nodeIndex":309},{"cfgs":[311],"code":"String fullTagText = getFullTagText(tagNode)","dfgs":[311,315],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":56,"lineEnd":56,"lineMapIndex":-1,"methodParents":[316],"nodeIndex":310},{"cfgs":[312],"code":"String userSpecifiedPhName = getUserSpecifiedPhName(tagNode, errorReporter)","dfgs":[312,315],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":57,"lineEnd":57,"lineMapIndex":90,"methodParents":[326],"nodeIndex":311},{"cfgs":[313],"code":"String lcTagName = getLcTagName(errorReporter, tagNode.getTagName())","dfgs":[313,314,315],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":58,"lineEnd":58,"lineMapIndex":-1,"methodParents":[346],"nodeIndex":312},{"cfgs":[314,315],"code":"if (tagNode instanceof HtmlCloseTagNode)","dfgs":[315],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":59,"lineEnd":59,"lineMapIndex":-1,"methodParents":[],"nodeIndex":313},{"cfgs":[315],"code":"lcTagName = \"/\" + lcTagName","dfgs":[315],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":62,"lineEnd":62,"lineMapIndex":-1,"methodParents":[],"nodeIndex":314},{"cfgs":[],"code":"return new MsgHtmlTagNode(id,tagNode.getSourceLocation(),userSpecifiedPhName,lcTagName,tagNode instanceof HtmlOpenTagNode && ((HtmlOpenTagNode) tagNode).isSelfClosing(),fullTagText != null,fullTagText,tagNode)","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":64,"lineEnd":72,"lineMapIndex":-1,"methodParents":[354],"nodeIndex":315},{"cfgs":[317],"code":"private static String getFullTagText(HtmlTagNode openTagNode) ","dfgs":[325,318,317,324],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":89,"lineEnd":89,"lineMapIndex":-1,"methodParents":[],"nodeIndex":316},{"cfgs":[318],"code":"final boolean[] isConstantContent = {true}","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":90,"lineEnd":90,"lineMapIndex":-1,"methodParents":[],"nodeIndex":317},{"cfgs":[323],"code":"SoyTreeUtils.visitAllNodes(openTagNode,new NodeVisitor<Node, Boolean>() {@Overridepublic Boolean exec(Node node) {if (node instanceof RawTextNode|| node instanceof HtmlAttributeNode|| node instanceof HtmlAttributeValueNode|| node instanceof HtmlOpenTagNode|| node instanceof HtmlCloseTagNode) {return true; // keep going}isConstantContent[0] = false;return false; // abort}})","dfgs":[324],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":91,"lineEnd":106,"lineMapIndex":-1,"methodParents":[],"nodeIndex":318},{"cfgs":[],"code":"if (node instanceof RawTextNode|| node instanceof HtmlAttributeNode|| node instanceof HtmlAttributeValueNode|| node instanceof HtmlOpenTagNode|| node instanceof HtmlCloseTagNode)","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":96,"lineEnd":100,"lineMapIndex":-1,"methodParents":[],"nodeIndex":319},{"cfgs":[],"code":"return true","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":101,"lineEnd":101,"lineMapIndex":-1,"methodParents":[],"nodeIndex":320},{"cfgs":[],"code":"isConstantContent[0] = false","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":103,"lineEnd":103,"lineMapIndex":-1,"methodParents":[],"nodeIndex":321},{"cfgs":[],"code":"return false","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":104,"lineEnd":104,"lineMapIndex":-1,"methodParents":[],"nodeIndex":322},{"cfgs":[324,325],"code":"if (isConstantContent[0])","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":107,"lineEnd":107,"lineMapIndex":-1,"methodParents":[],"nodeIndex":323},{"cfgs":[],"code":"return openTagNode.toSourceString()","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":109,"lineEnd":109,"lineMapIndex":-1,"methodParents":[],"nodeIndex":324},{"cfgs":[],"code":"return null","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":111,"lineEnd":111,"lineMapIndex":-1,"methodParents":[],"nodeIndex":325},{"cfgs":[327],"code":"private static String getUserSpecifiedPhName(HtmlTagNode tagNode, ErrorReporter errorReporter) ","dfgs":[331,335,327,328,329,330,332,333,334],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":119,"lineEnd":119,"lineMapIndex":-1,"methodParents":[],"nodeIndex":326},{"cfgs":[328],"code":"HtmlAttributeNode phNameAttribute = tagNode.getPhNameNode()","dfgs":[331,328],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":120,"lineEnd":120,"lineMapIndex":-1,"methodParents":[164],"nodeIndex":327},{"cfgs":[329,330],"code":"if (phNameAttribute == null)","dfgs":[330],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":121,"lineEnd":121,"lineMapIndex":-1,"methodParents":[],"nodeIndex":328},{"cfgs":[],"code":"return null","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":122,"lineEnd":122,"lineMapIndex":118,"methodParents":[],"nodeIndex":329},{"cfgs":[331],"code":"String userSpecifiedPhName = getUserSpecifiedPhName(phNameAttribute, errorReporter)","dfgs":[335,331,334],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":124,"lineEnd":124,"lineMapIndex":91,"methodParents":[326],"nodeIndex":330},{"cfgs":[332],"code":"tagNode.removeChild(phNameAttribute)","dfgs":[332],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":126,"lineEnd":126,"lineMapIndex":-1,"methodParents":[],"nodeIndex":331},{"cfgs":[333],"code":"phNameAttribute = tagNode.getPhNameNode()","dfgs":[333],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":128,"lineEnd":128,"lineMapIndex":-1,"methodParents":[164],"nodeIndex":332},{"cfgs":[334,335],"code":"if (phNameAttribute != null)","dfgs":[334],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":132,"lineEnd":132,"lineMapIndex":129,"methodParents":[],"nodeIndex":333},{"cfgs":[335],"code":"errorReporter.report(phNameAttribute.getSourceLocation(), MULTIPLE_PHNAME_ATTRIBUTES)","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":133,"lineEnd":133,"lineMapIndex":130,"methodParents":[],"nodeIndex":334},{"cfgs":[],"code":"return userSpecifiedPhName","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":135,"lineEnd":135,"lineMapIndex":-1,"methodParents":[],"nodeIndex":335},{"cfgs":[337],"code":"private static String getUserSpecifiedPhName(HtmlAttributeNode htmlAttributeNode, ErrorReporter errorReporter)","dfgs":[345,344,337,338,339,340,341,342,343],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":140,"lineEnd":141,"lineMapIndex":-1,"methodParents":[],"nodeIndex":336},{"cfgs":[338],"code":"StandaloneNode valueNode = htmlAttributeNode.getChild(1)","dfgs":[338],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":142,"lineEnd":142,"lineMapIndex":-1,"methodParents":[],"nodeIndex":337},{"cfgs":[339,344],"code":"if (valueNode instanceof HtmlAttributeValueNode)","dfgs":[339,344],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":143,"lineEnd":143,"lineMapIndex":-1,"methodParents":[],"nodeIndex":338},{"cfgs":[340],"code":"HtmlAttributeValueNode attributeValueNode = (HtmlAttributeValueNode) valueNode","dfgs":[340],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":144,"lineEnd":144,"lineMapIndex":-1,"methodParents":[],"nodeIndex":339},{"cfgs":[341,344],"code":"if (attributeValueNode.numChildren() == 1&& attributeValueNode.getChild(0) instanceof RawTextNode)","dfgs":[341],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":145,"lineEnd":146,"lineMapIndex":-1,"methodParents":[],"nodeIndex":340},{"cfgs":[342],"code":"String attributeName = ((RawTextNode) attributeValueNode.getChild(0)).getRawText()","dfgs":[342],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":147,"lineEnd":147,"lineMapIndex":-1,"methodParents":[],"nodeIndex":341},{"cfgs":[343,344],"code":"if (BaseUtils.isIdentifier(attributeName))","dfgs":[343],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":148,"lineEnd":148,"lineMapIndex":-1,"methodParents":[],"nodeIndex":342},{"cfgs":[],"code":"return attributeName","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":150,"lineEnd":150,"lineMapIndex":-1,"methodParents":[],"nodeIndex":343},{"cfgs":[345],"code":"errorReporter.report(valueNode.getSourceLocation(), INVALID_PHNAME_ATTRIBUTE)","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":154,"lineEnd":154,"lineMapIndex":128,"methodParents":[],"nodeIndex":344},{"cfgs":[],"code":"return null","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":155,"lineEnd":155,"lineMapIndex":-1,"methodParents":[],"nodeIndex":345},{"cfgs":[348],"code":"private static String getLcTagName(ErrorReporter errorReporter, TagName tagName) ","dfgs":[353,350,348,349,352],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":158,"lineEnd":158,"lineMapIndex":-1,"methodParents":[],"nodeIndex":346},{"cfgs":[],"code":"String lcTagName","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":162,"lineEnd":162,"lineMapIndex":-1,"methodParents":[],"nodeIndex":347},{"cfgs":[349,351],"code":"if (!tagName.isStatic())","dfgs":[349,352],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":163,"lineEnd":163,"lineMapIndex":-1,"methodParents":[],"nodeIndex":348},{"cfgs":[350],"code":"errorReporter.report(tagName.getTagLocation(), DYNAMIC_TAG_NAME_IN_MSG_BLOCK)","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[308],"isDel":false,"lineBeg":164,"lineEnd":164,"lineMapIndex":-1,"methodParents":[],"nodeIndex":349},{"cfgs":[353],"code":"lcTagName = \"error\"","dfgs":[353],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":165,"lineEnd":165,"lineMapIndex":-1,"methodParents":[],"nodeIndex":350},{"cfgs":[352],"code":"else","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":166,"lineEnd":166,"lineMapIndex":-1,"methodParents":[],"nodeIndex":351},{"cfgs":[353],"code":"lcTagName = tagName.getStaticTagNameAsLowerCase().get()","dfgs":[353],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":167,"lineEnd":167,"lineMapIndex":-1,"methodParents":[],"nodeIndex":352},{"cfgs":[],"code":"return lcTagName","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":169,"lineEnd":169,"lineMapIndex":-1,"methodParents":[],"nodeIndex":353},{"cfgs":[355],"code":"private MsgHtmlTagNode(int id,SourceLocation sourceLocation,String userSuppliedPlaceholderName,String lcTagName,boolean isSelfEnding,boolean isOnlyRawText,String fullTagText,StandaloneNode child)","dfgs":[355],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":205,"lineEnd":213,"lineMapIndex":75,"methodParents":[],"nodeIndex":354},{"cfgs":[],"code":"addChild(child)","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":220,"lineEnd":220,"lineMapIndex":76,"methodParents":[],"nodeIndex":355},{"cfgs":[],"code":"private static final CharMatcher INVALID_PLACEHOLDER_CHARS =CharMatcher.inRange('a', 'z').or(CharMatcher.inRange('A', 'Z')).or(CharMatcher.inRange('0', '9')).or(CharMatcher.is('_')).negate().precomputed()","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":261,"lineEnd":267,"lineMapIndex":-1,"methodParents":[],"nodeIndex":356},{"cfgs":[358],"code":"basePlaceholderName = INVALID_PLACEHOLDER_CHARS.replaceFrom(basePlaceholderName, '_')","dfgs":[358],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[356],"isDel":false,"lineBeg":297,"lineEnd":297,"lineMapIndex":-1,"methodParents":[],"nodeIndex":357},{"cfgs":[],"code":"return Ascii.toUpperCase(basePlaceholderName)","dfgs":[],"fName":"java_src_com_google_template_soy_soytree_MsgHtmlTagNode.java","fieldParents":[],"isDel":false,"lineBeg":298,"lineEnd":298,"lineMapIndex":77,"methodParents":[],"nodeIndex":358}]