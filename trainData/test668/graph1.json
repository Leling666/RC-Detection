[{"cfgs": [], "code": "import com.yahoo.sketches.Family", "dfgs": [], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": true, "lineBeg": 17, "lineEnd": 17, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 0, "rootcause": false, "commits": ["019f29683ef9d300daab1ac77d4dc1969d36ed68"]}, {"cfgs": [2], "code": "public static double computeKSDelta(final DoublesSketch sketch1,final DoublesSketch sketch2)", "dfgs": [3, 2, 5, 6, 7, 10, 11, 9, 15, 12, 13], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": true, "lineBeg": 51, "lineEnd": 52, "lineMapIndex": 30, "methodParents": [], "nodeIndex": 1, "rootcause": false, "commits": ["96500738bdfbd882760e7d02b6cb2fe5dff2a1cb"]}, {"cfgs": [3], "code": "final DoublesAuxiliary q = sketch2.constructAuxiliary()", "dfgs": [4], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": true, "lineBeg": 54, "lineEnd": 54, "lineMapIndex": 31, "methodParents": [], "nodeIndex": 2, "rootcause": false, "commits": ["382d4d7f2177097e1a4b0149477e03810680728d"]}, {"cfgs": [4], "code": "final double[] pSamplesArr = p.auxSamplesArr_", "dfgs": [7, 5], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": true, "lineBeg": 56, "lineEnd": 56, "lineMapIndex": 31, "methodParents": [], "nodeIndex": 3, "rootcause": false, "commits": ["06c4f2cd71b318f132f033ad446798bac6d54dcb"]}, {"cfgs": [5], "code": "final double[] qSamplesArr = q.auxSamplesArr_", "dfgs": [7, 6], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": true, "lineBeg": 57, "lineEnd": 57, "lineMapIndex": 31, "methodParents": [], "nodeIndex": 4, "rootcause": false, "commits": ["06c4f2cd71b318f132f033ad446798bac6d54dcb"]}, {"cfgs": [6], "code": "int i = getNextIndex(pSamplesArr, -1)", "dfgs": [8, 7, 11, 13], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": true, "lineBeg": 68, "lineEnd": 68, "lineMapIndex": 34, "methodParents": [], "nodeIndex": 5, "rootcause": false, "commits": ["06c4f2cd71b318f132f033ad446798bac6d54dcb"]}, {"cfgs": [7], "code": "int j = getNextIndex(qSamplesArr, -1)", "dfgs": [9, 7, 15], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": true, "lineBeg": 69, "lineEnd": 69, "lineMapIndex": 34, "methodParents": [], "nodeIndex": 6, "rootcause": false, "commits": ["06c4f2cd71b318f132f033ad446798bac6d54dcb"]}, {"cfgs": [8], "code": "while ((i < pSamplesArrLen) && (j < qSamplesArrLen))", "dfgs": [11, 9, 15, 12, 13], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": true, "lineBeg": 72, "lineEnd": 72, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 7, "rootcause": false, "commits": ["06c4f2cd71b318f132f033ad446798bac6d54dcb"]}, {"cfgs": [9], "code": "final double pSample = pSamplesArr[i]", "dfgs": [10], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": true, "lineBeg": 73, "lineEnd": 73, "lineMapIndex": 34, "methodParents": [], "nodeIndex": 8, "rootcause": false, "commits": ["06c4f2cd71b318f132f033ad446798bac6d54dcb"]}, {"cfgs": [10], "code": "final double qSample = qSamplesArr[j]", "dfgs": [10], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": true, "lineBeg": 74, "lineEnd": 74, "lineMapIndex": 34, "methodParents": [], "nodeIndex": 9, "rootcause": false, "commits": ["06c4f2cd71b318f132f033ad446798bac6d54dcb"]}, {"cfgs": [11, 12], "code": "if (pSample == qSample)", "dfgs": [12], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": true, "lineBeg": 84, "lineEnd": 84, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 10, "rootcause": false, "commits": ["06c4f2cd71b318f132f033ad446798bac6d54dcb"]}, {"cfgs": [], "code": "i = getNextIndex(pSamplesArr, i)", "dfgs": [13], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": true, "lineBeg": 85, "lineEnd": 85, "lineMapIndex": 38, "methodParents": [], "nodeIndex": 11, "rootcause": false, "commits": ["06c4f2cd71b318f132f033ad446798bac6d54dcb"]}, {"cfgs": [13, 14], "code": "if ((pSample < qSample) && (i < pSamplesArrLen))", "dfgs": [13], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": true, "lineBeg": 87, "lineEnd": 87, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 12, "rootcause": false, "commits": ["06c4f2cd71b318f132f033ad446798bac6d54dcb"]}, {"cfgs": [], "code": "i = getNextIndex(pSamplesArr, i)", "dfgs": [], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": true, "lineBeg": 88, "lineEnd": 88, "lineMapIndex": 38, "methodParents": [], "nodeIndex": 13, "rootcause": false, "commits": ["06c4f2cd71b318f132f033ad446798bac6d54dcb"]}, {"cfgs": [15], "code": "else", "dfgs": [], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": true, "lineBeg": 89, "lineEnd": 89, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 14, "rootcause": false, "commits": ["382d4d7f2177097e1a4b0149477e03810680728d"]}, {"cfgs": [], "code": "j = getNextIndex(qSamplesArr, j)", "dfgs": [], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": true, "lineBeg": 90, "lineEnd": 90, "lineMapIndex": 38, "methodParents": [], "nodeIndex": 15, "rootcause": false, "commits": ["06c4f2cd71b318f132f033ad446798bac6d54dcb"]}, {"cfgs": [17], "code": "public static double computeKSThreshold(final DoublesSketch sketch1,final DoublesSketch sketch2,final double tgtPvalue)", "dfgs": [19, 24, 25, 17, 18, 20, 21, 22, 23], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": true, "lineBeg": 110, "lineEnd": 112, "lineMapIndex": 40, "methodParents": [], "nodeIndex": 16, "rootcause": false, "commits": ["96500738bdfbd882760e7d02b6cb2fe5dff2a1cb"]}, {"cfgs": [18], "code": "final double r1 = sketch1.getRetainedItems()", "dfgs": [22, 21], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": true, "lineBeg": 113, "lineEnd": 113, "lineMapIndex": 41, "methodParents": [], "nodeIndex": 17, "rootcause": false, "commits": ["96500738bdfbd882760e7d02b6cb2fe5dff2a1cb"]}, {"cfgs": [19], "code": "final double r2 = sketch2.getRetainedItems()", "dfgs": [23, 21], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": true, "lineBeg": 114, "lineEnd": 114, "lineMapIndex": 42, "methodParents": [], "nodeIndex": 18, "rootcause": false, "commits": ["96500738bdfbd882760e7d02b6cb2fe5dff2a1cb"]}, {"cfgs": [20], "code": "final double alpha = tgtPvalue", "dfgs": [20], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": true, "lineBeg": 115, "lineEnd": 115, "lineMapIndex": 43, "methodParents": [], "nodeIndex": 19, "rootcause": false, "commits": ["96500738bdfbd882760e7d02b6cb2fe5dff2a1cb"]}, {"cfgs": [21], "code": "final double alphaFactor = Math.sqrt(-0.5 * Math.log(0.5 * alpha))", "dfgs": [21], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": true, "lineBeg": 116, "lineEnd": 116, "lineMapIndex": 44, "methodParents": [], "nodeIndex": 20, "rootcause": false, "commits": ["96500738bdfbd882760e7d02b6cb2fe5dff2a1cb"]}, {"cfgs": [22], "code": "final double deltaAreaThreshold = alphaFactor * Math.sqrt((r1 + r2) / (r1 * r2))", "dfgs": [24], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": true, "lineBeg": 117, "lineEnd": 117, "lineMapIndex": 45, "methodParents": [], "nodeIndex": 21, "rootcause": false, "commits": ["96500738bdfbd882760e7d02b6cb2fe5dff2a1cb"]}, {"cfgs": [23], "code": "final double eps1 = Util.EpsilonFromK.getAdjustedEpsilon(sketch1.getK())", "dfgs": [24, 23], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": true, "lineBeg": 118, "lineEnd": 118, "lineMapIndex": 46, "methodParents": [], "nodeIndex": 22, "rootcause": false, "commits": ["382d4d7f2177097e1a4b0149477e03810680728d"]}, {"cfgs": [24], "code": "final double eps2 = Util.EpsilonFromK.getAdjustedEpsilon(sketch2.getK())", "dfgs": [24], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": true, "lineBeg": 119, "lineEnd": 119, "lineMapIndex": 46, "methodParents": [], "nodeIndex": 23, "rootcause": false, "commits": ["382d4d7f2177097e1a4b0149477e03810680728d"]}, {"cfgs": [25], "code": "final double adjDeltaAreaThreshold = deltaAreaThreshold + eps1 + eps2", "dfgs": [25], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": true, "lineBeg": 121, "lineEnd": 121, "lineMapIndex": 46, "methodParents": [], "nodeIndex": 24, "rootcause": false, "commits": ["96500738bdfbd882760e7d02b6cb2fe5dff2a1cb"]}, {"cfgs": [], "code": "return adjDeltaAreaThreshold", "dfgs": [], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": true, "lineBeg": 122, "lineEnd": 122, "lineMapIndex": 47, "methodParents": [], "nodeIndex": 25, "rootcause": false, "commits": ["96500738bdfbd882760e7d02b6cb2fe5dff2a1cb"]}, {"cfgs": [27], "code": "for (int i = 0; i < (arrLen-1); i++)", "dfgs": [27], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": true, "lineBeg": 183, "lineEnd": 183, "lineMapIndex": 54, "methodParents": [], "nodeIndex": 26, "rootcause": false, "commits": ["96500738bdfbd882760e7d02b6cb2fe5dff2a1cb"]}, {"cfgs": [], "code": "if (((i+1) % blkSize) == 0)", "dfgs": [], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": true, "lineBeg": 184, "lineEnd": 184, "lineMapIndex": 55, "methodParents": [], "nodeIndex": 27, "rootcause": false, "commits": ["96500738bdfbd882760e7d02b6cb2fe5dff2a1cb"]}, {"cfgs": [], "code": "if (arr[i] > arr[i+1])", "dfgs": [], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": true, "lineBeg": 203, "lineEnd": 203, "lineMapIndex": 60, "methodParents": [], "nodeIndex": 28, "rootcause": false, "commits": ["4fc8628ef0fe3f389c5f5adadeaa0b50e1d9150d"]}, {"cfgs": [], "code": "for (int tryno = 1; tryno <= numTries; tryno++)", "dfgs": [], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": true, "lineBeg": 278, "lineEnd": 278, "lineMapIndex": 63, "methodParents": [], "nodeIndex": 29, "rootcause": false, "commits": ["9d81c5627839b0c6bef2129ef5f847327ae70ca4"]}, {"cfgs": [31], "code": "public static double computeKSDelta(final DoublesSketch sketch1,final DoublesSketch sketch2)", "dfgs": [33, 39, 34, 38, 31, 35, 32, 36, 37], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": false, "lineBeg": 51, "lineEnd": 52, "lineMapIndex": 1, "methodParents": [], "nodeIndex": 30, "rootcause": false, "commits": []}, {"cfgs": [32], "code": "final double n1 = sketch1.getN()", "dfgs": [34, 38], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": false, "lineBeg": 63, "lineEnd": 63, "lineMapIndex": 4, "methodParents": [], "nodeIndex": 31, "rootcause": false, "commits": []}, {"cfgs": [33], "code": "final double n2 = sketch2.getN()", "dfgs": [35, 38], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": false, "lineBeg": 64, "lineEnd": 64, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 32, "rootcause": false, "commits": []}, {"cfgs": [34, 38], "code": "double deltaArea = 0.0", "dfgs": [36, 38], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": false, "lineBeg": 67, "lineEnd": 67, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 33, "rootcause": false, "commits": []}, {"cfgs": [35], "code": "final double pNormWt = pWt / n1", "dfgs": [37, 38], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": false, "lineBeg": 77, "lineEnd": 77, "lineMapIndex": 9, "methodParents": [], "nodeIndex": 34, "rootcause": false, "commits": []}, {"cfgs": [36], "code": "final double qNormWt = qWt / n2", "dfgs": [37, 38], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": false, "lineBeg": 78, "lineEnd": 78, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 35, "rootcause": false, "commits": []}, {"cfgs": [37], "code": "final double curD = deltaArea", "dfgs": [37], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": false, "lineBeg": 80, "lineEnd": 80, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 36, "rootcause": false, "commits": []}, {"cfgs": [38], "code": "deltaArea = Math.max(curD, pMinusQ)", "dfgs": [38], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": false, "lineBeg": 81, "lineEnd": 81, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 37, "rootcause": false, "commits": []}, {"cfgs": [39], "code": "deltaArea = Math.max(deltaArea, Math.abs((pCumWtsArr[i] / n1) - (qCumWtsArr[j] / n2)))", "dfgs": [39], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": false, "lineBeg": 95, "lineEnd": 95, "lineMapIndex": 15, "methodParents": [], "nodeIndex": 38, "rootcause": false, "commits": []}, {"cfgs": [], "code": "return deltaArea", "dfgs": [], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": false, "lineBeg": 96, "lineEnd": 96, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 39, "rootcause": false, "commits": []}, {"cfgs": [41], "code": "public static double computeKSThreshold(final DoublesSketch sketch1,final DoublesSketch sketch2,final double tgtPvalue)", "dfgs": [43, 46, 47, 41, 42, 44, 45], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": false, "lineBeg": 110, "lineEnd": 112, "lineMapIndex": 16, "methodParents": [], "nodeIndex": 40, "rootcause": false, "commits": []}, {"cfgs": [42], "code": "final double r1 = sketch1.getRetainedItems()", "dfgs": [46, 45], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": false, "lineBeg": 113, "lineEnd": 113, "lineMapIndex": 17, "methodParents": [], "nodeIndex": 41, "rootcause": false, "commits": []}, {"cfgs": [43], "code": "final double r2 = sketch2.getRetainedItems()", "dfgs": [46, 45], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": false, "lineBeg": 114, "lineEnd": 114, "lineMapIndex": 18, "methodParents": [], "nodeIndex": 42, "rootcause": false, "commits": []}, {"cfgs": [44], "code": "final double alpha = tgtPvalue", "dfgs": [44], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": false, "lineBeg": 115, "lineEnd": 115, "lineMapIndex": 19, "methodParents": [], "nodeIndex": 43, "rootcause": false, "commits": []}, {"cfgs": [45], "code": "final double alphaFactor = Math.sqrt(-0.5 * Math.log(0.5 * alpha))", "dfgs": [45], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": false, "lineBeg": 116, "lineEnd": 116, "lineMapIndex": 20, "methodParents": [], "nodeIndex": 44, "rootcause": false, "commits": []}, {"cfgs": [46], "code": "final double deltaAreaThreshold = alphaFactor * Math.sqrt((r1 + r2) / (r1 * r2))", "dfgs": [46], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": false, "lineBeg": 117, "lineEnd": 117, "lineMapIndex": 21, "methodParents": [], "nodeIndex": 45, "rootcause": false, "commits": []}, {"cfgs": [47], "code": "final double adjDeltaAreaThreshold = deltaAreaThreshold + eps1 + eps2", "dfgs": [47], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": false, "lineBeg": 121, "lineEnd": 121, "lineMapIndex": 24, "methodParents": [], "nodeIndex": 46, "rootcause": false, "commits": []}, {"cfgs": [], "code": "return adjDeltaAreaThreshold", "dfgs": [], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": false, "lineBeg": 122, "lineEnd": 122, "lineMapIndex": 25, "methodParents": [], "nodeIndex": 47, "rootcause": false, "commits": []}, {"cfgs": [49], "code": "public static boolean komologorovSmirnovTest(final DoublesSketch sketch1,final DoublesSketch sketch2, final double tgtPvalue)", "dfgs": [49, 50, 51], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": false, "lineBeg": 135, "lineEnd": 136, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 48, "rootcause": false, "commits": []}, {"cfgs": [50], "code": "final double delta = computeKSDelta(sketch1, sketch2)", "dfgs": [50, 51], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": false, "lineBeg": 137, "lineEnd": 137, "lineMapIndex": -1, "methodParents": [30], "nodeIndex": 49, "rootcause": false, "commits": []}, {"cfgs": [51], "code": "final double thresh = computeKSThreshold(sketch1, sketch2, tgtPvalue)", "dfgs": [51], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": false, "lineBeg": 138, "lineEnd": 138, "lineMapIndex": -1, "methodParents": [40], "nodeIndex": 50, "rootcause": false, "commits": []}, {"cfgs": [], "code": "return delta > thresh", "dfgs": [], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": false, "lineBeg": 139, "lineEnd": 139, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 51, "rootcause": false, "commits": []}, {"cfgs": [], "code": "return bbCnt + (validLevels * k)", "dfgs": [], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": false, "lineBeg": 284, "lineEnd": 284, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 52, "rootcause": false, "commits": []}, {"cfgs": [], "code": "if (((hi - lo) / lo) < bracketedBinarySearchForEpsTol)", "dfgs": [], "fName": "src_main_java_com_yahoo_sketches_quantiles_Util.java", "fieldParents": [], "isDel": false, "lineBeg": 482, "lineEnd": 482, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 53, "rootcause": false, "commits": []}, {"cfgs": [55, 57], "code": "for (int i = 0; i < (arrLen-1); i++)", "dfgs": [55, 58, 57], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 183, "lineEnd": 183, "lineMapIndex": 26, "methodParents": [], "nodeIndex": 54, "rootcause": false, "commits": []}, {"cfgs": [], "code": "if (((i+1) % blkSize) == 0)", "dfgs": [], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 184, "lineEnd": 184, "lineMapIndex": 27, "methodParents": [], "nodeIndex": 55, "rootcause": false, "commits": []}, {"cfgs": [], "code": "continue", "dfgs": [], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 185, "lineEnd": 185, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 56, "rootcause": false, "commits": []}, {"cfgs": [58], "code": "if (brr[i] != (long) (1e12 * (1.0 - arr[i])))", "dfgs": [], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 191, "lineEnd": 191, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 57, "rootcause": false, "commits": []}, {"cfgs": [], "code": "violationsCount++", "dfgs": [], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 192, "lineEnd": 192, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 58, "rootcause": false, "commits": []}, {"cfgs": [60], "code": "for (int i = 0; i < (arrLen-1); i++)", "dfgs": [61, 60], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 202, "lineEnd": 202, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 59, "rootcause": false, "commits": []}, {"cfgs": [61], "code": "if (brr[i] != (long) (1e12 * (1.0 - arr[i])))", "dfgs": [], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 207, "lineEnd": 207, "lineMapIndex": 28, "methodParents": [], "nodeIndex": 60, "rootcause": false, "commits": []}, {"cfgs": [], "code": "violationsCount++", "dfgs": [], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 208, "lineEnd": 208, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 61, "rootcause": false, "commits": []}, {"cfgs": [63], "code": "for (int blkSize = 1; blkSize <= (arrLen + 100); blkSize++)", "dfgs": [63], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 277, "lineEnd": 277, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 62, "rootcause": false, "commits": []}, {"cfgs": [], "code": "for (int i = 0; i < (arrLen-1); i++)", "dfgs": [], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 284, "lineEnd": 284, "lineMapIndex": 29, "methodParents": [], "nodeIndex": 63, "rootcause": false, "commits": []}, {"cfgs": [], "code": "public void checkKomologorovSmirnovStatistic1() ", "dfgs": [], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 322, "lineEnd": 322, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 64, "rootcause": false, "commits": []}, {"cfgs": [66], "code": "final int k = 256", "dfgs": [66], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 323, "lineEnd": 323, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 65, "rootcause": false, "commits": []}, {"cfgs": [67], "code": "final UpdateDoublesSketch s1 = DoublesSketch.builder().setK(k).build()", "dfgs": [74, 67, 72], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 324, "lineEnd": 324, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 66, "rootcause": false, "commits": []}, {"cfgs": [68], "code": "final UpdateDoublesSketch s2 = DoublesSketch.builder().setK(k).build()", "dfgs": [74, 69, 73], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 325, "lineEnd": 325, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 67, "rootcause": false, "commits": []}, {"cfgs": [69], "code": "final Random rand = new Random()", "dfgs": [71], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 327, "lineEnd": 327, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 68, "rootcause": false, "commits": []}, {"cfgs": [70], "code": "final int n =  (3 * k) - 1", "dfgs": [70], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 329, "lineEnd": 329, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 69, "rootcause": false, "commits": []}, {"cfgs": [71, 74], "code": "for (int i = 0; i < n; ++i)", "dfgs": [], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 330, "lineEnd": 330, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 70, "rootcause": false, "commits": []}, {"cfgs": [72], "code": "final double x = rand.nextGaussian()", "dfgs": [72, 73], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 331, "lineEnd": 331, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 71, "rootcause": false, "commits": []}, {"cfgs": [73], "code": "s1.update(x + 100)", "dfgs": [74], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 332, "lineEnd": 332, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 72, "rootcause": false, "commits": []}, {"cfgs": [], "code": "s2.update(x)", "dfgs": [74], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 333, "lineEnd": 333, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 73, "rootcause": false, "commits": []}, {"cfgs": [], "code": "assertEquals(Util.computeKSDelta(s1, s2), 1.0, 1.0 + 1E-6)", "dfgs": [], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 336, "lineEnd": 336, "lineMapIndex": -1, "methodParents": [30], "nodeIndex": 74, "rootcause": false, "commits": []}, {"cfgs": [], "code": "public void checkKomologorovSmirnovStatistic2() ", "dfgs": [], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 341, "lineEnd": 341, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 75, "rootcause": false, "commits": []}, {"cfgs": [77], "code": "final int k = 256", "dfgs": [77], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 342, "lineEnd": 342, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 76, "rootcause": false, "commits": []}, {"cfgs": [78], "code": "final UpdateDoublesSketch s1 = DoublesSketch.builder().setK(k).build()", "dfgs": [85, 78, 83], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 343, "lineEnd": 343, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 77, "rootcause": false, "commits": []}, {"cfgs": [79], "code": "final UpdateDoublesSketch s2 = DoublesSketch.builder().setK(k).build()", "dfgs": [85, 80, 84], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 344, "lineEnd": 344, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 78, "rootcause": false, "commits": []}, {"cfgs": [80], "code": "final Random rand = new Random()", "dfgs": [82], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 346, "lineEnd": 346, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 79, "rootcause": false, "commits": []}, {"cfgs": [81], "code": "final int n =  (3 * k) - 1", "dfgs": [81], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 348, "lineEnd": 348, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 80, "rootcause": false, "commits": []}, {"cfgs": [82, 85], "code": "for (int i = 0; i < n; ++i)", "dfgs": [], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 349, "lineEnd": 349, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 81, "rootcause": false, "commits": []}, {"cfgs": [83], "code": "final double x = rand.nextGaussian()", "dfgs": [83], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 350, "lineEnd": 350, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 82, "rootcause": false, "commits": []}, {"cfgs": [84], "code": "s1.update(x)", "dfgs": [85, 84], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 351, "lineEnd": 351, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 83, "rootcause": false, "commits": []}, {"cfgs": [], "code": "s2.update(x)", "dfgs": [85], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 352, "lineEnd": 352, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 84, "rootcause": false, "commits": []}, {"cfgs": [], "code": "assertEquals(Util.computeKSDelta(s1, s2), 0, .01)", "dfgs": [], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 355, "lineEnd": 355, "lineMapIndex": -1, "methodParents": [30], "nodeIndex": 85, "rootcause": false, "commits": []}, {"cfgs": [], "code": "public void checkKomologorovSmirnovStatistic3() ", "dfgs": [], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 360, "lineEnd": 360, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 86, "rootcause": false, "commits": []}, {"cfgs": [88], "code": "final int k = 2048", "dfgs": [88], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 361, "lineEnd": 361, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 87, "rootcause": false, "commits": []}, {"cfgs": [89], "code": "final UpdateDoublesSketch s1 = DoublesSketch.builder().setK(k).build()", "dfgs": [97, 89, 95], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 362, "lineEnd": 362, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 88, "rootcause": false, "commits": []}, {"cfgs": [90], "code": "final UpdateDoublesSketch s2 = DoublesSketch.builder().setK(k).build()", "dfgs": [97, 92, 96], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 363, "lineEnd": 363, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 89, "rootcause": false, "commits": []}, {"cfgs": [91], "code": "final double tgtPvalue = .05", "dfgs": [98], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 364, "lineEnd": 364, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 90, "rootcause": false, "commits": []}, {"cfgs": [92], "code": "final Random rand = new Random()", "dfgs": [94], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 366, "lineEnd": 366, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 91, "rootcause": false, "commits": []}, {"cfgs": [93], "code": "final int n =  (3 * k) - 1", "dfgs": [100, 93], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 368, "lineEnd": 368, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 92, "rootcause": false, "commits": []}, {"cfgs": [94, 97], "code": "for (int i = 0; i < n; ++i)", "dfgs": [], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 369, "lineEnd": 369, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 93, "rootcause": false, "commits": []}, {"cfgs": [95], "code": "final double x = rand.nextGaussian()", "dfgs": [95, 96], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 370, "lineEnd": 370, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 94, "rootcause": false, "commits": []}, {"cfgs": [96], "code": "s1.update(x + .05)", "dfgs": [97], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 371, "lineEnd": 371, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 95, "rootcause": false, "commits": []}, {"cfgs": [], "code": "s2.update(x)", "dfgs": [97], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 372, "lineEnd": 372, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 96, "rootcause": false, "commits": []}, {"cfgs": [98], "code": "double D = Util.computeKSDelta(s1, s2)", "dfgs": [100, 98], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 375, "lineEnd": 375, "lineMapIndex": -1, "methodParents": [30], "nodeIndex": 97, "rootcause": false, "commits": []}, {"cfgs": [99], "code": "double thresh = Util.computeKSThreshold(s1, s2, tgtPvalue)", "dfgs": [100, 99], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 376, "lineEnd": 376, "lineMapIndex": -1, "methodParents": [40], "nodeIndex": 98, "rootcause": false, "commits": []}, {"cfgs": [100], "code": "final boolean reject = Util.komologorovSmirnovTest(s1, s2, tgtPvalue)", "dfgs": [100, 101], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 377, "lineEnd": 377, "lineMapIndex": -1, "methodParents": [48], "nodeIndex": 99, "rootcause": false, "commits": []}, {"cfgs": [101], "code": "println(\"pVal = \" + tgtPvalue + \"\\nK = \" + k + \"\\nD = \" + D + \"\\nTh = \" + thresh+ \"\\nNull Hypoth Rejected = \" + reject)", "dfgs": [], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 378, "lineEnd": 379, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 100, "rootcause": false, "commits": []}, {"cfgs": [], "code": "assertFalse(reject)", "dfgs": [], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 380, "lineEnd": 380, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 101, "rootcause": false, "commits": []}, {"cfgs": [], "code": "public void checkKomologorovSmirnovStatistic4() ", "dfgs": [], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 384, "lineEnd": 384, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 102, "rootcause": false, "commits": []}, {"cfgs": [104], "code": "final int k = 8192", "dfgs": [104], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 385, "lineEnd": 385, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 103, "rootcause": false, "commits": []}, {"cfgs": [105], "code": "final UpdateDoublesSketch s1 = DoublesSketch.builder().setK(k).build()", "dfgs": [113, 105, 111], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 386, "lineEnd": 386, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 104, "rootcause": false, "commits": []}, {"cfgs": [106], "code": "final UpdateDoublesSketch s2 = DoublesSketch.builder().setK(k).build()", "dfgs": [113, 108, 112], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 387, "lineEnd": 387, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 105, "rootcause": false, "commits": []}, {"cfgs": [107], "code": "final double tgtPvalue = .05", "dfgs": [114], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 388, "lineEnd": 388, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 106, "rootcause": false, "commits": []}, {"cfgs": [108], "code": "final Random rand = new Random()", "dfgs": [110], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 390, "lineEnd": 390, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 107, "rootcause": false, "commits": []}, {"cfgs": [109], "code": "final int n =  (3 * k) - 1", "dfgs": [116, 109], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 392, "lineEnd": 392, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 108, "rootcause": false, "commits": []}, {"cfgs": [110, 113], "code": "for (int i = 0; i < n; ++i)", "dfgs": [], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 393, "lineEnd": 393, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 109, "rootcause": false, "commits": []}, {"cfgs": [111], "code": "final double x = rand.nextGaussian()", "dfgs": [111, 112], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 394, "lineEnd": 394, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 110, "rootcause": false, "commits": []}, {"cfgs": [112], "code": "s1.update(x + .05)", "dfgs": [113], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 395, "lineEnd": 395, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 111, "rootcause": false, "commits": []}, {"cfgs": [], "code": "s2.update(x)", "dfgs": [113], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 396, "lineEnd": 396, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 112, "rootcause": false, "commits": []}, {"cfgs": [114], "code": "double D = Util.computeKSDelta(s1, s2)", "dfgs": [116, 114], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 399, "lineEnd": 399, "lineMapIndex": -1, "methodParents": [30], "nodeIndex": 113, "rootcause": false, "commits": []}, {"cfgs": [115], "code": "double thresh = Util.computeKSThreshold(s1, s2, tgtPvalue)", "dfgs": [116, 115], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 400, "lineEnd": 400, "lineMapIndex": -1, "methodParents": [40], "nodeIndex": 114, "rootcause": false, "commits": []}, {"cfgs": [116], "code": "final boolean reject = Util.komologorovSmirnovTest(s1, s2, tgtPvalue)", "dfgs": [116, 117], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 401, "lineEnd": 401, "lineMapIndex": -1, "methodParents": [48], "nodeIndex": 115, "rootcause": false, "commits": []}, {"cfgs": [117], "code": "println(\"pVal = \" + tgtPvalue + \"\\nK = \" + k + \"\\nD = \" + D + \"\\nTh = \" + thresh+ \"\\nNull Hypoth Rejected = \" + reject)", "dfgs": [], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 402, "lineEnd": 403, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 116, "rootcause": false, "commits": []}, {"cfgs": [], "code": "assertTrue(reject)", "dfgs": [], "fName": "src_test_java_com_yahoo_sketches_quantiles_UtilTest.java", "fieldParents": [], "isDel": false, "lineBeg": 404, "lineEnd": 404, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 117, "rootcause": false, "commits": []}]