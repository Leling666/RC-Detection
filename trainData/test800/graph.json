[{"cfgs":[],"code":"return isSoyMapAtRuntime(baseType)? base.mapGetAccess(genMapKeyCode(keyNode), itemAccess.isNullSafe()) // soy.Map: base.bracketAccess(// The key type may not match JsCompiler's type system (passing number as enum, or// nullable proto field).  I could instead cast this to the map's key type.visit(keyNode).castAs(\"?\"), itemAccess.isNullSafe())","dfgs":[],"fName":"java_src_com_google_template_soy_jssrc_internal_TranslateExprNodeVisitor.java","fieldParents":[],"isDel":true,"lineBeg":367,"lineEnd":372,"lineMapIndex":10,"methodParents":[],"nodeIndex":0},{"cfgs":[2],"code":"if (fieldDesc.getType() == FieldDescriptor.Type.ENUM && !fieldDesc.isRepeated())","dfgs":[2],"fName":"java_src_com_google_template_soy_jssrc_internal_TranslateExprNodeVisitor.java","fieldParents":[],"isDel":true,"lineBeg":556,"lineEnd":556,"lineMapIndex":-1,"methodParents":[],"nodeIndex":1},{"cfgs":[],"code":"fieldValue =fieldValue.castAs(\"?\" + ProtoUtils.calculateJsEnumName(fieldDesc.getEnumType()))","dfgs":[],"fName":"java_src_com_google_template_soy_jssrc_internal_TranslateExprNodeVisitor.java","fieldParents":[],"isDel":true,"lineBeg":557,"lineEnd":558,"lineMapIndex":-1,"methodParents":[],"nodeIndex":2},{"cfgs":[4],"code":"expectedJsCode =\"\"+ \"/** @desc A sample nested message */\\n\"+ \"var MSG_UNNAMED = goog.getMsg(\"+ \"'{FORMAT,select,\"+ \"user_centric{\"+ \"{STATUS_1,select,\"+ \"female{{PERSON_1} added {PERSON_2} and friends to her circle.}\"+ \"other{{PERSON_1} added {PERSON_2} and friends to his circle.}\"+ \"}\"+ \"}\"+ \"friend_centric{\"+ \"{STATUS_2,select,\"+ \"female{{PERSON_1} added {PERSON_2} and her friends to circle.}\"+ \"other{{PERSON_1} added {PERSON_2} and his friends to circle.}\"+ \"}\"+ \"}\"+ \"other{\"+ \"{STATUS_1,select,\"+ \"female{{PERSON_1} added {PERSON_2} and some friends to her circle.}\"+ \"other{{PERSON_1} added {PERSON_2} and some friends to his circle.}\"+ \"}\"+ \"}\"+ \"}');\\n\"+ \"var msg_s = new goog.i18n.MessageFormat(MSG_UNNAMED).formatIgnoringPound(\"+ \"{'FORMAT': opt_data.format, \"+ \"'STATUS_1': opt_data.gender[/** @type {?} */ (0)], \"+ \"'STATUS_2': opt_data.gender[/** @type {?} */ (1)], \"+ \"'PERSON_1': opt_data.person1, \"+ \"'PERSON_2': opt_data.person2});\\n\"+ \"output += msg_s;\\n\"","dfgs":[],"fName":"java_tests_com_google_template_soy_jssrc_internal_GenJsCodeVisitorTest.java","fieldParents":[],"isDel":true,"lineBeg":955,"lineEnd":985,"lineMapIndex":11,"methodParents":[],"nodeIndex":3},{"cfgs":[],"code":"expectedJsCode =\"\"+ \"/** @desc A sample nested message */\\n\"+ \"var MSG_UNNAMED = goog.getMsg(\"+ \"'{STATUS,select,\"+ \"female{\"+ \"{NUM_1,plural,\"+ \"=1{{PERSON} added one person to her circle.}\"+ \"other{{PERSON} added {XXX_1} to her circle.}\"+ \"}\"+ \"}\"+ \"male{\"+ \"{NUM_2,plural,\"+ \"=1{{PERSON} added one person to his circle.}\"+ \"other{{PERSON} added {XXX_2} to his circle.}\"+ \"}\"+ \"}\"+ \"other{\"+ \"{NUM_2,plural,\"+ \"=1{{PERSON} added one person to his/her circle.}\"+ \"other{{PERSON} added {XXX_2} to his/her circle.}\"+ \"}\"+ \"}\"+ \"}');\\n\"+ \"var msg_s = new goog.i18n.MessageFormat(MSG_UNNAMED).formatIgnoringPound(\"+ \"{'STATUS': opt_data.values.gender[/** @type {?} */ (0)], \"+ \"'NUM_1': opt_data.values.people[/** @type {?} */ (0)], \"+ \"'NUM_2': opt_data.values.people[/** @type {?} */ (1)], \"+ \"'PERSON': opt_data.person, \"+ \"'XXX_1': opt_data.values.people[/** @type {?} */ (0)], \"+ \"'XXX_2': opt_data.values.people[/** @type {?} */ (1)]});\\n\"+ \"output += msg_s;\\n\"","dfgs":[],"fName":"java_tests_com_google_template_soy_jssrc_internal_GenJsCodeVisitorTest.java","fieldParents":[],"isDel":true,"lineBeg":1011,"lineEnd":1042,"lineMapIndex":12,"methodParents":[],"nodeIndex":4},{"cfgs":[6],"code":"assertThatSoyExpr(\"$boo[0][1].foo[2]\").generatesCode(\"opt_data.boo[/** @type {?} */ (0)][/** @type {?} */ (1)].foo[/** @type {?} */ (2)];\")","dfgs":[6],"fName":"java_tests_com_google_template_soy_jssrc_internal_TranslateExprNodeVisitorTest.java","fieldParents":[],"isDel":true,"lineBeg":95,"lineEnd":97,"lineMapIndex":13,"methodParents":[],"nodeIndex":5},{"cfgs":[7],"code":"assertThatSoyExpr(\"$boo[0][1]\").generatesCode(\"opt_data.boo[/** @type {?} */ (0)][/** @type {?} */ (1)];\")","dfgs":[7],"fName":"java_tests_com_google_template_soy_jssrc_internal_TranslateExprNodeVisitorTest.java","fieldParents":[],"isDel":true,"lineBeg":98,"lineEnd":99,"lineMapIndex":14,"methodParents":[],"nodeIndex":6},{"cfgs":[],"code":"assertThatSoyExpr(\"$boo[/** @type {?} */ ($foo)][/** @type {?} */ ($goo+1)]\").withInitialLocalVarTranslations(LOCAL_VAR_TRANSLATIONS).generatesCode(\"opt_data.boo[/** @type {?} */ (opt_data.foo)][/** @type {?} */ (gooData8 + 1)];\")","dfgs":[],"fName":"java_tests_com_google_template_soy_jssrc_internal_TranslateExprNodeVisitorTest.java","fieldParents":[],"isDel":true,"lineBeg":100,"lineEnd":103,"lineMapIndex":15,"methodParents":[],"nodeIndex":7},{"cfgs":[],"code":"assertThatSoyExpr(\"example.ExampleExtendable(someEnum: example.SomeEnum.SECOND)\").withTypeRegistry(REGISTRY).generatesCode(\"var $tmp = new proto.example.ExampleExtendable();\",\"$tmp.setSomeEnum(/** @type {?proto.example.SomeEnum} */ (2));\")","dfgs":[],"fName":"java_tests_com_google_template_soy_jssrc_internal_JspbTest.java","fieldParents":[],"isDel":true,"lineBeg":158,"lineEnd":162,"lineMapIndex":16,"methodParents":[],"nodeIndex":8},{"cfgs":[],"code":"assertThatSoyExpr(expr(\"example.ExampleExtendable(someEnum: $e)\").withParam(\"{@param e: example.SomeEnum}\")).withTypeRegistry(REGISTRY).generatesCode(\"var $tmp = new proto.example.ExampleExtendable();\",\"$tmp.setSomeEnum(/** @type {?proto.example.SomeEnum} */ (opt_data.e));\")","dfgs":[],"fName":"java_tests_com_google_template_soy_jssrc_internal_JspbTest.java","fieldParents":[],"isDel":true,"lineBeg":164,"lineEnd":170,"lineMapIndex":17,"methodParents":[],"nodeIndex":9},{"cfgs":[],"code":"return isSoyMapAtRuntime(baseType)? base.mapGetAccess(genMapKeyCode(keyNode), itemAccess.isNullSafe()) // soy.Map: base.bracketAccess(visit(keyNode), itemAccess.isNullSafe())","dfgs":[],"fName":"java_src_com_google_template_soy_jssrc_internal_TranslateExprNodeVisitor.java","fieldParents":[],"isDel":false,"lineBeg":367,"lineEnd":370,"lineMapIndex":0,"methodParents":[],"nodeIndex":10},{"cfgs":[12],"code":"expectedJsCode =\"\"+ \"/** @desc A sample nested message */\\n\"+ \"var MSG_UNNAMED = goog.getMsg(\"+ \"'{FORMAT,select,\"+ \"user_centric{\"+ \"{STATUS_1,select,\"+ \"female{{PERSON_1} added {PERSON_2} and friends to her circle.}\"+ \"other{{PERSON_1} added {PERSON_2} and friends to his circle.}\"+ \"}\"+ \"}\"+ \"friend_centric{\"+ \"{STATUS_2,select,\"+ \"female{{PERSON_1} added {PERSON_2} and her friends to circle.}\"+ \"other{{PERSON_1} added {PERSON_2} and his friends to circle.}\"+ \"}\"+ \"}\"+ \"other{\"+ \"{STATUS_1,select,\"+ \"female{{PERSON_1} added {PERSON_2} and some friends to her circle.}\"+ \"other{{PERSON_1} added {PERSON_2} and some friends to his circle.}\"+ \"}\"+ \"}\"+ \"}');\\n\"+ \"var msg_s = new goog.i18n.MessageFormat(MSG_UNNAMED).formatIgnoringPound(\"+ \"{'FORMAT': opt_data.format, \"+ \"'STATUS_1': opt_data.gender[0], \"+ \"'STATUS_2': opt_data.gender[1], \"+ \"'PERSON_1': opt_data.person1, \"+ \"'PERSON_2': opt_data.person2});\\n\"+ \"output += msg_s;\\n\"","dfgs":[],"fName":"java_tests_com_google_template_soy_jssrc_internal_GenJsCodeVisitorTest.java","fieldParents":[],"isDel":false,"lineBeg":955,"lineEnd":985,"lineMapIndex":3,"methodParents":[],"nodeIndex":11},{"cfgs":[],"code":"expectedJsCode =\"\"+ \"/** @desc A sample nested message */\\n\"+ \"var MSG_UNNAMED = goog.getMsg(\"+ \"'{STATUS,select,\"+ \"female{\"+ \"{NUM_1,plural,\"+ \"=1{{PERSON} added one person to her circle.}\"+ \"other{{PERSON} added {XXX_1} to her circle.}\"+ \"}\"+ \"}\"+ \"male{\"+ \"{NUM_2,plural,\"+ \"=1{{PERSON} added one person to his circle.}\"+ \"other{{PERSON} added {XXX_2} to his circle.}\"+ \"}\"+ \"}\"+ \"other{\"+ \"{NUM_2,plural,\"+ \"=1{{PERSON} added one person to his/her circle.}\"+ \"other{{PERSON} added {XXX_2} to his/her circle.}\"+ \"}\"+ \"}\"+ \"}');\\n\"+ \"var msg_s = new goog.i18n.MessageFormat(MSG_UNNAMED).formatIgnoringPound(\"+ \"{'STATUS': opt_data.values.gender[0], \"+ \"'NUM_1': opt_data.values.people[0], \"+ \"'NUM_2': opt_data.values.people[1], \"+ \"'PERSON': opt_data.person, \"+ \"'XXX_1': opt_data.values.people[0], \"+ \"'XXX_2': opt_data.values.people[1]});\\n\"+ \"output += msg_s;\\n\"","dfgs":[],"fName":"java_tests_com_google_template_soy_jssrc_internal_GenJsCodeVisitorTest.java","fieldParents":[],"isDel":false,"lineBeg":1011,"lineEnd":1042,"lineMapIndex":4,"methodParents":[],"nodeIndex":12},{"cfgs":[14],"code":"assertThatSoyExpr(\"$boo[0][1].foo[2]\").generatesCode(\"opt_data.boo[0][1].foo[2];\")","dfgs":[14],"fName":"java_tests_com_google_template_soy_jssrc_internal_TranslateExprNodeVisitorTest.java","fieldParents":[],"isDel":false,"lineBeg":95,"lineEnd":95,"lineMapIndex":5,"methodParents":[],"nodeIndex":13},{"cfgs":[15],"code":"assertThatSoyExpr(\"$boo[0][1]\").generatesCode(\"opt_data.boo[0][1];\")","dfgs":[15],"fName":"java_tests_com_google_template_soy_jssrc_internal_TranslateExprNodeVisitorTest.java","fieldParents":[],"isDel":false,"lineBeg":96,"lineEnd":96,"lineMapIndex":6,"methodParents":[],"nodeIndex":14},{"cfgs":[],"code":"assertThatSoyExpr(\"$boo[$foo][$goo+1]\").withInitialLocalVarTranslations(LOCAL_VAR_TRANSLATIONS).generatesCode(\"opt_data.boo[opt_data.foo][gooData8 + 1];\")","dfgs":[],"fName":"java_tests_com_google_template_soy_jssrc_internal_TranslateExprNodeVisitorTest.java","fieldParents":[],"isDel":false,"lineBeg":97,"lineEnd":99,"lineMapIndex":7,"methodParents":[],"nodeIndex":15},{"cfgs":[],"code":"assertThatSoyExpr(\"example.ExampleExtendable(someEnum: example.SomeEnum.SECOND)\").withTypeRegistry(REGISTRY).generatesCode(\"var $tmp = new proto.example.ExampleExtendable();\", \"$tmp.setSomeEnum(2);\")","dfgs":[],"fName":"java_tests_com_google_template_soy_jssrc_internal_JspbTest.java","fieldParents":[],"isDel":false,"lineBeg":158,"lineEnd":160,"lineMapIndex":8,"methodParents":[],"nodeIndex":16},{"cfgs":[],"code":"assertThatSoyExpr(expr(\"example.ExampleExtendable(someEnum: $e)\").withParam(\"{@param e: example.SomeEnum}\")).withTypeRegistry(REGISTRY).generatesCode(\"var $tmp = new proto.example.ExampleExtendable();\", \"$tmp.setSomeEnum(opt_data.e);\")","dfgs":[],"fName":"java_tests_com_google_template_soy_jssrc_internal_JspbTest.java","fieldParents":[],"isDel":false,"lineBeg":162,"lineEnd":167,"lineMapIndex":9,"methodParents":[],"nodeIndex":17}]