[{"cfgs": [], "code": "import org.kohsuke.stapler.export.ExportedBean", "dfgs": [], "fName": "core_src_main_java_hudson_model_queue_WorkUnit.java", "fieldParents": [], "isDel": true, "lineBeg": 34, "lineEnd": 34, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 0, "rootcause": false, "commits": ["92a2c48fab69b08eb0b9e3b8ff9a202d2c6ad09c"]}, {"cfgs": [], "code": "import static org.hamcrest.Matchers.containsString", "dfgs": [], "fName": "test_src_test_java_hudson_model_ExecutorTest.java", "fieldParents": [], "isDel": true, "lineBeg": 3, "lineEnd": 3, "lineMapIndex": 7, "methodParents": [], "nodeIndex": 1, "rootcause": false, "commits": ["f61f2cd3caffcb97bc1d3d681a4110690df97b5d"]}, {"cfgs": [], "code": "import hudson.security.AccessControlled", "dfgs": [], "fName": "core_src_main_java_hudson_model_Executor.java", "fieldParents": [], "isDel": false, "lineBeg": 67, "lineEnd": 67, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 2, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import org.kohsuke.accmod.restrictions.DoNotUse", "dfgs": [], "fName": "core_src_main_java_hudson_model_Executor.java", "fieldParents": [], "isDel": false, "lineBeg": 74, "lineEnd": 74, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 3, "rootcause": false, "commits": []}, {"cfgs": [5], "code": "// for exporting onlypublic Queue.Executable getCurrentExecutableForApi()", "dfgs": [6, 5], "fName": "core_src_main_java_hudson_model_Executor.java", "fieldParents": [], "isDel": false, "lineBeg": 501, "lineEnd": 502, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 4, "rootcause": false, "commits": []}, {"cfgs": [6], "code": "Executable candidate = getCurrentExecutable()", "dfgs": [6], "fName": "core_src_main_java_hudson_model_Executor.java", "fieldParents": [], "isDel": false, "lineBeg": 503, "lineEnd": 503, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 5, "rootcause": false, "commits": []}, {"cfgs": [], "code": "return candidate instanceof AccessControlled && ((AccessControlled) candidate).hasPermission(Item.READ) ? candidate : null", "dfgs": [], "fName": "core_src_main_java_hudson_model_Executor.java", "fieldParents": [], "isDel": false, "lineBeg": 504, "lineEnd": 504, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 6, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import static org.hamcrest.Matchers.*", "dfgs": [], "fName": "test_src_test_java_hudson_model_ExecutorTest.java", "fieldParents": [], "isDel": false, "lineBeg": 3, "lineEnd": 3, "lineMapIndex": 1, "methodParents": [], "nodeIndex": 7, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import jenkins.model.Jenkins", "dfgs": [], "fName": "test_src_test_java_hudson_model_ExecutorTest.java", "fieldParents": [], "isDel": false, "lineBeg": 24, "lineEnd": 24, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 8, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import org.jvnet.hudson.test.MockAuthorizationStrategy", "dfgs": [], "fName": "test_src_test_java_hudson_model_ExecutorTest.java", "fieldParents": [], "isDel": false, "lineBeg": 25, "lineEnd": 25, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 9, "rootcause": false, "commits": []}, {"cfgs": [], "code": "public void apiPermissions() throws Exception ", "dfgs": [], "fName": "test_src_test_java_hudson_model_ExecutorTest.java", "fieldParents": [], "isDel": false, "lineBeg": 124, "lineEnd": 124, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 10, "rootcause": false, "commits": []}, {"cfgs": [12], "code": "DumbSlave slave = new DumbSlave(\"slave\", j.jenkins.getRootDir().getAbsolutePath(), j.createComputerLauncher(null))", "dfgs": [12, 13, 14], "fName": "test_src_test_java_hudson_model_ExecutorTest.java", "fieldParents": [], "isDel": false, "lineBeg": 125, "lineEnd": 125, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 11, "rootcause": false, "commits": []}, {"cfgs": [13], "code": "slave.setNumExecutors(2)", "dfgs": [13], "fName": "test_src_test_java_hudson_model_ExecutorTest.java", "fieldParents": [], "isDel": false, "lineBeg": 126, "lineEnd": 126, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 12, "rootcause": false, "commits": []}, {"cfgs": [14], "code": "j.jenkins.addNode(slave)", "dfgs": [15, 14], "fName": "test_src_test_java_hudson_model_ExecutorTest.java", "fieldParents": [], "isDel": false, "lineBeg": 127, "lineEnd": 127, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 13, "rootcause": false, "commits": []}, {"cfgs": [15], "code": "FreeStyleProject publicProject = j.createFreeStyleProject(\"public-project\")", "dfgs": [15, 16], "fName": "test_src_test_java_hudson_model_ExecutorTest.java", "fieldParents": [], "isDel": false, "lineBeg": 128, "lineEnd": 128, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 14, "rootcause": false, "commits": []}, {"cfgs": [16], "code": "publicProject.setAssignedNode(slave)", "dfgs": [16, 18], "fName": "test_src_test_java_hudson_model_ExecutorTest.java", "fieldParents": [], "isDel": false, "lineBeg": 129, "lineEnd": 129, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 15, "rootcause": false, "commits": []}, {"cfgs": [17], "code": "startBlockingBuild(publicProject)", "dfgs": [19, 17, 21], "fName": "test_src_test_java_hudson_model_ExecutorTest.java", "fieldParents": [], "isDel": false, "lineBeg": 130, "lineEnd": 130, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 16, "rootcause": false, "commits": []}, {"cfgs": [18], "code": "FreeStyleProject secretProject = j.createFreeStyleProject(\"secret-project\")", "dfgs": [18, 19], "fName": "test_src_test_java_hudson_model_ExecutorTest.java", "fieldParents": [], "isDel": false, "lineBeg": 131, "lineEnd": 131, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 17, "rootcause": false, "commits": []}, {"cfgs": [19], "code": "secretProject.setAssignedNode(slave)", "dfgs": [19, 22], "fName": "test_src_test_java_hudson_model_ExecutorTest.java", "fieldParents": [], "isDel": false, "lineBeg": 132, "lineEnd": 132, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 18, "rootcause": false, "commits": []}, {"cfgs": [20], "code": "startBlockingBuild(secretProject)", "dfgs": [20, 21, 24, 22], "fName": "test_src_test_java_hudson_model_ExecutorTest.java", "fieldParents": [], "isDel": false, "lineBeg": 133, "lineEnd": 133, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 19, "rootcause": false, "commits": []}, {"cfgs": [21], "code": "j.jenkins.setSecurityRealm(j.createDummySecurityRealm())", "dfgs": [21, 22], "fName": "test_src_test_java_hudson_model_ExecutorTest.java", "fieldParents": [], "isDel": false, "lineBeg": 134, "lineEnd": 134, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 20, "rootcause": false, "commits": []}, {"cfgs": [22], "code": "j.jenkins.setAuthorizationStrategy(new MockAuthorizationStrategy().grant(Jenkins.READ).everywhere().toEveryone().grant(Item.READ).onItems(publicProject).toEveryone().grant(Item.READ).onItems(secretProject).to(\"has-security-clearance\"))", "dfgs": [22], "fName": "test_src_test_java_hudson_model_ExecutorTest.java", "fieldParents": [], "isDel": false, "lineBeg": 135, "lineEnd": 138, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 21, "rootcause": false, "commits": []}, {"cfgs": [23], "code": "String api = j.createWebClient().login(\"has-security-clearance\").goTo(slave.toComputer().getUrl() + \"api/json?pretty&depth=1\", null).getWebResponse().getContentAsString()", "dfgs": [23, 24, 25], "fName": "test_src_test_java_hudson_model_ExecutorTest.java", "fieldParents": [], "isDel": false, "lineBeg": 139, "lineEnd": 139, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 22, "rootcause": false, "commits": []}, {"cfgs": [24], "code": "System.out.println(api)", "dfgs": [24, 26], "fName": "test_src_test_java_hudson_model_ExecutorTest.java", "fieldParents": [], "isDel": false, "lineBeg": 140, "lineEnd": 140, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 23, "rootcause": false, "commits": []}, {"cfgs": [25], "code": "assertThat(api, allOf(containsString(\"public-project\"), containsString(\"secret-project\")))", "dfgs": [27, 25], "fName": "test_src_test_java_hudson_model_ExecutorTest.java", "fieldParents": [], "isDel": false, "lineBeg": 141, "lineEnd": 141, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 24, "rootcause": false, "commits": []}, {"cfgs": [26], "code": "api = j.createWebClient().login(\"regular-joe\").goTo(slave.toComputer().getUrl() + \"api/json?pretty&depth=1\", null).getWebResponse().getContentAsString()", "dfgs": [26, 27], "fName": "test_src_test_java_hudson_model_ExecutorTest.java", "fieldParents": [], "isDel": false, "lineBeg": 142, "lineEnd": 142, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 25, "rootcause": false, "commits": []}, {"cfgs": [27], "code": "System.out.println(api)", "dfgs": [27], "fName": "test_src_test_java_hudson_model_ExecutorTest.java", "fieldParents": [], "isDel": false, "lineBeg": 143, "lineEnd": 143, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 26, "rootcause": false, "commits": []}, {"cfgs": [], "code": "assertThat(api, allOf(containsString(\"public-project\"), not(containsString(\"secret-project\"))))", "dfgs": [], "fName": "test_src_test_java_hudson_model_ExecutorTest.java", "fieldParents": [], "isDel": false, "lineBeg": 144, "lineEnd": 144, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 27, "rootcause": false, "commits": []}]