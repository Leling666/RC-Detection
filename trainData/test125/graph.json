[{"cfgs":[1],"code":"Trash trash = new Trash(FileSystem.get(fullyResolvedPath.toUri(), conf), conf)","dfgs":[1],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_fs_Trash.java","fieldParents":[],"isDel":true,"lineBeg":71,"lineEnd":71,"lineMapIndex":44,"methodParents":[],"nodeIndex":0},{"cfgs":[],"code":"boolean success =  trash.moveToTrash(fullyResolvedPath)","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_fs_Trash.java","fieldParents":[],"isDel":true,"lineBeg":72,"lineEnd":72,"lineMapIndex":54,"methodParents":[],"nodeIndex":1},{"cfgs":[3],"code":"long trashInterval = 0","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_fs_TrashPolicyDefault.java","fieldParents":[],"isDel":true,"lineBeg":82,"lineEnd":82,"lineMapIndex":-1,"methodParents":[],"nodeIndex":2},{"cfgs":[4],"code":"try ","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_fs_TrashPolicyDefault.java","fieldParents":[],"isDel":true,"lineBeg":83,"lineEnd":83,"lineMapIndex":-1,"methodParents":[],"nodeIndex":3},{"cfgs":[7,5],"code":"trashInterval = fs.getServerDefaults(home).getTrashInterval()","dfgs":[7],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_fs_TrashPolicyDefault.java","fieldParents":[],"isDel":true,"lineBeg":84,"lineEnd":84,"lineMapIndex":-1,"methodParents":[],"nodeIndex":4},{"cfgs":[6],"code":"catch (IOException ioe)","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_fs_TrashPolicyDefault.java","fieldParents":[],"isDel":true,"lineBeg":85,"lineEnd":85,"lineMapIndex":-1,"methodParents":[],"nodeIndex":5},{"cfgs":[7],"code":"LOG.warn(\"Unable to get server defaults\", ioe)","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_fs_TrashPolicyDefault.java","fieldParents":[],"isDel":true,"lineBeg":86,"lineEnd":86,"lineMapIndex":-1,"methodParents":[],"nodeIndex":6},{"cfgs":[8,9],"code":"if (0 == trashInterval)","dfgs":[10],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_fs_TrashPolicyDefault.java","fieldParents":[],"isDel":true,"lineBeg":90,"lineEnd":90,"lineMapIndex":-1,"methodParents":[],"nodeIndex":7},{"cfgs":[],"code":"this.deletionInterval = (long)(conf.getFloat(FS_TRASH_INTERVAL_KEY, FS_TRASH_INTERVAL_DEFAULT)* MSECS_PER_MINUTE)","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_fs_TrashPolicyDefault.java","fieldParents":[],"isDel":true,"lineBeg":91,"lineEnd":93,"lineMapIndex":96,"methodParents":[],"nodeIndex":8},{"cfgs":[10],"code":"else","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_fs_TrashPolicyDefault.java","fieldParents":[],"isDel":true,"lineBeg":94,"lineEnd":94,"lineMapIndex":-1,"methodParents":[],"nodeIndex":9},{"cfgs":[],"code":"this.deletionInterval = trashInterval * MSECS_PER_MINUTE","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_fs_TrashPolicyDefault.java","fieldParents":[],"isDel":true,"lineBeg":95,"lineEnd":95,"lineMapIndex":-1,"methodParents":[],"nodeIndex":10},{"cfgs":[],"code":"import org.apache.hadoop.fs.Trash","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":26,"lineEnd":26,"lineMapIndex":-1,"methodParents":[],"nodeIndex":11},{"cfgs":[],"code":"import static org.apache.hadoop.fs.CommonConfigurationKeysPublic.FS_TRASH_INTERVAL_KEY","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":28,"lineEnd":28,"lineMapIndex":-1,"methodParents":[],"nodeIndex":12},{"cfgs":[],"code":"import static org.junit.Assert.assertFalse","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":29,"lineEnd":29,"lineMapIndex":-1,"methodParents":[],"nodeIndex":13},{"cfgs":[],"code":"import static org.junit.Assert.assertTrue","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":30,"lineEnd":30,"lineMapIndex":-1,"methodParents":[],"nodeIndex":14},{"cfgs":[],"code":"public void testTrashEnabledServerSide() throws IOException ","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":68,"lineEnd":68,"lineMapIndex":-1,"methodParents":[],"nodeIndex":15},{"cfgs":[17],"code":"Configuration serverConf = new HdfsConfiguration()","dfgs":[18],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":69,"lineEnd":69,"lineMapIndex":-1,"methodParents":[],"nodeIndex":16},{"cfgs":[18],"code":"Configuration clientConf = new Configuration()","dfgs":[19],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":70,"lineEnd":70,"lineMapIndex":-1,"methodParents":[],"nodeIndex":17},{"cfgs":[19],"code":"serverConf.setLong(FS_TRASH_INTERVAL_KEY, 1)","dfgs":[19,22],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":73,"lineEnd":73,"lineMapIndex":-1,"methodParents":[],"nodeIndex":18},{"cfgs":[20],"code":"clientConf.setLong(FS_TRASH_INTERVAL_KEY, 1)","dfgs":[25,24],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":74,"lineEnd":74,"lineMapIndex":-1,"methodParents":[],"nodeIndex":19},{"cfgs":[21],"code":"MiniDFSCluster cluster2 = null","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":76,"lineEnd":76,"lineMapIndex":-1,"methodParents":[],"nodeIndex":20},{"cfgs":[22],"code":"try ","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":77,"lineEnd":77,"lineMapIndex":-1,"methodParents":[],"nodeIndex":21},{"cfgs":[23],"code":"cluster2 = new MiniDFSCluster.Builder(serverConf).numDataNodes(1).build()","dfgs":[23],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":78,"lineEnd":78,"lineMapIndex":-1,"methodParents":[],"nodeIndex":22},{"cfgs":[24],"code":"FileSystem fs = cluster2.getFileSystem()","dfgs":[24],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":79,"lineEnd":79,"lineMapIndex":-1,"methodParents":[],"nodeIndex":23},{"cfgs":[25],"code":"assertTrue(new Trash(fs, clientConf).isEnabled())","dfgs":[25,26],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":80,"lineEnd":80,"lineMapIndex":-1,"methodParents":[],"nodeIndex":24},{"cfgs":[26],"code":"clientConf.setLong(FS_TRASH_INTERVAL_KEY, 0)","dfgs":[26],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":83,"lineEnd":83,"lineMapIndex":-1,"methodParents":[],"nodeIndex":25},{"cfgs":[28],"code":"assertTrue(new Trash(fs, clientConf).isEnabled())","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":84,"lineEnd":84,"lineMapIndex":-1,"methodParents":[],"nodeIndex":26},{"cfgs":[],"code":"","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":85,"lineEnd":85,"lineMapIndex":-1,"methodParents":[],"nodeIndex":27},{"cfgs":[],"code":"if (cluster2 != null)","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":86,"lineEnd":86,"lineMapIndex":-1,"methodParents":[],"nodeIndex":28},{"cfgs":[],"code":"public void testTrashEnabledClientSide() throws IOException ","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":92,"lineEnd":92,"lineMapIndex":-1,"methodParents":[],"nodeIndex":29},{"cfgs":[31],"code":"Configuration serverConf = new HdfsConfiguration()","dfgs":[32],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":93,"lineEnd":93,"lineMapIndex":-1,"methodParents":[],"nodeIndex":30},{"cfgs":[32],"code":"Configuration clientConf = new Configuration()","dfgs":[37],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":94,"lineEnd":94,"lineMapIndex":-1,"methodParents":[],"nodeIndex":31},{"cfgs":[33],"code":"serverConf.setLong(FS_TRASH_INTERVAL_KEY, 0)","dfgs":[38,35],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":97,"lineEnd":97,"lineMapIndex":-1,"methodParents":[],"nodeIndex":32},{"cfgs":[34],"code":"MiniDFSCluster cluster2 = null","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":99,"lineEnd":99,"lineMapIndex":-1,"methodParents":[],"nodeIndex":33},{"cfgs":[35],"code":"try ","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":100,"lineEnd":100,"lineMapIndex":-1,"methodParents":[],"nodeIndex":34},{"cfgs":[36],"code":"cluster2 = new MiniDFSCluster.Builder(serverConf).numDataNodes(1).build()","dfgs":[36],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":101,"lineEnd":101,"lineMapIndex":-1,"methodParents":[],"nodeIndex":35},{"cfgs":[37],"code":"FileSystem fs = cluster2.getFileSystem()","dfgs":[42,37],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":104,"lineEnd":104,"lineMapIndex":-1,"methodParents":[],"nodeIndex":36},{"cfgs":[38],"code":"assertFalse(new Trash(fs, clientConf).isEnabled())","dfgs":[38,39],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":105,"lineEnd":105,"lineMapIndex":-1,"methodParents":[],"nodeIndex":37},{"cfgs":[39],"code":"clientConf.setLong(FS_TRASH_INTERVAL_KEY, 1)","dfgs":[39],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":108,"lineEnd":108,"lineMapIndex":-1,"methodParents":[],"nodeIndex":38},{"cfgs":[41],"code":"assertTrue(new Trash(fs, clientConf).isEnabled())","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":109,"lineEnd":109,"lineMapIndex":-1,"methodParents":[],"nodeIndex":39},{"cfgs":[],"code":"","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":110,"lineEnd":110,"lineMapIndex":-1,"methodParents":[],"nodeIndex":40},{"cfgs":[42],"code":"if (cluster2 != null)","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":111,"lineEnd":111,"lineMapIndex":-1,"methodParents":[],"nodeIndex":41},{"cfgs":[],"code":"cluster2.shutdown()","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestHDFSTrash.java","fieldParents":[],"isDel":true,"lineBeg":111,"lineEnd":111,"lineMapIndex":-1,"methodParents":[],"nodeIndex":42},{"cfgs":[],"code":"assertTrue(\"skipTrash wasn't suggested as remedy to failed rm command\",output.indexOf((\"Consider using -skipTrash option\")) != -1 )","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_test_java_org_apache_hadoop_fs_TestTrash.java","fieldParents":[],"isDel":true,"lineBeg":432,"lineEnd":433,"lineMapIndex":97,"methodParents":[],"nodeIndex":43},{"cfgs":[45],"code":"FileSystem fullyResolvedFs =FileSystem.get(fullyResolvedPath.toUri(), conf)","dfgs":[53,46,48],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_fs_Trash.java","fieldParents":[],"isDel":false,"lineBeg":71,"lineEnd":72,"lineMapIndex":0,"methodParents":[],"nodeIndex":44},{"cfgs":[46],"code":"try ","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_fs_Trash.java","fieldParents":[],"isDel":false,"lineBeg":75,"lineEnd":75,"lineMapIndex":-1,"methodParents":[],"nodeIndex":45},{"cfgs":[47],"code":"long trashInterval = fullyResolvedFs.getServerDefaults(fullyResolvedPath).getTrashInterval()","dfgs":[53,54,47],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_fs_Trash.java","fieldParents":[],"isDel":false,"lineBeg":76,"lineEnd":77,"lineMapIndex":-1,"methodParents":[],"nodeIndex":46},{"cfgs":[48,53,51],"code":"if (0 != trashInterval)","dfgs":[49],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_fs_Trash.java","fieldParents":[],"isDel":false,"lineBeg":78,"lineEnd":78,"lineMapIndex":-1,"methodParents":[],"nodeIndex":47},{"cfgs":[49],"code":"Configuration confCopy = new Configuration(conf)","dfgs":[49],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_fs_Trash.java","fieldParents":[],"isDel":false,"lineBeg":79,"lineEnd":79,"lineMapIndex":-1,"methodParents":[],"nodeIndex":48},{"cfgs":[50],"code":"confCopy.setLong(CommonConfigurationKeysPublic.FS_TRASH_INTERVAL_KEY,trashInterval)","dfgs":[50],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_fs_Trash.java","fieldParents":[],"isDel":false,"lineBeg":80,"lineEnd":81,"lineMapIndex":-1,"methodParents":[],"nodeIndex":49},{"cfgs":[53,51],"code":"conf = confCopy","dfgs":[53],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_fs_Trash.java","fieldParents":[],"isDel":false,"lineBeg":82,"lineEnd":82,"lineMapIndex":-1,"methodParents":[],"nodeIndex":50},{"cfgs":[52],"code":"catch (Exception e)","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_fs_Trash.java","fieldParents":[],"isDel":false,"lineBeg":84,"lineEnd":84,"lineMapIndex":-1,"methodParents":[],"nodeIndex":51},{"cfgs":[53],"code":"throw new IOException(\"Failed to get server trash configuration\", e)","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_fs_Trash.java","fieldParents":[],"isDel":false,"lineBeg":87,"lineEnd":87,"lineMapIndex":-1,"methodParents":[],"nodeIndex":52},{"cfgs":[54],"code":"Trash trash = new Trash(fullyResolvedFs, conf)","dfgs":[54],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_fs_Trash.java","fieldParents":[],"isDel":false,"lineBeg":89,"lineEnd":89,"lineMapIndex":-1,"methodParents":[],"nodeIndex":53},{"cfgs":[],"code":"boolean success = trash.moveToTrash(fullyResolvedPath)","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_fs_Trash.java","fieldParents":[],"isDel":false,"lineBeg":90,"lineEnd":90,"lineMapIndex":1,"methodParents":[],"nodeIndex":54},{"cfgs":[],"code":"import static org.apache.hadoop.fs.CommonConfigurationKeysPublic.FS_TRASH_INTERVAL_KEY","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":60,"lineEnd":60,"lineMapIndex":-1,"methodParents":[],"nodeIndex":55},{"cfgs":[57],"code":"private void deleteFileUsingTrash(boolean serverTrash, boolean clientTrash) throws Exception","dfgs":[57,61,66,67,58,62,71,72,59,60,63,70,75,76,65,69,73,74,84,86,77,78,85,87,79,81,82],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1488,"lineEnd":1489,"lineMapIndex":-1,"methodParents":[],"nodeIndex":56},{"cfgs":[60,58],"code":"Configuration serverConf = new HdfsConfiguration()","dfgs":[59,60],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1491,"lineEnd":1491,"lineMapIndex":-1,"methodParents":[],"nodeIndex":57},{"cfgs":[59],"code":"if (serverTrash)","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1492,"lineEnd":1492,"lineMapIndex":-1,"methodParents":[],"nodeIndex":58},{"cfgs":[60],"code":"serverConf.setLong(FS_TRASH_INTERVAL_KEY, 1)","dfgs":[63,65,60],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1493,"lineEnd":1493,"lineMapIndex":-1,"methodParents":[],"nodeIndex":59},{"cfgs":[61],"code":"MiniDFSCluster cluster = new MiniDFSCluster.Builder(serverConf).numDataNodes(1).format(true).build()","dfgs":[61,69],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1496,"lineEnd":1497,"lineMapIndex":-1,"methodParents":[],"nodeIndex":60},{"cfgs":[62,64],"code":"Configuration clientConf = new Configuration(serverConf)","dfgs":[63,65],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1498,"lineEnd":1498,"lineMapIndex":-1,"methodParents":[],"nodeIndex":61},{"cfgs":[63],"code":"if (clientTrash)","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1501,"lineEnd":1501,"lineMapIndex":-1,"methodParents":[],"nodeIndex":62},{"cfgs":[66],"code":"clientConf.setLong(FS_TRASH_INTERVAL_KEY, 1)","dfgs":[66],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1502,"lineEnd":1502,"lineMapIndex":-1,"methodParents":[],"nodeIndex":63},{"cfgs":[65],"code":"else","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1503,"lineEnd":1503,"lineMapIndex":-1,"methodParents":[],"nodeIndex":64},{"cfgs":[66],"code":"clientConf.setLong(FS_TRASH_INTERVAL_KEY, 0)","dfgs":[66],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1504,"lineEnd":1504,"lineMapIndex":-1,"methodParents":[],"nodeIndex":65},{"cfgs":[67],"code":"FsShell shell = new FsShell(clientConf)","dfgs":[72],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1507,"lineEnd":1507,"lineMapIndex":-1,"methodParents":[],"nodeIndex":66},{"cfgs":[68],"code":"FileSystem fs = null","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1508,"lineEnd":1508,"lineMapIndex":-1,"methodParents":[],"nodeIndex":67},{"cfgs":[69],"code":"try ","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1510,"lineEnd":1510,"lineMapIndex":-1,"methodParents":[],"nodeIndex":68},{"cfgs":[70],"code":"fs = cluster.getFileSystem()","dfgs":[70,86],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1512,"lineEnd":1512,"lineMapIndex":-1,"methodParents":[],"nodeIndex":69},{"cfgs":[71],"code":"writeFile(fs, new Path(TEST_ROOT_DIR, \"foo\"))","dfgs":[71,75,77,79,81],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1513,"lineEnd":1513,"lineMapIndex":-1,"methodParents":[],"nodeIndex":70},{"cfgs":[72],"code":"final String testFile = TEST_ROOT_DIR + \"/foo\"","dfgs":[72,73],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1514,"lineEnd":1514,"lineMapIndex":-1,"methodParents":[],"nodeIndex":71},{"cfgs":[73],"code":"final String trashFile = shell.getCurrentTrashDir() + \"/\" + testFile","dfgs":[74,77,79,82],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1515,"lineEnd":1515,"lineMapIndex":-1,"methodParents":[],"nodeIndex":72},{"cfgs":[74],"code":"String[] argv = new String[] { \"-rm\", testFile }","dfgs":[74,81],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1516,"lineEnd":1516,"lineMapIndex":-1,"methodParents":[],"nodeIndex":73},{"cfgs":[75],"code":"int res = ToolRunner.run(shell, argv)","dfgs":[75],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1517,"lineEnd":1517,"lineMapIndex":-1,"methodParents":[],"nodeIndex":74},{"cfgs":[76,78,80],"code":"assertEquals(\"rm failed\", 0, res)","dfgs":[77,79,81],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1518,"lineEnd":1518,"lineMapIndex":-1,"methodParents":[],"nodeIndex":75},{"cfgs":[77],"code":"if (serverTrash)","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1520,"lineEnd":1520,"lineMapIndex":-1,"methodParents":[],"nodeIndex":76},{"cfgs":[84],"code":"assertTrue(\"File not in trash\", fs.exists(new Path(trashFile)))","dfgs":[84],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1522,"lineEnd":1522,"lineMapIndex":-1,"methodParents":[],"nodeIndex":77},{"cfgs":[79],"code":"if (clientTrash)","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1523,"lineEnd":1523,"lineMapIndex":-1,"methodParents":[],"nodeIndex":78},{"cfgs":[84],"code":"assertTrue(\"File not in trashed\", fs.exists(new Path(trashFile)))","dfgs":[84],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1526,"lineEnd":1526,"lineMapIndex":-1,"methodParents":[],"nodeIndex":79},{"cfgs":[81],"code":"else","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1527,"lineEnd":1527,"lineMapIndex":-1,"methodParents":[],"nodeIndex":80},{"cfgs":[82],"code":"assertFalse(\"File was not removed\", fs.exists(new Path(testFile)))","dfgs":[82],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1529,"lineEnd":1529,"lineMapIndex":-1,"methodParents":[],"nodeIndex":81},{"cfgs":[84],"code":"assertFalse(\"File was trashed\", fs.exists(new Path(trashFile)))","dfgs":[84],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1530,"lineEnd":1530,"lineMapIndex":-1,"methodParents":[],"nodeIndex":82},{"cfgs":[],"code":"","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1532,"lineEnd":1532,"lineMapIndex":-1,"methodParents":[],"nodeIndex":83},{"cfgs":[85,86],"code":"if (fs != null)","dfgs":[85],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1533,"lineEnd":1533,"lineMapIndex":-1,"methodParents":[],"nodeIndex":84},{"cfgs":[86],"code":"fs.close()","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1534,"lineEnd":1534,"lineMapIndex":-1,"methodParents":[],"nodeIndex":85},{"cfgs":[87],"code":"if (cluster != null)","dfgs":[87],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1536,"lineEnd":1536,"lineMapIndex":-1,"methodParents":[],"nodeIndex":86},{"cfgs":[],"code":"cluster.shutdown()","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1537,"lineEnd":1537,"lineMapIndex":-1,"methodParents":[],"nodeIndex":87},{"cfgs":[],"code":"public void testServerConfigRespected() throws Exception ","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1547,"lineEnd":1547,"lineMapIndex":-1,"methodParents":[],"nodeIndex":88},{"cfgs":[],"code":"deleteFileUsingTrash(true, false)","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1548,"lineEnd":1548,"lineMapIndex":-1,"methodParents":[56],"nodeIndex":89},{"cfgs":[],"code":"public void testServerConfigRespectedWithClient() throws Exception ","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1556,"lineEnd":1556,"lineMapIndex":-1,"methodParents":[],"nodeIndex":90},{"cfgs":[],"code":"deleteFileUsingTrash(true, true)","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1557,"lineEnd":1557,"lineMapIndex":-1,"methodParents":[56],"nodeIndex":91},{"cfgs":[],"code":"public void testClientConfigRespected() throws Exception ","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1565,"lineEnd":1565,"lineMapIndex":-1,"methodParents":[],"nodeIndex":92},{"cfgs":[],"code":"deleteFileUsingTrash(false, true)","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1566,"lineEnd":1566,"lineMapIndex":-1,"methodParents":[56],"nodeIndex":93},{"cfgs":[],"code":"public void testNoTrashConfig() throws Exception ","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1573,"lineEnd":1573,"lineMapIndex":-1,"methodParents":[],"nodeIndex":94},{"cfgs":[],"code":"deleteFileUsingTrash(false, false)","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":1574,"lineEnd":1574,"lineMapIndex":-1,"methodParents":[56],"nodeIndex":95},{"cfgs":[],"code":"this.deletionInterval = (long)(conf.getFloat(FS_TRASH_INTERVAL_KEY, FS_TRASH_INTERVAL_DEFAULT)* MSECS_PER_MINUTE)","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_fs_TrashPolicyDefault.java","fieldParents":[],"isDel":false,"lineBeg":82,"lineEnd":84,"lineMapIndex":8,"methodParents":[],"nodeIndex":96},{"cfgs":[],"code":"assertTrue(\"skipTrash wasn't suggested as remedy to failed rm command\" +\" or we deleted / even though we could not get server defaults\",output.indexOf(\"Consider using -skipTrash option\") != -1 ||output.indexOf(\"Failed to determine server trash configuration\") != -1)","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_test_java_org_apache_hadoop_fs_TestTrash.java","fieldParents":[],"isDel":false,"lineBeg":431,"lineEnd":434,"lineMapIndex":43,"methodParents":[],"nodeIndex":97}]