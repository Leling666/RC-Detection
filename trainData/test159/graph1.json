[{"cfgs": [], "code": "static void createIndex() ", "dfgs": [], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": true, "lineBeg": 56, "lineEnd": 56, "lineMapIndex": 7, "methodParents": [], "nodeIndex": 0, "rootcause": false, "commits": ["90526f0ea12f1e6380242eb8f96dc81763e52726"]}, {"cfgs": [], "code": "if (prefix != null && prefix.length() > 0)", "dfgs": [], "fName": "solr_core_src_java_org_apache_solr_request_UnInvertedField.java", "fieldParents": [], "isDel": true, "lineBeg": 230, "lineEnd": 230, "lineMapIndex": 44, "methodParents": [], "nodeIndex": 1, "rootcause": false, "commits": ["156491848a15a8dfdd51f5a51934f383a2f1c8fb"]}, {"cfgs": [], "code": "import org.apache.noggit.ObjectBuilder", "dfgs": [], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 20, "lineEnd": 20, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 2, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import org.apache.solr.common.params.ModifiableSolrParams", "dfgs": [], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 22, "lineEnd": 22, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 3, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import org.apache.solr.schema.SchemaField", "dfgs": [], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 23, "lineEnd": 23, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 4, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import java.util.List", "dfgs": [], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 29, "lineEnd": 29, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 5, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import java.util.Map", "dfgs": [], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 30, "lineEnd": 30, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 6, "rootcause": false, "commits": []}, {"cfgs": [8], "code": "static void createIndex() throws Exception ", "dfgs": [8], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 61, "lineEnd": 61, "lineMapIndex": 0, "methodParents": [], "nodeIndex": 7, "rootcause": false, "commits": []}, {"cfgs": [], "code": "doEmptyFacetCounts()", "dfgs": [], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 62, "lineEnd": 62, "lineMapIndex": -1, "methodParents": [11], "nodeIndex": 8, "rootcause": false, "commits": []}, {"cfgs": [], "code": "public void testEmptyFacetCounts() throws Exception ", "dfgs": [], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 106, "lineEnd": 106, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 9, "rootcause": false, "commits": []}, {"cfgs": [], "code": "doEmptyFacetCounts()", "dfgs": [], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 107, "lineEnd": 107, "lineMapIndex": -1, "methodParents": [11], "nodeIndex": 10, "rootcause": false, "commits": []}, {"cfgs": [12], "code": "static void doEmptyFacetCounts() throws Exception ", "dfgs": [12, 13, 14, 15, 16], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 111, "lineEnd": 111, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 11, "rootcause": false, "commits": []}, {"cfgs": [13], "code": "doEmptyFacetCounts(\"empty_t\", new String[]{null, \"myprefix\",\"\"})", "dfgs": [], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 112, "lineEnd": 112, "lineMapIndex": -1, "methodParents": [17], "nodeIndex": 12, "rootcause": false, "commits": []}, {"cfgs": [14], "code": "doEmptyFacetCounts(\"empty_i\", new String[]{null})", "dfgs": [], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 113, "lineEnd": 113, "lineMapIndex": -1, "methodParents": [17], "nodeIndex": 13, "rootcause": false, "commits": []}, {"cfgs": [15], "code": "doEmptyFacetCounts(\"empty_f\", new String[]{null})", "dfgs": [], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 114, "lineEnd": 114, "lineMapIndex": -1, "methodParents": [17], "nodeIndex": 14, "rootcause": false, "commits": []}, {"cfgs": [16], "code": "doEmptyFacetCounts(\"empty_s\", new String[]{null, \"myprefix\",\"\"})", "dfgs": [], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 115, "lineEnd": 115, "lineMapIndex": -1, "methodParents": [17], "nodeIndex": 15, "rootcause": false, "commits": []}, {"cfgs": [], "code": "doEmptyFacetCounts(\"empty_d\", new String[]{null})", "dfgs": [], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 116, "lineEnd": 116, "lineMapIndex": -1, "methodParents": [17], "nodeIndex": 16, "rootcause": false, "commits": []}, {"cfgs": [18], "code": "static void doEmptyFacetCounts(String field, String[] prefixes) throws Exception ", "dfgs": [20, 21, 26, 27, 18, 19, 22, 23, 24, 32, 25, 28, 29, 37, 31, 33, 42, 34, 43, 36, 38, 39, 41], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 119, "lineEnd": 119, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 17, "rootcause": false, "commits": []}, {"cfgs": [19], "code": "SchemaField sf = h.getCore().getSchema().getField(field)", "dfgs": [22, 24], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 120, "lineEnd": 120, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 18, "rootcause": false, "commits": []}, {"cfgs": [20], "code": "String response = JQ(req(\"q\", \"*:*\"))", "dfgs": [22, 20], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 122, "lineEnd": 122, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 19, "rootcause": false, "commits": []}, {"cfgs": [21], "code": "Map rsp = (Map) ObjectBuilder.fromJSON(response)", "dfgs": [21], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 123, "lineEnd": 123, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 20, "rootcause": false, "commits": []}, {"cfgs": [22], "code": "Long numFound  = (Long)(((Map)rsp.get(\"response\")).get(\"numFound\"))", "dfgs": [42], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 124, "lineEnd": 124, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 21, "rootcause": false, "commits": []}, {"cfgs": [23], "code": "ModifiableSolrParams params = params(\"q\",\"*:*\", \"rows\",\"0\", \"facet\",\"true\", \"facet.field\",\"{!key=myalias}\"+field)", "dfgs": [29, 31, 43], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 126, "lineEnd": 126, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 22, "rootcause": false, "commits": []}, {"cfgs": [24], "code": "String[] methods = {null, \"fc\",\"enum\",\"fcs\"}", "dfgs": [27], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 128, "lineEnd": 128, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 23, "rootcause": false, "commits": []}, {"cfgs": [25, 26], "code": "if (sf.multiValued() || sf.getType().multiValuedFieldCache())", "dfgs": [], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 129, "lineEnd": 129, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 24, "rootcause": false, "commits": []}, {"cfgs": [26], "code": "methods = new String[]{null, \"fc\",\"enum\"}", "dfgs": [27], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 130, "lineEnd": 130, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 25, "rootcause": false, "commits": []}, {"cfgs": [27], "code": "prefixes = prefixes==null ? new String[]{null} : prefixes", "dfgs": [27, 32], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 133, "lineEnd": 133, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 26, "rootcause": false, "commits": []}, {"cfgs": [28], "code": "for (String method : methods)", "dfgs": [28, 32], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 136, "lineEnd": 136, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 27, "rootcause": false, "commits": []}, {"cfgs": [29, 30], "code": "if (method == null)", "dfgs": [31], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 137, "lineEnd": 137, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 28, "rootcause": false, "commits": []}, {"cfgs": [32], "code": "params.remove(\"facet.method\")", "dfgs": [31, 34, 36], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 138, "lineEnd": 138, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 29, "rootcause": false, "commits": []}, {"cfgs": [31], "code": "else", "dfgs": [], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 139, "lineEnd": 139, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 30, "rootcause": false, "commits": []}, {"cfgs": [32], "code": "params.set(\"facet.method\", method)", "dfgs": [34, 36], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 140, "lineEnd": 140, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 31, "rootcause": false, "commits": []}, {"cfgs": [33], "code": "for (String prefix : prefixes)", "dfgs": [33, 37], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 142, "lineEnd": 142, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 32, "rootcause": false, "commits": []}, {"cfgs": [34, 35], "code": "if (prefix == null)", "dfgs": [36], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 143, "lineEnd": 143, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 33, "rootcause": false, "commits": []}, {"cfgs": [37], "code": "params.remove(\"facet.prefix\")", "dfgs": [36, 39, 41], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 144, "lineEnd": 144, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 34, "rootcause": false, "commits": []}, {"cfgs": [36], "code": "else", "dfgs": [], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 145, "lineEnd": 145, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 35, "rootcause": false, "commits": []}, {"cfgs": [37], "code": "params.set(\"facet.prefix\", prefix)", "dfgs": [39, 41], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 146, "lineEnd": 146, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 36, "rootcause": false, "commits": []}, {"cfgs": [38], "code": "for (String missing : new String[] {null, \"true\"})", "dfgs": [38], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 149, "lineEnd": 149, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 37, "rootcause": false, "commits": []}, {"cfgs": [39, 40], "code": "if (missing == null)", "dfgs": [42, 41], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 150, "lineEnd": 150, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 38, "rootcause": false, "commits": []}, {"cfgs": [42], "code": "params.remove(\"facet.missing\")", "dfgs": [43], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 151, "lineEnd": 151, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 39, "rootcause": false, "commits": []}, {"cfgs": [41], "code": "else", "dfgs": [], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 152, "lineEnd": 152, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 40, "rootcause": false, "commits": []}, {"cfgs": [42], "code": "params.set(\"facet.missing\", missing)", "dfgs": [43, 42], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 153, "lineEnd": 153, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 41, "rootcause": false, "commits": []}, {"cfgs": [43], "code": "String expected = missing==null ? \"[]\" : \"[null,\" + numFound + \"]\"", "dfgs": [43], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 156, "lineEnd": 156, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 42, "rootcause": false, "commits": []}, {"cfgs": [], "code": "assertJQ(req(params),\"/facet_counts/facet_fields/myalias==\" + expected)", "dfgs": [], "fName": "solr_core_src_test_org_apache_solr_request_SimpleFacetsTest.java", "fieldParents": [], "isDel": false, "lineBeg": 158, "lineEnd": 159, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 43, "rootcause": false, "commits": []}, {"cfgs": [], "code": "if (te != null && prefix != null && prefix.length() > 0)", "dfgs": [], "fName": "solr_core_src_java_org_apache_solr_request_UnInvertedField.java", "fieldParents": [], "isDel": false, "lineBeg": 230, "lineEnd": 230, "lineMapIndex": 1, "methodParents": [], "nodeIndex": 44, "rootcause": false, "commits": []}]