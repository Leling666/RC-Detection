[{"cfgs":[],"code":"action.setCred(\"null\")","dfgs":[],"fName":"core_src_test_java_org_apache_oozie_test_XDataTestCase.java","fieldParents":[],"isDel":true,"lineBeg":1420,"lineEnd":1420,"lineMapIndex":-1,"methodParents":[],"nodeIndex":0},{"cfgs":[],"code":"action.setCred(\"null\")","dfgs":[],"fName":"core_src_test_java_org_apache_oozie_event_TestEventGeneration.java","fieldParents":[],"isDel":true,"lineBeg":689,"lineEnd":689,"lineMapIndex":-1,"methodParents":[],"nodeIndex":1},{"cfgs":[],"code":"action.setCred(\"null\")","dfgs":[],"fName":"core_src_test_java_org_apache_oozie_action_hadoop_TestJavaActionExecutor.java","fieldParents":[],"isDel":true,"lineBeg":1166,"lineEnd":1166,"lineMapIndex":-1,"methodParents":[],"nodeIndex":2},{"cfgs":[],"code":"a31.setCred(\"null\")","dfgs":[],"fName":"core_src_test_java_org_apache_oozie_store_TestDBWorkflowStore.java","fieldParents":[],"isDel":true,"lineBeg":480,"lineEnd":480,"lineMapIndex":-1,"methodParents":[],"nodeIndex":3},{"cfgs":[],"code":"action.setCred(\"null\")","dfgs":[],"fName":"core_src_test_java_org_apache_oozie_service_TestRecoveryService.java","fieldParents":[],"isDel":true,"lineBeg":867,"lineEnd":867,"lineMapIndex":-1,"methodParents":[],"nodeIndex":4},{"cfgs":[],"code":"action.setCred(\"null\")","dfgs":[],"fName":"core_src_test_java_org_apache_oozie_command_wf_TestActionStartXCommand.java","fieldParents":[],"isDel":true,"lineBeg":337,"lineEnd":337,"lineMapIndex":-1,"methodParents":[],"nodeIndex":5},{"cfgs":[],"code":"action.setCred(\"null\")","dfgs":[],"fName":"core_src_test_java_org_apache_oozie_command_wf_TestActionStartXCommand.java","fieldParents":[],"isDel":true,"lineBeg":424,"lineEnd":424,"lineMapIndex":-1,"methodParents":[],"nodeIndex":6},{"cfgs":[],"code":"action.setCred(\"null\")","dfgs":[],"fName":"core_src_test_java_org_apache_oozie_command_wf_TestActionStartXCommand.java","fieldParents":[],"isDel":true,"lineBeg":532,"lineEnd":532,"lineMapIndex":-1,"methodParents":[],"nodeIndex":7},{"cfgs":[],"code":"action.setCred(\"null\")","dfgs":[],"fName":"core_src_test_java_org_apache_oozie_command_wf_TestActionStartXCommand.java","fieldParents":[],"isDel":true,"lineBeg":571,"lineEnd":571,"lineMapIndex":-1,"methodParents":[],"nodeIndex":8},{"cfgs":[],"code":"action.setCred(\"null\")","dfgs":[],"fName":"core_src_test_java_org_apache_oozie_action_hadoop_ActionExecutorTestCase.java","fieldParents":[],"isDel":true,"lineBeg":265,"lineEnd":265,"lineMapIndex":-1,"methodParents":[],"nodeIndex":9},{"cfgs":[],"code":"action.setCred(\"null\")","dfgs":[],"fName":"core_src_test_java_org_apache_oozie_action_hadoop_ActionExecutorTestCase.java","fieldParents":[],"isDel":true,"lineBeg":299,"lineEnd":299,"lineMapIndex":-1,"methodParents":[],"nodeIndex":10},{"cfgs":[12],"code":"LOG.debug(\"Get credential '\" + credsInAction + \"' properties for action : \" + action.getId())","dfgs":[14],"fName":"core_src_main_java_org_apache_oozie_action_hadoop_JavaActionExecutor.java","fieldParents":[],"isDel":true,"lineBeg":1310,"lineEnd":1310,"lineMapIndex":32,"methodParents":[],"nodeIndex":11},{"cfgs":[13],"code":"String[] credNames = credsInAction.split(\",\")","dfgs":[13],"fName":"core_src_main_java_org_apache_oozie_action_hadoop_JavaActionExecutor.java","fieldParents":[],"isDel":true,"lineBeg":1311,"lineEnd":1311,"lineMapIndex":33,"methodParents":[],"nodeIndex":12},{"cfgs":[14],"code":"for (String credName : credNames)","dfgs":[14],"fName":"core_src_main_java_org_apache_oozie_action_hadoop_JavaActionExecutor.java","fieldParents":[],"isDel":true,"lineBeg":1312,"lineEnd":1312,"lineMapIndex":34,"methodParents":[],"nodeIndex":13},{"cfgs":[15],"code":"CredentialsProperties credProps = getCredProperties(context, credName)","dfgs":[15],"fName":"core_src_main_java_org_apache_oozie_action_hadoop_JavaActionExecutor.java","fieldParents":[],"isDel":true,"lineBeg":1313,"lineEnd":1313,"lineMapIndex":35,"methodParents":[],"nodeIndex":14},{"cfgs":[],"code":"props.put(credName, credProps)","dfgs":[],"fName":"core_src_main_java_org_apache_oozie_action_hadoop_JavaActionExecutor.java","fieldParents":[],"isDel":true,"lineBeg":1314,"lineEnd":1314,"lineMapIndex":36,"methodParents":[],"nodeIndex":15},{"cfgs":[],"code":"action.setCred(\"null\")","dfgs":[],"fName":"core_src_test_java_org_apache_oozie_command_wf_TestActionCheckXCommand.java","fieldParents":[],"isDel":true,"lineBeg":636,"lineEnd":636,"lineMapIndex":-1,"methodParents":[],"nodeIndex":16},{"cfgs":[],"code":"private String cred = \"null\"","dfgs":[],"fName":"core_src_main_java_org_apache_oozie_workflow_lite_NodeDef.java","fieldParents":[],"isDel":true,"lineBeg":43,"lineEnd":43,"lineMapIndex":37,"methodParents":[],"nodeIndex":17},{"cfgs":[],"code":"import org.apache.commons.lang.StringUtils","dfgs":[],"fName":"core_src_test_java_org_apache_oozie_action_hadoop_TestJavaActionExecutor.java","fieldParents":[],"isDel":false,"lineBeg":38,"lineEnd":38,"lineMapIndex":-1,"methodParents":[],"nodeIndex":18},{"cfgs":[20],"code":"public void testCredentialsWithoutCredTag() throws Exception ","dfgs":[20,21,23,25,27,24,26,22,28,29,30],"fName":"core_src_test_java_org_apache_oozie_action_hadoop_TestJavaActionExecutor.java","fieldParents":[],"isDel":false,"lineBeg":1030,"lineEnd":1030,"lineMapIndex":-1,"methodParents":[],"nodeIndex":19},{"cfgs":[21],"code":"String workflowXml = \"<workflow-app xmlns='uri:oozie:workflow:0.2.5' name='pig-wf'>\" + \"<credentials>\"+ \"<credential name='abcname' type='abc'>\" + \"<property>\" + \"<name>property1</name>\"+ \"<value>value1</value>\" + \"</property>\" + \"<property>\" + \"<name>property2</name>\"+ \"<value>value2</value>\" + \"</property>\" + \"<property>\" + \"<name>${property3}</name>\"+ \"<value>${value3}</value>\" + \"</property>\" + \"</credential>\" + \"</credentials>\"+ \"<start to='pig1' />\" + \"<action name='pig1'>\" + \"<pig>\" + \"</pig>\"+ \"<ok to='end' />\" + \"<error to='fail' />\" + \"</action>\" + \"<kill name='fail'>\"+ \"<message>Pig failed, error message[${wf:errorMessage(wf:lastErrorNode())}]</message>\" + \"</kill>\"+ \"<end name='end' />\" + \"</workflow-app>\"","dfgs":[22],"fName":"core_src_test_java_org_apache_oozie_action_hadoop_TestJavaActionExecutor.java","fieldParents":[],"isDel":false,"lineBeg":1033,"lineEnd":1041,"lineMapIndex":-1,"methodParents":[],"nodeIndex":20},{"cfgs":[22],"code":"JavaActionExecutor ae = new JavaActionExecutor()","dfgs":[24],"fName":"core_src_test_java_org_apache_oozie_action_hadoop_TestJavaActionExecutor.java","fieldParents":[],"isDel":false,"lineBeg":1043,"lineEnd":1043,"lineMapIndex":-1,"methodParents":[],"nodeIndex":21},{"cfgs":[23],"code":"WorkflowJobBean wfBean = addRecordToWfJobTable(\"test1\", workflowXml)","dfgs":[23],"fName":"core_src_test_java_org_apache_oozie_action_hadoop_TestJavaActionExecutor.java","fieldParents":[],"isDel":false,"lineBeg":1044,"lineEnd":1044,"lineMapIndex":-1,"methodParents":[],"nodeIndex":22},{"cfgs":[24],"code":"WorkflowActionBean action = (WorkflowActionBean) wfBean.getActions().get(0)","dfgs":[24,27],"fName":"core_src_test_java_org_apache_oozie_action_hadoop_TestJavaActionExecutor.java","fieldParents":[],"isDel":false,"lineBeg":1045,"lineEnd":1045,"lineMapIndex":-1,"methodParents":[],"nodeIndex":23},{"cfgs":[25],"code":"action.setType(ae.getType())","dfgs":[26,29],"fName":"core_src_test_java_org_apache_oozie_action_hadoop_TestJavaActionExecutor.java","fieldParents":[],"isDel":false,"lineBeg":1046,"lineEnd":1046,"lineMapIndex":-1,"methodParents":[],"nodeIndex":24},{"cfgs":[26],"code":"String actionXml = \"<pig>\" + \"<job-tracker>${jobTracker}</job-tracker>\" + \"<name-node>${nameNode}</name-node>\"+ \"<prepare>\" + \"<delete path='outputdir' />\" + \"</prepare>\" + \"<configuration>\" + \"<property>\"+ \"<name>mapred.compress.map.output</name>\" + \"<value>true</value>\" + \"</property>\" + \"<property>\"+ \"<name>mapred.job.queue.name</name>\" + \"<value>${queueName}</value>\" + \"</property>\"+ \"</configuration>\" + \"<script>org/apache/oozie/examples/pig/id.pig</script>\"+ \"<param>INPUT=${inputDir}</param>\" + \"<param>OUTPUT=${outputDir}/pig-output</param>\" + \"</pig>\"","dfgs":[26],"fName":"core_src_test_java_org_apache_oozie_action_hadoop_TestJavaActionExecutor.java","fieldParents":[],"isDel":false,"lineBeg":1047,"lineEnd":1052,"lineMapIndex":-1,"methodParents":[],"nodeIndex":25},{"cfgs":[27],"code":"action.setConf(actionXml)","dfgs":[27],"fName":"core_src_test_java_org_apache_oozie_action_hadoop_TestJavaActionExecutor.java","fieldParents":[],"isDel":false,"lineBeg":1053,"lineEnd":1053,"lineMapIndex":-1,"methodParents":[],"nodeIndex":26},{"cfgs":[28],"code":"Context context = new Context(wfBean, action)","dfgs":[29,28],"fName":"core_src_test_java_org_apache_oozie_action_hadoop_TestJavaActionExecutor.java","fieldParents":[],"isDel":false,"lineBeg":1054,"lineEnd":1054,"lineMapIndex":-1,"methodParents":[],"nodeIndex":27},{"cfgs":[29],"code":"Element actionXmlconf = XmlUtils.parseXml(action.getConf())","dfgs":[29,30],"fName":"core_src_test_java_org_apache_oozie_action_hadoop_TestJavaActionExecutor.java","fieldParents":[],"isDel":false,"lineBeg":1056,"lineEnd":1056,"lineMapIndex":-1,"methodParents":[],"nodeIndex":28},{"cfgs":[30],"code":"Configuration actionConf = ae.createBaseHadoopConf(context, actionXmlconf)","dfgs":[30],"fName":"core_src_test_java_org_apache_oozie_action_hadoop_TestJavaActionExecutor.java","fieldParents":[],"isDel":false,"lineBeg":1058,"lineEnd":1058,"lineMapIndex":-1,"methodParents":[],"nodeIndex":29},{"cfgs":[],"code":"HashMap<String, CredentialsProperties> credProperties = ae.setCredentialPropertyToActionConf(context, action,actionConf)","dfgs":[],"fName":"core_src_test_java_org_apache_oozie_action_hadoop_TestJavaActionExecutor.java","fieldParents":[],"isDel":false,"lineBeg":1061,"lineEnd":1062,"lineMapIndex":-1,"methodParents":[],"nodeIndex":30},{"cfgs":[32],"code":"if (credsInAction != null)","dfgs":[32,33],"fName":"core_src_main_java_org_apache_oozie_action_hadoop_JavaActionExecutor.java","fieldParents":[],"isDel":false,"lineBeg":1310,"lineEnd":1310,"lineMapIndex":-1,"methodParents":[],"nodeIndex":31},{"cfgs":[33],"code":"LOG.debug(\"Get credential '\" + credsInAction + \"' properties for action : \" + action.getId())","dfgs":[35],"fName":"core_src_main_java_org_apache_oozie_action_hadoop_JavaActionExecutor.java","fieldParents":[],"isDel":false,"lineBeg":1311,"lineEnd":1311,"lineMapIndex":11,"methodParents":[],"nodeIndex":32},{"cfgs":[34],"code":"String[] credNames = credsInAction.split(\",\")","dfgs":[34],"fName":"core_src_main_java_org_apache_oozie_action_hadoop_JavaActionExecutor.java","fieldParents":[],"isDel":false,"lineBeg":1312,"lineEnd":1312,"lineMapIndex":12,"methodParents":[],"nodeIndex":33},{"cfgs":[35],"code":"for (String credName : credNames)","dfgs":[35],"fName":"core_src_main_java_org_apache_oozie_action_hadoop_JavaActionExecutor.java","fieldParents":[],"isDel":false,"lineBeg":1313,"lineEnd":1313,"lineMapIndex":13,"methodParents":[],"nodeIndex":34},{"cfgs":[36],"code":"CredentialsProperties credProps = getCredProperties(context, credName)","dfgs":[36],"fName":"core_src_main_java_org_apache_oozie_action_hadoop_JavaActionExecutor.java","fieldParents":[],"isDel":false,"lineBeg":1314,"lineEnd":1314,"lineMapIndex":14,"methodParents":[],"nodeIndex":35},{"cfgs":[],"code":"props.put(credName, credProps)","dfgs":[],"fName":"core_src_main_java_org_apache_oozie_action_hadoop_JavaActionExecutor.java","fieldParents":[],"isDel":false,"lineBeg":1315,"lineEnd":1315,"lineMapIndex":15,"methodParents":[],"nodeIndex":36},{"cfgs":[],"code":"private String cred = null","dfgs":[],"fName":"core_src_main_java_org_apache_oozie_workflow_lite_NodeDef.java","fieldParents":[],"isDel":false,"lineBeg":43,"lineEnd":43,"lineMapIndex":17,"methodParents":[],"nodeIndex":37},{"cfgs":[39],"code":"if (cred.equals(\"null\"))","dfgs":[],"fName":"core_src_main_java_org_apache_oozie_workflow_lite_NodeDef.java","fieldParents":[37],"isDel":false,"lineBeg":157,"lineEnd":157,"lineMapIndex":-1,"methodParents":[],"nodeIndex":38},{"cfgs":[],"code":"cred = null","dfgs":[],"fName":"core_src_main_java_org_apache_oozie_workflow_lite_NodeDef.java","fieldParents":[37],"isDel":false,"lineBeg":158,"lineEnd":158,"lineMapIndex":-1,"methodParents":[],"nodeIndex":39}]