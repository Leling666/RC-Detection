[{"cfgs":[],"code":"RangeFacetRequest<?> rfr = (RangeFacetRequest) fr","dfgs":[],"fName":"lucene_facet_src_java_org_apache_lucene_facet_range_RangeAccumulator.java","fieldParents":[],"isDel":true,"lineBeg":67,"lineEnd":67,"lineMapIndex":12,"methodParents":[],"nodeIndex":0},{"cfgs":[],"code":"for(MatchingDocs hits : matchingDocs)","dfgs":[],"fName":"lucene_facet_src_java_org_apache_lucene_facet_range_RangeAccumulator.java","fieldParents":[],"isDel":true,"lineBeg":89,"lineEnd":89,"lineMapIndex":13,"methodParents":[],"nodeIndex":1},{"cfgs":[],"code":"setNumLabel(orig.getNumLabel())","dfgs":[],"fName":"lucene_facet_src_java_org_apache_lucene_facet_sampling_Sampler.java","fieldParents":[],"isDel":true,"lineBeg":212,"lineEnd":212,"lineMapIndex":16,"methodParents":[],"nodeIndex":2},{"cfgs":[],"code":"IOUtils.close(taxo, taxoDir, r, indexDir)","dfgs":[],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":true,"lineBeg":385,"lineEnd":385,"lineMapIndex":-1,"methodParents":[],"nodeIndex":3},{"cfgs":[7,5],"code":"List<FacetResult> fixedRes = new ArrayList<FacetResult>()","dfgs":[7,6],"fName":"lucene_facet_src_java_org_apache_lucene_facet_sampling_SamplingAccumulator.java","fieldParents":[],"isDel":true,"lineBeg":90,"lineEnd":90,"lineMapIndex":70,"methodParents":[],"nodeIndex":4},{"cfgs":[6],"code":"frh.labelResult(fres)","dfgs":[6],"fName":"lucene_facet_src_java_org_apache_lucene_facet_sampling_SamplingAccumulator.java","fieldParents":[],"isDel":true,"lineBeg":107,"lineEnd":107,"lineMapIndex":74,"methodParents":[],"nodeIndex":5},{"cfgs":[7],"code":"fixedRes.add(fres)","dfgs":[7],"fName":"lucene_facet_src_java_org_apache_lucene_facet_sampling_SamplingAccumulator.java","fieldParents":[],"isDel":true,"lineBeg":108,"lineEnd":108,"lineMapIndex":75,"methodParents":[],"nodeIndex":6},{"cfgs":[],"code":"return fixedRes","dfgs":[],"fName":"lucene_facet_src_java_org_apache_lucene_facet_sampling_SamplingAccumulator.java","fieldParents":[],"isDel":true,"lineBeg":113,"lineEnd":113,"lineMapIndex":76,"methodParents":[],"nodeIndex":7},{"cfgs":[11,9],"code":"List<FacetResult> fixedRes = new ArrayList<FacetResult>()","dfgs":[11,10],"fName":"lucene_facet_src_java_org_apache_lucene_facet_sampling_SamplingWrapper.java","fieldParents":[],"isDel":true,"lineBeg":65,"lineEnd":65,"lineMapIndex":78,"methodParents":[],"nodeIndex":8},{"cfgs":[10],"code":"frh.labelResult(fres)","dfgs":[10],"fName":"lucene_facet_src_java_org_apache_lucene_facet_sampling_SamplingWrapper.java","fieldParents":[],"isDel":true,"lineBeg":83,"lineEnd":83,"lineMapIndex":82,"methodParents":[],"nodeIndex":9},{"cfgs":[11],"code":"fixedRes.add(fres)","dfgs":[11],"fName":"lucene_facet_src_java_org_apache_lucene_facet_sampling_SamplingWrapper.java","fieldParents":[],"isDel":true,"lineBeg":84,"lineEnd":84,"lineMapIndex":83,"methodParents":[],"nodeIndex":10},{"cfgs":[],"code":"return fixedRes","dfgs":[],"fName":"lucene_facet_src_java_org_apache_lucene_facet_sampling_SamplingWrapper.java","fieldParents":[],"isDel":true,"lineBeg":91,"lineEnd":91,"lineMapIndex":84,"methodParents":[],"nodeIndex":11},{"cfgs":[],"code":"RangeFacetRequest<?> rfr = (RangeFacetRequest<?>) fr","dfgs":[],"fName":"lucene_facet_src_java_org_apache_lucene_facet_range_RangeAccumulator.java","fieldParents":[],"isDel":false,"lineBeg":67,"lineEnd":67,"lineMapIndex":0,"methodParents":[],"nodeIndex":12},{"cfgs":[14],"code":"for (MatchingDocs hits : matchingDocs)","dfgs":[14],"fName":"lucene_facet_src_java_org_apache_lucene_facet_range_RangeAccumulator.java","fieldParents":[],"isDel":false,"lineBeg":89,"lineEnd":89,"lineMapIndex":1,"methodParents":[],"nodeIndex":13},{"cfgs":[],"code":"if (ndv == null)","dfgs":[],"fName":"lucene_facet_src_java_org_apache_lucene_facet_range_RangeAccumulator.java","fieldParents":[],"isDel":false,"lineBeg":91,"lineEnd":91,"lineMapIndex":-1,"methodParents":[],"nodeIndex":14},{"cfgs":[],"code":"continue","dfgs":[],"fName":"lucene_facet_src_java_org_apache_lucene_facet_range_RangeAccumulator.java","fieldParents":[],"isDel":false,"lineBeg":92,"lineEnd":92,"lineMapIndex":-1,"methodParents":[],"nodeIndex":15},{"cfgs":[],"code":"setNumLabel(0)","dfgs":[],"fName":"lucene_facet_src_java_org_apache_lucene_facet_sampling_Sampler.java","fieldParents":[],"isDel":false,"lineBeg":212,"lineEnd":212,"lineMapIndex":2,"methodParents":[],"nodeIndex":16},{"cfgs":[],"code":"import org.apache.lucene.facet.range.LongRange","dfgs":[],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":20,"lineEnd":20,"lineMapIndex":-1,"methodParents":[],"nodeIndex":17},{"cfgs":[],"code":"import org.apache.lucene.facet.range.RangeAccumulator","dfgs":[],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":21,"lineEnd":21,"lineMapIndex":-1,"methodParents":[],"nodeIndex":18},{"cfgs":[],"code":"import org.apache.lucene.facet.range.RangeFacetRequest","dfgs":[],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":22,"lineEnd":22,"lineMapIndex":-1,"methodParents":[],"nodeIndex":19},{"cfgs":[],"code":"import org.apache.lucene.facet.sampling.RandomSampler","dfgs":[],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":23,"lineEnd":23,"lineMapIndex":-1,"methodParents":[],"nodeIndex":20},{"cfgs":[],"code":"import org.apache.lucene.facet.sampling.Sampler","dfgs":[],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":24,"lineEnd":24,"lineMapIndex":-1,"methodParents":[],"nodeIndex":21},{"cfgs":[],"code":"import org.apache.lucene.facet.sampling.SamplingAccumulator","dfgs":[],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":25,"lineEnd":25,"lineMapIndex":-1,"methodParents":[],"nodeIndex":22},{"cfgs":[],"code":"import org.apache.lucene.facet.sampling.SamplingParams","dfgs":[],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":26,"lineEnd":26,"lineMapIndex":-1,"methodParents":[],"nodeIndex":23},{"cfgs":[],"code":"import org.apache.lucene.facet.sampling.SamplingWrapper","dfgs":[],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":27,"lineEnd":27,"lineMapIndex":-1,"methodParents":[],"nodeIndex":24},{"cfgs":[],"code":"import org.apache.lucene.facet.sampling.TakmiSampleFixer","dfgs":[],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":28,"lineEnd":28,"lineMapIndex":-1,"methodParents":[],"nodeIndex":25},{"cfgs":[],"code":"import org.apache.lucene.facet.sortedset.SortedSetDocValuesAccumulator","dfgs":[],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":30,"lineEnd":30,"lineMapIndex":-1,"methodParents":[],"nodeIndex":26},{"cfgs":[],"code":"import org.apache.lucene.facet.sortedset.SortedSetDocValuesReaderState","dfgs":[],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":31,"lineEnd":31,"lineMapIndex":-1,"methodParents":[],"nodeIndex":27},{"cfgs":[],"code":"import org.apache.lucene.facet.taxonomy.TaxonomyReader","dfgs":[],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":33,"lineEnd":33,"lineMapIndex":-1,"methodParents":[],"nodeIndex":28},{"cfgs":[],"code":"public void testLabeling() throws Exception ","dfgs":[],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":401,"lineEnd":401,"lineMapIndex":-1,"methodParents":[],"nodeIndex":29},{"cfgs":[31],"code":"Directory indexDir = newDirectory(), taxoDir = newDirectory()","dfgs":[31,32],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":402,"lineEnd":402,"lineMapIndex":-1,"methodParents":[],"nodeIndex":30},{"cfgs":[32],"code":"IndexWriter indexWriter = new IndexWriter(indexDir, newIndexWriterConfig(TEST_VERSION_CURRENT, new MockAnalyzer(random())))","dfgs":[36,38,47],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":405,"lineEnd":405,"lineMapIndex":-1,"methodParents":[],"nodeIndex":31},{"cfgs":[33],"code":"DirectoryTaxonomyWriter taxoWriter = new DirectoryTaxonomyWriter(taxoDir)","dfgs":[33,39],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":406,"lineEnd":406,"lineMapIndex":-1,"methodParents":[],"nodeIndex":32},{"cfgs":[34],"code":"FacetFields facetFields = new FacetFields(taxoWriter)","dfgs":[35,37],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":407,"lineEnd":407,"lineMapIndex":-1,"methodParents":[],"nodeIndex":33},{"cfgs":[35],"code":"Document doc = new Document()","dfgs":[35],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":408,"lineEnd":408,"lineMapIndex":-1,"methodParents":[],"nodeIndex":34},{"cfgs":[36],"code":"facetFields.addFields(doc, Arrays.asList(new CategoryPath(\"A/1\", '/')))","dfgs":[36],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":409,"lineEnd":409,"lineMapIndex":-1,"methodParents":[],"nodeIndex":35},{"cfgs":[37],"code":"indexWriter.addDocument(doc)","dfgs":[37],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":410,"lineEnd":410,"lineMapIndex":-1,"methodParents":[],"nodeIndex":36},{"cfgs":[38],"code":"IOUtils.close(indexWriter, taxoWriter)","dfgs":[68],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":411,"lineEnd":411,"lineMapIndex":-1,"methodParents":[],"nodeIndex":37},{"cfgs":[39],"code":"DirectoryReader indexReader = DirectoryReader.open(indexDir)","dfgs":[40,69],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":413,"lineEnd":413,"lineMapIndex":-1,"methodParents":[],"nodeIndex":38},{"cfgs":[40],"code":"TaxonomyReader taxoReader = new DirectoryTaxonomyReader(taxoDir)","dfgs":[69,50,48],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":414,"lineEnd":414,"lineMapIndex":-1,"methodParents":[],"nodeIndex":39},{"cfgs":[41],"code":"IndexSearcher searcher = new IndexSearcher(indexReader)","dfgs":[64,53,50,48],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":415,"lineEnd":415,"lineMapIndex":-1,"methodParents":[],"nodeIndex":40},{"cfgs":[42],"code":"FacetSearchParams fsp = new FacetSearchParams(new CountFacetRequest(new CategoryPath(\"B\"), 5))","dfgs":[50,48],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":417,"lineEnd":417,"lineMapIndex":-1,"methodParents":[],"nodeIndex":41},{"cfgs":[43],"code":"final SamplingParams sampleParams = new SamplingParams()","dfgs":[43],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":419,"lineEnd":419,"lineMapIndex":-1,"methodParents":[],"nodeIndex":42},{"cfgs":[44],"code":"sampleParams.setMaxSampleSize(100)","dfgs":[44],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":420,"lineEnd":420,"lineMapIndex":-1,"methodParents":[],"nodeIndex":43},{"cfgs":[45],"code":"sampleParams.setMinSampleSize(100)","dfgs":[45],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":421,"lineEnd":421,"lineMapIndex":-1,"methodParents":[],"nodeIndex":44},{"cfgs":[46],"code":"sampleParams.setSamplingThreshold(100)","dfgs":[46],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":422,"lineEnd":422,"lineMapIndex":-1,"methodParents":[],"nodeIndex":45},{"cfgs":[47],"code":"sampleParams.setOversampleFactor(1.0d)","dfgs":[49,48],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":423,"lineEnd":423,"lineMapIndex":-1,"methodParents":[],"nodeIndex":46},{"cfgs":[48,49],"code":"if (random().nextBoolean())","dfgs":[49],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":424,"lineEnd":424,"lineMapIndex":-1,"methodParents":[],"nodeIndex":47},{"cfgs":[49],"code":"sampleParams.setSampleFixer(new TakmiSampleFixer(indexReader, taxoReader, fsp))","dfgs":[49,50],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":425,"lineEnd":425,"lineMapIndex":-1,"methodParents":[],"nodeIndex":48},{"cfgs":[50],"code":"final Sampler sampler = new RandomSampler(sampleParams, random())","dfgs":[55,58,50],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":427,"lineEnd":427,"lineMapIndex":-1,"methodParents":[],"nodeIndex":49},{"cfgs":[51],"code":"FacetsAccumulator[] accumulators = new FacetsAccumulator[] {new FacetsAccumulator(fsp, indexReader, taxoReader),new StandardFacetsAccumulator(fsp, indexReader, taxoReader),new SamplingAccumulator(sampler, fsp, indexReader, taxoReader),new AdaptiveFacetsAccumulator(fsp, indexReader, taxoReader),new SamplingWrapper(new StandardFacetsAccumulator(fsp, indexReader, taxoReader), sampler)}","dfgs":[68,51,56,58],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":429,"lineEnd":435,"lineMapIndex":-1,"methodParents":[],"nodeIndex":50},{"cfgs":[52,57],"code":"for (FacetsAccumulator fa : accumulators)","dfgs":[52],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":437,"lineEnd":437,"lineMapIndex":-1,"methodParents":[],"nodeIndex":51},{"cfgs":[53],"code":"FacetsCollector fc = FacetsCollector.create(fa)","dfgs":[63,53,56],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":438,"lineEnd":438,"lineMapIndex":-1,"methodParents":[],"nodeIndex":52},{"cfgs":[54],"code":"searcher.search(new MatchAllDocsQuery(), fc)","dfgs":[64,54],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":439,"lineEnd":439,"lineMapIndex":-1,"methodParents":[],"nodeIndex":53},{"cfgs":[55],"code":"List<FacetResult> facetResults = fc.getFacetResults()","dfgs":[55],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":440,"lineEnd":440,"lineMapIndex":-1,"methodParents":[],"nodeIndex":54},{"cfgs":[56],"code":"assertNotNull(facetResults)","dfgs":[56],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":441,"lineEnd":441,"lineMapIndex":-1,"methodParents":[],"nodeIndex":55},{"cfgs":[],"code":"assertEquals(\"incorrect label returned for \" + fa, fsp.facetRequests.get(0).categoryPath, facetResults.get(0).getFacetResultNode().label)","dfgs":[58],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":442,"lineEnd":442,"lineMapIndex":-1,"methodParents":[],"nodeIndex":56},{"cfgs":[58],"code":"try ","dfgs":[],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":445,"lineEnd":445,"lineMapIndex":-1,"methodParents":[],"nodeIndex":57},{"cfgs":[59],"code":"assertNull(new SortedSetDocValuesAccumulator(fsp, new SortedSetDocValuesReaderState(indexReader)))","dfgs":[62,59],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":447,"lineEnd":447,"lineMapIndex":-1,"methodParents":[],"nodeIndex":58},{"cfgs":[60],"code":"fail(\"should not have succeeded to execute a request over a category which wasn't indexed as SortedSetDVField\")","dfgs":[66],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":449,"lineEnd":449,"lineMapIndex":-1,"methodParents":[],"nodeIndex":59},{"cfgs":[61],"code":"catch (IllegalArgumentException e)","dfgs":[],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":450,"lineEnd":450,"lineMapIndex":-1,"methodParents":[],"nodeIndex":60},{"cfgs":[62],"code":"fsp = new FacetSearchParams(new RangeFacetRequest<LongRange>(\"f\", new LongRange(\"grr\", 0, true, 1, true)))","dfgs":[62],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":454,"lineEnd":454,"lineMapIndex":-1,"methodParents":[],"nodeIndex":61},{"cfgs":[63],"code":"RangeAccumulator ra = new RangeAccumulator(fsp, indexReader)","dfgs":[68,63,67],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":455,"lineEnd":455,"lineMapIndex":-1,"methodParents":[12],"nodeIndex":62},{"cfgs":[64],"code":"FacetsCollector fc = FacetsCollector.create(ra)","dfgs":[64],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":456,"lineEnd":456,"lineMapIndex":-1,"methodParents":[],"nodeIndex":63},{"cfgs":[65],"code":"searcher.search(new MatchAllDocsQuery(), fc)","dfgs":[65],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":457,"lineEnd":457,"lineMapIndex":-1,"methodParents":[],"nodeIndex":64},{"cfgs":[66],"code":"List<FacetResult> facetResults = fc.getFacetResults()","dfgs":[66],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":458,"lineEnd":458,"lineMapIndex":-1,"methodParents":[],"nodeIndex":65},{"cfgs":[67],"code":"assertNotNull(facetResults)","dfgs":[67],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":459,"lineEnd":459,"lineMapIndex":-1,"methodParents":[],"nodeIndex":66},{"cfgs":[68],"code":"assertEquals(\"incorrect label returned for RangeAccumulator\", fsp.facetRequests.get(0).categoryPath, facetResults.get(0).getFacetResultNode().label)","dfgs":[],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":460,"lineEnd":460,"lineMapIndex":-1,"methodParents":[],"nodeIndex":67},{"cfgs":[69],"code":"IOUtils.close(indexReader, taxoReader)","dfgs":[69],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":462,"lineEnd":462,"lineMapIndex":-1,"methodParents":[],"nodeIndex":68},{"cfgs":[],"code":"IOUtils.close(indexDir, taxoDir)","dfgs":[],"fName":"lucene_facet_src_test_org_apache_lucene_facet_search_TestFacetsCollector.java","fieldParents":[],"isDel":false,"lineBeg":464,"lineEnd":464,"lineMapIndex":-1,"methodParents":[],"nodeIndex":69},{"cfgs":[76,71],"code":"List<FacetResult> results = new ArrayList<FacetResult>()","dfgs":[76,72,75],"fName":"lucene_facet_src_java_org_apache_lucene_facet_sampling_SamplingAccumulator.java","fieldParents":[],"isDel":false,"lineBeg":90,"lineEnd":90,"lineMapIndex":4,"methodParents":[],"nodeIndex":70},{"cfgs":[72,73],"code":"if (fres.getFacetResultNode().ordinal == TaxonomyReader.INVALID_ORDINAL)","dfgs":[74,72],"fName":"lucene_facet_src_java_org_apache_lucene_facet_sampling_SamplingAccumulator.java","fieldParents":[],"isDel":false,"lineBeg":107,"lineEnd":107,"lineMapIndex":-1,"methodParents":[],"nodeIndex":71},{"cfgs":[76],"code":"results.add(emptyResult(fres.getFacetResultNode().ordinal, fres.getFacetRequest()))","dfgs":[76,74,75],"fName":"lucene_facet_src_java_org_apache_lucene_facet_sampling_SamplingAccumulator.java","fieldParents":[],"isDel":false,"lineBeg":109,"lineEnd":109,"lineMapIndex":-1,"methodParents":[],"nodeIndex":72},{"cfgs":[74],"code":"else","dfgs":[],"fName":"lucene_facet_src_java_org_apache_lucene_facet_sampling_SamplingAccumulator.java","fieldParents":[],"isDel":false,"lineBeg":110,"lineEnd":110,"lineMapIndex":-1,"methodParents":[],"nodeIndex":73},{"cfgs":[75],"code":"frh.labelResult(fres)","dfgs":[75],"fName":"lucene_facet_src_java_org_apache_lucene_facet_sampling_SamplingAccumulator.java","fieldParents":[],"isDel":false,"lineBeg":111,"lineEnd":111,"lineMapIndex":5,"methodParents":[],"nodeIndex":74},{"cfgs":[76],"code":"results.add(fres)","dfgs":[76],"fName":"lucene_facet_src_java_org_apache_lucene_facet_sampling_SamplingAccumulator.java","fieldParents":[],"isDel":false,"lineBeg":112,"lineEnd":112,"lineMapIndex":6,"methodParents":[],"nodeIndex":75},{"cfgs":[],"code":"return results","dfgs":[],"fName":"lucene_facet_src_java_org_apache_lucene_facet_sampling_SamplingAccumulator.java","fieldParents":[],"isDel":false,"lineBeg":118,"lineEnd":118,"lineMapIndex":7,"methodParents":[],"nodeIndex":76},{"cfgs":[],"code":"import org.apache.lucene.facet.taxonomy.TaxonomyReader","dfgs":[],"fName":"lucene_facet_src_java_org_apache_lucene_facet_sampling_SamplingWrapper.java","fieldParents":[],"isDel":false,"lineBeg":13,"lineEnd":13,"lineMapIndex":-1,"methodParents":[],"nodeIndex":77},{"cfgs":[84,79],"code":"List<FacetResult> results = new ArrayList<FacetResult>()","dfgs":[84,80,83],"fName":"lucene_facet_src_java_org_apache_lucene_facet_sampling_SamplingWrapper.java","fieldParents":[],"isDel":false,"lineBeg":66,"lineEnd":66,"lineMapIndex":8,"methodParents":[],"nodeIndex":78},{"cfgs":[80,81],"code":"if (fres.getFacetResultNode().ordinal == TaxonomyReader.INVALID_ORDINAL)","dfgs":[82,80],"fName":"lucene_facet_src_java_org_apache_lucene_facet_sampling_SamplingWrapper.java","fieldParents":[],"isDel":false,"lineBeg":84,"lineEnd":84,"lineMapIndex":-1,"methodParents":[],"nodeIndex":79},{"cfgs":[84],"code":"results.add(emptyResult(fres.getFacetResultNode().ordinal, fres.getFacetRequest()))","dfgs":[84,82,83],"fName":"lucene_facet_src_java_org_apache_lucene_facet_sampling_SamplingWrapper.java","fieldParents":[],"isDel":false,"lineBeg":86,"lineEnd":86,"lineMapIndex":-1,"methodParents":[],"nodeIndex":80},{"cfgs":[82],"code":"else","dfgs":[],"fName":"lucene_facet_src_java_org_apache_lucene_facet_sampling_SamplingWrapper.java","fieldParents":[],"isDel":false,"lineBeg":87,"lineEnd":87,"lineMapIndex":-1,"methodParents":[],"nodeIndex":81},{"cfgs":[83],"code":"frh.labelResult(fres)","dfgs":[83],"fName":"lucene_facet_src_java_org_apache_lucene_facet_sampling_SamplingWrapper.java","fieldParents":[],"isDel":false,"lineBeg":88,"lineEnd":88,"lineMapIndex":9,"methodParents":[],"nodeIndex":82},{"cfgs":[84],"code":"results.add(fres)","dfgs":[84],"fName":"lucene_facet_src_java_org_apache_lucene_facet_sampling_SamplingWrapper.java","fieldParents":[],"isDel":false,"lineBeg":89,"lineEnd":89,"lineMapIndex":10,"methodParents":[],"nodeIndex":83},{"cfgs":[],"code":"return results","dfgs":[],"fName":"lucene_facet_src_java_org_apache_lucene_facet_sampling_SamplingWrapper.java","fieldParents":[],"isDel":false,"lineBeg":97,"lineEnd":97,"lineMapIndex":11,"methodParents":[],"nodeIndex":84}]