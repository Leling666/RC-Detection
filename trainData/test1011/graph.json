[{"cfgs":[],"code":"import java.io.OutputStream","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":13,"lineEnd":13,"lineMapIndex":-1,"methodParents":[],"nodeIndex":0},{"cfgs":[],"code":"import java.io.OutputStreamWriter","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":14,"lineEnd":14,"lineMapIndex":-1,"methodParents":[],"nodeIndex":1},{"cfgs":[],"code":"import java.net.HttpURLConnection","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":15,"lineEnd":15,"lineMapIndex":-1,"methodParents":[],"nodeIndex":2},{"cfgs":[],"code":"private NetworkHttpClient tested","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":24,"lineEnd":24,"lineMapIndex":138,"methodParents":[],"nodeIndex":3},{"cfgs":[],"code":"private HttpURLConnection mockConn","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":33,"lineEnd":33,"lineMapIndex":139,"methodParents":[],"nodeIndex":4},{"cfgs":[],"code":"private OutputStream mockOutputStream","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":36,"lineEnd":36,"lineMapIndex":140,"methodParents":[],"nodeIndex":5},{"cfgs":[],"code":"private OutputStreamWriter mockWriter","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":39,"lineEnd":39,"lineMapIndex":-1,"methodParents":[],"nodeIndex":6},{"cfgs":[],"code":"public void testGet() throws IOException ","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":42,"lineEnd":42,"lineMapIndex":-1,"methodParents":[],"nodeIndex":7},{"cfgs":[9],"code":"String content = \"frobozz\"","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":43,"lineEnd":43,"lineMapIndex":-1,"methodParents":[],"nodeIndex":8},{"cfgs":[10],"code":"new Expectations() {{mockRequest.constructURL();result = mockUrl;mockRequest.getMethod();result = HttpMethod.GET;mockUrl.openConnection();result = mockConn;mockConn.setAllowUserInteraction(false);mockConn.addRequestProperty(\"Accept\", \"application/json\");mockConn.addRequestProperty(\"Accept-Encoding\", \"utf-8\");mockConn.setInstanceFollowRedirects(true);mockConn.setRequestMethod(\"GET\");mockRequest.requiresAuthentication();result = false;mockConn.connect();mockConn.getResponseCode();result = 200;mockConn.getErrorStream();result = null;mockConn.getInputStream();result = stream;}}","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":46,"lineEnd":70,"lineMapIndex":144,"methodParents":[],"nodeIndex":9},{"cfgs":[],"code":"NetworkHttpClient client = new NetworkHttpClient()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":72,"lineEnd":72,"lineMapIndex":-1,"methodParents":[],"nodeIndex":10},{"cfgs":[12],"code":"NetworkHttpClient client = new NetworkHttpClient()","dfgs":[14],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":81,"lineEnd":81,"lineMapIndex":-1,"methodParents":[],"nodeIndex":11},{"cfgs":[14],"code":"new NonStrictExpectations() {{mockUrl.openConnection();result = new IOException();}}","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":83,"lineEnd":86,"lineMapIndex":-1,"methodParents":[],"nodeIndex":12},{"cfgs":[],"code":"result = new IOException()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":85,"lineEnd":85,"lineMapIndex":-1,"methodParents":[],"nodeIndex":13},{"cfgs":[15],"code":"client.makeRequest(new Request(HttpMethod.GET, \"http://www.example.com\"))","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":88,"lineEnd":88,"lineMapIndex":175,"methodParents":[126],"nodeIndex":14},{"cfgs":[],"code":"fail(\"ApiConnectionException was expected\")","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":89,"lineEnd":89,"lineMapIndex":188,"methodParents":[],"nodeIndex":15},{"cfgs":[],"code":"public void testPost() throws IOException ","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":93,"lineEnd":93,"lineMapIndex":-1,"methodParents":[],"nodeIndex":16},{"cfgs":[18],"code":"String content = \"frobozz\"","dfgs":[18],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":94,"lineEnd":94,"lineMapIndex":-1,"methodParents":[],"nodeIndex":17},{"cfgs":[19],"code":"final InputStream stream = new ByteArrayInputStream(content.getBytes(\"UTF-8\"))","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":95,"lineEnd":95,"lineMapIndex":175,"methodParents":[],"nodeIndex":18},{"cfgs":[47],"code":"new Expectations() {{mockRequest.constructURL();result = mockUrl;mockRequest.getMethod();result = HttpMethod.POST;mockUrl.openConnection();result = mockConn;mockConn.setAllowUserInteraction(false);mockConn.addRequestProperty(\"Accept\", \"application/json\");mockConn.addRequestProperty(\"Accept-Encoding\", \"utf-8\");mockConn.setInstanceFollowRedirects(true);mockConn.setRequestMethod(\"POST\");mockRequest.requiresAuthentication();result = false;mockConn.setDoOutput(true);mockConn.addRequestProperty(\"Content-Type\", \"application/x-www-form-urlencoded\");mockConn.connect();mockRequest.encodeFormBody();result = \"foo=bar&baz=quux\";mockConn.getOutputStream();result = mockOutputStream;new OutputStreamWriter(mockOutputStream);result = mockWriter;mockWriter.write(\"foo=bar&baz=quux\");mockWriter.close();mockConn.getResponseCode();result = 201;mockConn.getErrorStream();result = null;mockConn.getInputStream();result = stream;}}","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":97,"lineEnd":132,"lineMapIndex":-1,"methodParents":[],"nodeIndex":19},{"cfgs":[],"code":"mockRequest.getMethod()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":100,"lineEnd":100,"lineMapIndex":179,"methodParents":[],"nodeIndex":20},{"cfgs":[],"code":"result = HttpMethod.POST","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":101,"lineEnd":101,"lineMapIndex":-1,"methodParents":[],"nodeIndex":21},{"cfgs":[],"code":"mockUrl.openConnection()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":102,"lineEnd":102,"lineMapIndex":-1,"methodParents":[],"nodeIndex":22},{"cfgs":[],"code":"result = mockConn","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":103,"lineEnd":103,"lineMapIndex":144,"methodParents":[],"nodeIndex":23},{"cfgs":[],"code":"mockConn.setAllowUserInteraction(false)","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":104,"lineEnd":104,"lineMapIndex":-1,"methodParents":[],"nodeIndex":24},{"cfgs":[],"code":"mockConn.addRequestProperty(\"Accept\", \"application/json\")","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":105,"lineEnd":105,"lineMapIndex":-1,"methodParents":[],"nodeIndex":25},{"cfgs":[],"code":"mockConn.addRequestProperty(\"Accept-Encoding\", \"utf-8\")","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":106,"lineEnd":106,"lineMapIndex":-1,"methodParents":[],"nodeIndex":26},{"cfgs":[],"code":"mockConn.setInstanceFollowRedirects(true)","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":107,"lineEnd":107,"lineMapIndex":-1,"methodParents":[],"nodeIndex":27},{"cfgs":[],"code":"mockConn.setRequestMethod(\"POST\")","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":109,"lineEnd":109,"lineMapIndex":-1,"methodParents":[],"nodeIndex":28},{"cfgs":[],"code":"result = false","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":112,"lineEnd":112,"lineMapIndex":158,"methodParents":[],"nodeIndex":29},{"cfgs":[],"code":"mockConn.setDoOutput(true)","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":113,"lineEnd":113,"lineMapIndex":-1,"methodParents":[],"nodeIndex":30},{"cfgs":[],"code":"mockConn.addRequestProperty(\"Content-Type\", \"application/x-www-form-urlencoded\")","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":114,"lineEnd":114,"lineMapIndex":-1,"methodParents":[],"nodeIndex":31},{"cfgs":[],"code":"mockConn.connect()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":115,"lineEnd":115,"lineMapIndex":-1,"methodParents":[],"nodeIndex":32},{"cfgs":[],"code":"mockRequest.encodeFormBody()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":117,"lineEnd":117,"lineMapIndex":182,"methodParents":[],"nodeIndex":33},{"cfgs":[],"code":"result = \"foo=bar&baz=quux\"","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":118,"lineEnd":118,"lineMapIndex":154,"methodParents":[],"nodeIndex":34},{"cfgs":[],"code":"mockConn.getOutputStream()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":119,"lineEnd":119,"lineMapIndex":184,"methodParents":[],"nodeIndex":35},{"cfgs":[],"code":"result = mockOutputStream","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[5],"isDel":true,"lineBeg":120,"lineEnd":120,"lineMapIndex":169,"methodParents":[],"nodeIndex":36},{"cfgs":[],"code":"new OutputStreamWriter(mockOutputStream)","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[5],"isDel":true,"lineBeg":121,"lineEnd":121,"lineMapIndex":186,"methodParents":[],"nodeIndex":37},{"cfgs":[],"code":"result = mockWriter","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[6],"isDel":true,"lineBeg":122,"lineEnd":122,"lineMapIndex":183,"methodParents":[],"nodeIndex":38},{"cfgs":[],"code":"mockWriter.write(\"foo=bar&baz=quux\")","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[6],"isDel":true,"lineBeg":123,"lineEnd":123,"lineMapIndex":-1,"methodParents":[],"nodeIndex":39},{"cfgs":[],"code":"mockWriter.close()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[6],"isDel":true,"lineBeg":124,"lineEnd":124,"lineMapIndex":-1,"methodParents":[],"nodeIndex":40},{"cfgs":[],"code":"mockConn.getResponseCode()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":126,"lineEnd":126,"lineMapIndex":-1,"methodParents":[],"nodeIndex":41},{"cfgs":[],"code":"result = 201","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":127,"lineEnd":127,"lineMapIndex":167,"methodParents":[],"nodeIndex":42},{"cfgs":[],"code":"mockConn.getErrorStream()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":128,"lineEnd":128,"lineMapIndex":-1,"methodParents":[],"nodeIndex":43},{"cfgs":[],"code":"result = null","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":129,"lineEnd":129,"lineMapIndex":171,"methodParents":[],"nodeIndex":44},{"cfgs":[],"code":"mockConn.getInputStream()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":130,"lineEnd":130,"lineMapIndex":-1,"methodParents":[],"nodeIndex":45},{"cfgs":[],"code":"result = stream","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":131,"lineEnd":131,"lineMapIndex":-1,"methodParents":[],"nodeIndex":46},{"cfgs":[],"code":"NetworkHttpClient client = new NetworkHttpClient()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":134,"lineEnd":134,"lineMapIndex":191,"methodParents":[],"nodeIndex":47},{"cfgs":[49],"code":"String content = \"\"","dfgs":[49],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":183,"lineEnd":183,"lineMapIndex":-1,"methodParents":[],"nodeIndex":48},{"cfgs":[50],"code":"final InputStream stream = new ByteArrayInputStream(content.getBytes(\"UTF-8\"))","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":184,"lineEnd":184,"lineMapIndex":-1,"methodParents":[],"nodeIndex":49},{"cfgs":[70],"code":"new Expectations() {{mockRequest.constructURL();result = mockUrl;mockRequest.getMethod();result = HttpMethod.DELETE;mockUrl.openConnection();result = mockConn;mockConn.setAllowUserInteraction(false);mockConn.addRequestProperty(\"Accept\", \"application/json\");mockConn.addRequestProperty(\"Accept-Encoding\", \"utf-8\");mockConn.setInstanceFollowRedirects(true);mockConn.setRequestMethod(\"DELETE\");mockRequest.requiresAuthentication();result = false;mockConn.connect();mockConn.getResponseCode();result = 204;mockConn.getErrorStream();result = null;mockConn.getInputStream();result = stream;}}","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":186,"lineEnd":210,"lineMapIndex":-1,"methodParents":[],"nodeIndex":50},{"cfgs":[],"code":"result = mockUrl","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":188,"lineEnd":188,"lineMapIndex":-1,"methodParents":[],"nodeIndex":51},{"cfgs":[],"code":"mockRequest.getMethod()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":189,"lineEnd":189,"lineMapIndex":-1,"methodParents":[],"nodeIndex":52},{"cfgs":[],"code":"result = HttpMethod.DELETE","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":190,"lineEnd":190,"lineMapIndex":192,"methodParents":[],"nodeIndex":53},{"cfgs":[],"code":"mockUrl.openConnection()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":191,"lineEnd":191,"lineMapIndex":-1,"methodParents":[],"nodeIndex":54},{"cfgs":[],"code":"result = mockConn","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":192,"lineEnd":192,"lineMapIndex":178,"methodParents":[],"nodeIndex":55},{"cfgs":[],"code":"mockConn.setAllowUserInteraction(false)","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":193,"lineEnd":193,"lineMapIndex":-1,"methodParents":[],"nodeIndex":56},{"cfgs":[],"code":"mockConn.addRequestProperty(\"Accept\", \"application/json\")","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":194,"lineEnd":194,"lineMapIndex":-1,"methodParents":[],"nodeIndex":57},{"cfgs":[],"code":"mockConn.addRequestProperty(\"Accept-Encoding\", \"utf-8\")","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":195,"lineEnd":195,"lineMapIndex":-1,"methodParents":[],"nodeIndex":58},{"cfgs":[],"code":"mockConn.setInstanceFollowRedirects(true)","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":196,"lineEnd":196,"lineMapIndex":-1,"methodParents":[],"nodeIndex":59},{"cfgs":[],"code":"mockConn.setRequestMethod(\"DELETE\")","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":198,"lineEnd":198,"lineMapIndex":-1,"methodParents":[],"nodeIndex":60},{"cfgs":[],"code":"mockRequest.requiresAuthentication()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":200,"lineEnd":200,"lineMapIndex":-1,"methodParents":[],"nodeIndex":61},{"cfgs":[],"code":"result = false","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":201,"lineEnd":201,"lineMapIndex":-1,"methodParents":[],"nodeIndex":62},{"cfgs":[],"code":"mockConn.connect()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":202,"lineEnd":202,"lineMapIndex":-1,"methodParents":[],"nodeIndex":63},{"cfgs":[],"code":"mockConn.getResponseCode()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":204,"lineEnd":204,"lineMapIndex":-1,"methodParents":[],"nodeIndex":64},{"cfgs":[],"code":"result = 204","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":205,"lineEnd":205,"lineMapIndex":-1,"methodParents":[],"nodeIndex":65},{"cfgs":[],"code":"mockConn.getErrorStream()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":206,"lineEnd":206,"lineMapIndex":-1,"methodParents":[],"nodeIndex":66},{"cfgs":[],"code":"result = null","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":207,"lineEnd":207,"lineMapIndex":-1,"methodParents":[],"nodeIndex":67},{"cfgs":[],"code":"mockConn.getInputStream()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":208,"lineEnd":208,"lineMapIndex":-1,"methodParents":[],"nodeIndex":68},{"cfgs":[],"code":"result = stream","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":209,"lineEnd":209,"lineMapIndex":-1,"methodParents":[],"nodeIndex":69},{"cfgs":[],"code":"NetworkHttpClient client = new NetworkHttpClient()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":212,"lineEnd":212,"lineMapIndex":193,"methodParents":[],"nodeIndex":70},{"cfgs":[72],"code":"String content = \"frobozz\"","dfgs":[72],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":221,"lineEnd":221,"lineMapIndex":-1,"methodParents":[],"nodeIndex":71},{"cfgs":[73],"code":"final InputStream stream = new ByteArrayInputStream(content.getBytes(\"UTF-8\"))","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":222,"lineEnd":222,"lineMapIndex":-1,"methodParents":[],"nodeIndex":72},{"cfgs":[98],"code":"new Expectations() {{mockRequest.constructURL();result = mockUrl;mockRequest.getMethod();result = HttpMethod.GET;mockUrl.openConnection();result = mockConn;mockConn.setAllowUserInteraction(false);mockConn.addRequestProperty(\"Accept\", \"application/json\");mockConn.addRequestProperty(\"Accept-Encoding\", \"utf-8\");mockConn.setInstanceFollowRedirects(true);mockConn.setRequestMethod(\"GET\");mockRequest.requiresAuthentication();result = true;mockRequest.getUsername();result = \"foo\";mockRequest.getPassword();result = \"bar\";mockConn.setRequestProperty(\"Authorization\", \"Basic Zm9vOmJhcg==\");mockConn.connect();mockConn.getResponseCode();result = 200;mockConn.getErrorStream();result = null;mockConn.getInputStream();result = stream;}}","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":224,"lineEnd":254,"lineMapIndex":-1,"methodParents":[],"nodeIndex":73},{"cfgs":[],"code":"result = mockUrl","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":226,"lineEnd":226,"lineMapIndex":-1,"methodParents":[],"nodeIndex":74},{"cfgs":[],"code":"mockRequest.getMethod()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":227,"lineEnd":227,"lineMapIndex":-1,"methodParents":[],"nodeIndex":75},{"cfgs":[],"code":"result = HttpMethod.GET","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":228,"lineEnd":228,"lineMapIndex":-1,"methodParents":[],"nodeIndex":76},{"cfgs":[],"code":"mockUrl.openConnection()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":229,"lineEnd":229,"lineMapIndex":-1,"methodParents":[],"nodeIndex":77},{"cfgs":[],"code":"result = mockConn","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":230,"lineEnd":230,"lineMapIndex":-1,"methodParents":[],"nodeIndex":78},{"cfgs":[],"code":"mockConn.setAllowUserInteraction(false)","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":231,"lineEnd":231,"lineMapIndex":-1,"methodParents":[],"nodeIndex":79},{"cfgs":[],"code":"mockConn.addRequestProperty(\"Accept\", \"application/json\")","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":232,"lineEnd":232,"lineMapIndex":-1,"methodParents":[],"nodeIndex":80},{"cfgs":[],"code":"mockConn.addRequestProperty(\"Accept-Encoding\", \"utf-8\")","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":233,"lineEnd":233,"lineMapIndex":-1,"methodParents":[],"nodeIndex":81},{"cfgs":[],"code":"mockConn.setInstanceFollowRedirects(true)","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":234,"lineEnd":234,"lineMapIndex":-1,"methodParents":[],"nodeIndex":82},{"cfgs":[],"code":"mockConn.setRequestMethod(\"GET\")","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":236,"lineEnd":236,"lineMapIndex":-1,"methodParents":[],"nodeIndex":83},{"cfgs":[],"code":"mockRequest.requiresAuthentication()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":238,"lineEnd":238,"lineMapIndex":-1,"methodParents":[],"nodeIndex":84},{"cfgs":[],"code":"result = true","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":239,"lineEnd":239,"lineMapIndex":181,"methodParents":[],"nodeIndex":85},{"cfgs":[],"code":"mockRequest.getUsername()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":240,"lineEnd":240,"lineMapIndex":156,"methodParents":[],"nodeIndex":86},{"cfgs":[],"code":"result = \"foo\"","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":241,"lineEnd":241,"lineMapIndex":-1,"methodParents":[],"nodeIndex":87},{"cfgs":[],"code":"mockRequest.getPassword()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":242,"lineEnd":242,"lineMapIndex":153,"methodParents":[],"nodeIndex":88},{"cfgs":[],"code":"result = \"bar\"","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":243,"lineEnd":243,"lineMapIndex":-1,"methodParents":[],"nodeIndex":89},{"cfgs":[],"code":"mockConn.setRequestProperty(\"Authorization\", \"Basic Zm9vOmJhcg==\")","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":244,"lineEnd":244,"lineMapIndex":-1,"methodParents":[],"nodeIndex":90},{"cfgs":[],"code":"mockConn.connect()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":246,"lineEnd":246,"lineMapIndex":-1,"methodParents":[],"nodeIndex":91},{"cfgs":[],"code":"mockConn.getResponseCode()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":248,"lineEnd":248,"lineMapIndex":-1,"methodParents":[],"nodeIndex":92},{"cfgs":[],"code":"result = 200","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":249,"lineEnd":249,"lineMapIndex":-1,"methodParents":[],"nodeIndex":93},{"cfgs":[],"code":"mockConn.getErrorStream()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":250,"lineEnd":250,"lineMapIndex":-1,"methodParents":[],"nodeIndex":94},{"cfgs":[],"code":"result = null","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":251,"lineEnd":251,"lineMapIndex":-1,"methodParents":[],"nodeIndex":95},{"cfgs":[],"code":"mockConn.getInputStream()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":252,"lineEnd":252,"lineMapIndex":-1,"methodParents":[],"nodeIndex":96},{"cfgs":[],"code":"result = stream","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":253,"lineEnd":253,"lineMapIndex":-1,"methodParents":[],"nodeIndex":97},{"cfgs":[],"code":"NetworkHttpClient client = new NetworkHttpClient()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":256,"lineEnd":256,"lineMapIndex":195,"methodParents":[],"nodeIndex":98},{"cfgs":[100],"code":"String error = \"womp\"","dfgs":[100],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":265,"lineEnd":265,"lineMapIndex":-1,"methodParents":[],"nodeIndex":99},{"cfgs":[101],"code":"final InputStream stream = new ByteArrayInputStream(error.getBytes(\"UTF-8\"))","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":266,"lineEnd":266,"lineMapIndex":-1,"methodParents":[],"nodeIndex":100},{"cfgs":[124],"code":"new Expectations() {{mockRequest.constructURL();result = mockUrl;mockRequest.getMethod();result = HttpMethod.GET;mockUrl.openConnection();result = mockConn;mockConn.setAllowUserInteraction(false);mockConn.addRequestProperty(\"Accept\", \"application/json\");mockConn.addRequestProperty(\"Accept-Encoding\", \"utf-8\");mockConn.setInstanceFollowRedirects(true);mockConn.setRequestMethod(\"GET\");mockRequest.requiresAuthentication();result = true;mockRequest.getUsername();result = \"foo\";mockRequest.getPassword();result = \"bar\";mockConn.setRequestProperty(\"Authorization\", \"Basic Zm9vOmJhcg==\");mockConn.connect();mockConn.getResponseCode();result = 404;mockConn.getErrorStream();result = stream;}}","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":268,"lineEnd":296,"lineMapIndex":-1,"methodParents":[],"nodeIndex":101},{"cfgs":[],"code":"result = mockUrl","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":270,"lineEnd":270,"lineMapIndex":-1,"methodParents":[],"nodeIndex":102},{"cfgs":[],"code":"mockRequest.getMethod()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":271,"lineEnd":271,"lineMapIndex":-1,"methodParents":[],"nodeIndex":103},{"cfgs":[],"code":"result = HttpMethod.GET","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":272,"lineEnd":272,"lineMapIndex":-1,"methodParents":[],"nodeIndex":104},{"cfgs":[],"code":"mockUrl.openConnection()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":273,"lineEnd":273,"lineMapIndex":-1,"methodParents":[],"nodeIndex":105},{"cfgs":[],"code":"result = mockConn","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":274,"lineEnd":274,"lineMapIndex":-1,"methodParents":[],"nodeIndex":106},{"cfgs":[],"code":"mockConn.setAllowUserInteraction(false)","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":275,"lineEnd":275,"lineMapIndex":-1,"methodParents":[],"nodeIndex":107},{"cfgs":[],"code":"mockConn.addRequestProperty(\"Accept\", \"application/json\")","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":276,"lineEnd":276,"lineMapIndex":-1,"methodParents":[],"nodeIndex":108},{"cfgs":[],"code":"mockConn.addRequestProperty(\"Accept-Encoding\", \"utf-8\")","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":277,"lineEnd":277,"lineMapIndex":-1,"methodParents":[],"nodeIndex":109},{"cfgs":[],"code":"mockConn.setInstanceFollowRedirects(true)","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":278,"lineEnd":278,"lineMapIndex":-1,"methodParents":[],"nodeIndex":110},{"cfgs":[],"code":"mockConn.setRequestMethod(\"GET\")","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":280,"lineEnd":280,"lineMapIndex":-1,"methodParents":[],"nodeIndex":111},{"cfgs":[],"code":"mockRequest.requiresAuthentication()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":282,"lineEnd":282,"lineMapIndex":-1,"methodParents":[],"nodeIndex":112},{"cfgs":[],"code":"result = true","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":283,"lineEnd":283,"lineMapIndex":162,"methodParents":[],"nodeIndex":113},{"cfgs":[],"code":"mockRequest.getUsername()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":284,"lineEnd":284,"lineMapIndex":187,"methodParents":[],"nodeIndex":114},{"cfgs":[],"code":"result = \"foo\"","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":285,"lineEnd":285,"lineMapIndex":-1,"methodParents":[],"nodeIndex":115},{"cfgs":[],"code":"mockRequest.getPassword()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":286,"lineEnd":286,"lineMapIndex":-1,"methodParents":[],"nodeIndex":116},{"cfgs":[],"code":"result = \"bar\"","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":287,"lineEnd":287,"lineMapIndex":-1,"methodParents":[],"nodeIndex":117},{"cfgs":[],"code":"mockConn.setRequestProperty(\"Authorization\", \"Basic Zm9vOmJhcg==\")","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":288,"lineEnd":288,"lineMapIndex":-1,"methodParents":[],"nodeIndex":118},{"cfgs":[],"code":"mockConn.connect()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":290,"lineEnd":290,"lineMapIndex":-1,"methodParents":[],"nodeIndex":119},{"cfgs":[],"code":"mockConn.getResponseCode()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":292,"lineEnd":292,"lineMapIndex":-1,"methodParents":[],"nodeIndex":120},{"cfgs":[],"code":"result = 404","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":293,"lineEnd":293,"lineMapIndex":-1,"methodParents":[],"nodeIndex":121},{"cfgs":[],"code":"mockConn.getErrorStream()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[4],"isDel":true,"lineBeg":294,"lineEnd":294,"lineMapIndex":-1,"methodParents":[],"nodeIndex":122},{"cfgs":[],"code":"result = stream","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":295,"lineEnd":295,"lineMapIndex":-1,"methodParents":[],"nodeIndex":123},{"cfgs":[],"code":"NetworkHttpClient client = new NetworkHttpClient()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":true,"lineBeg":298,"lineEnd":298,"lineMapIndex":197,"methodParents":[],"nodeIndex":124},{"cfgs":[],"code":"public NetworkHttpClient(HttpClientBuilder clientBuilder)","dfgs":[],"fName":"src_main_java_com_twilio_http_NetworkHttpClient.java","fieldParents":[],"isDel":true,"lineBeg":59,"lineEnd":59,"lineMapIndex":199,"methodParents":[],"nodeIndex":125},{"cfgs":[127],"code":"RequestBuilder builder = RequestBuilder.create(request.getMethod().toString()).setUri(request.constructURL().toString()).setVersion(HttpVersion.HTTP_1_1).setCharset(StandardCharsets.UTF_8)","dfgs":[127,128],"fName":"src_main_java_com_twilio_http_NetworkHttpClient.java","fieldParents":[],"isDel":true,"lineBeg":80,"lineEnd":83,"lineMapIndex":201,"methodParents":[],"nodeIndex":126},{"cfgs":[128],"code":"HttpMethod method = request.getMethod()","dfgs":[128],"fName":"src_main_java_com_twilio_http_NetworkHttpClient.java","fieldParents":[],"isDel":true,"lineBeg":89,"lineEnd":89,"lineMapIndex":200,"methodParents":[],"nodeIndex":127},{"cfgs":[],"code":"return new Response(// Consume the entire HTTP response before returning the streamresponse.getEntity() == null ? null : new BufferedHttpEntity(response.getEntity()).getContent(),response.getStatusLine().getStatusCode())","dfgs":[],"fName":"src_main_java_com_twilio_http_NetworkHttpClient.java","fieldParents":[],"isDel":true,"lineBeg":104,"lineEnd":109,"lineMapIndex":203,"methodParents":[],"nodeIndex":128},{"cfgs":[],"code":"import org.apache.http.Header","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":8,"lineEnd":8,"lineMapIndex":-1,"methodParents":[],"nodeIndex":129},{"cfgs":[],"code":"import org.apache.http.HttpEntity","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":9,"lineEnd":9,"lineMapIndex":-1,"methodParents":[],"nodeIndex":130},{"cfgs":[],"code":"import org.apache.http.StatusLine","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":10,"lineEnd":10,"lineMapIndex":-1,"methodParents":[],"nodeIndex":131},{"cfgs":[],"code":"import org.apache.http.client.methods.CloseableHttpResponse","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":11,"lineEnd":11,"lineMapIndex":-1,"methodParents":[],"nodeIndex":132},{"cfgs":[],"code":"import org.apache.http.client.methods.HttpUriRequest","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":12,"lineEnd":12,"lineMapIndex":-1,"methodParents":[],"nodeIndex":133},{"cfgs":[],"code":"import org.apache.http.impl.client.CloseableHttpClient","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":13,"lineEnd":13,"lineMapIndex":-1,"methodParents":[],"nodeIndex":134},{"cfgs":[],"code":"import org.apache.http.impl.client.HttpClientBuilder","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":14,"lineEnd":14,"lineMapIndex":-1,"methodParents":[],"nodeIndex":135},{"cfgs":[],"code":"import java.util.Collection","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":21,"lineEnd":21,"lineMapIndex":-1,"methodParents":[],"nodeIndex":136},{"cfgs":[],"code":"private NetworkHttpClient client","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":29,"lineEnd":29,"lineMapIndex":-1,"methodParents":[],"nodeIndex":137},{"cfgs":[],"code":"private HttpClientBuilder mockBuilder","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":38,"lineEnd":38,"lineMapIndex":3,"methodParents":[],"nodeIndex":138},{"cfgs":[],"code":"private CloseableHttpClient mockClient","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":41,"lineEnd":41,"lineMapIndex":4,"methodParents":[],"nodeIndex":139},{"cfgs":[],"code":"private CloseableHttpResponse mockResponse","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":44,"lineEnd":44,"lineMapIndex":5,"methodParents":[],"nodeIndex":140},{"cfgs":[],"code":"private StatusLine mockStatusLine","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":47,"lineEnd":47,"lineMapIndex":-1,"methodParents":[],"nodeIndex":141},{"cfgs":[],"code":"private HttpEntity mockEntity","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":50,"lineEnd":50,"lineMapIndex":-1,"methodParents":[],"nodeIndex":142},{"cfgs":[144],"code":"private void setup(final int statusCode,final String content,final HttpMethod method,final Boolean requiresAuthentication) throws IOException","dfgs":[144],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":52,"lineEnd":57,"lineMapIndex":-1,"methodParents":[],"nodeIndex":143},{"cfgs":[],"code":"new Expectations() {{mockBuilder.setDefaultHeaders((Collection<Header>) any);result = mockBuilder;mockBuilder.build();result = mockClient;mockRequest.getMethod();result = method;mockRequest.constructURL();result = mockUrl;mockRequest.requiresAuthentication();result = requiresAuthentication;if (requiresAuthentication) {mockRequest.getAuthString();result = \"foo:bar\";}if (method == HttpMethod.POST) {mockRequest.getPostParams();}mockClient.execute((HttpUriRequest) any);result = mockResponse;mockResponse.getEntity();result = mockEntity;mockEntity.isRepeatable();result = true;mockEntity.getContentLength();result = 1;mockEntity.getContent();result = stream;mockResponse.getStatusLine();result = mockStatusLine;mockStatusLine.getStatusCode();result = statusCode;mockResponse.getEntity();result = null;}}","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[138],"isDel":false,"lineBeg":60,"lineEnd":108,"lineMapIndex":23,"methodParents":[],"nodeIndex":144},{"cfgs":[],"code":"result = mockBuilder","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[138],"isDel":false,"lineBeg":62,"lineEnd":62,"lineMapIndex":-1,"methodParents":[],"nodeIndex":145},{"cfgs":[],"code":"mockBuilder.build()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[138],"isDel":false,"lineBeg":64,"lineEnd":64,"lineMapIndex":-1,"methodParents":[],"nodeIndex":146},{"cfgs":[],"code":"result = mockClient","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[139],"isDel":false,"lineBeg":65,"lineEnd":65,"lineMapIndex":-1,"methodParents":[],"nodeIndex":147},{"cfgs":[],"code":"result = method","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":68,"lineEnd":68,"lineMapIndex":-1,"methodParents":[],"nodeIndex":148},{"cfgs":[],"code":"mockRequest.constructURL()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":70,"lineEnd":70,"lineMapIndex":-1,"methodParents":[],"nodeIndex":149},{"cfgs":[],"code":"result = mockUrl","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":71,"lineEnd":71,"lineMapIndex":-1,"methodParents":[],"nodeIndex":150},{"cfgs":[],"code":"result = requiresAuthentication","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":74,"lineEnd":74,"lineMapIndex":-1,"methodParents":[],"nodeIndex":151},{"cfgs":[],"code":"if (requiresAuthentication)","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":76,"lineEnd":76,"lineMapIndex":-1,"methodParents":[],"nodeIndex":152},{"cfgs":[],"code":"mockRequest.getAuthString()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":77,"lineEnd":77,"lineMapIndex":88,"methodParents":[],"nodeIndex":153},{"cfgs":[],"code":"result = \"foo:bar\"","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":78,"lineEnd":78,"lineMapIndex":34,"methodParents":[],"nodeIndex":154},{"cfgs":[],"code":"if (method == HttpMethod.POST)","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":81,"lineEnd":81,"lineMapIndex":-1,"methodParents":[],"nodeIndex":155},{"cfgs":[],"code":"mockRequest.getPostParams()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":82,"lineEnd":82,"lineMapIndex":86,"methodParents":[],"nodeIndex":156},{"cfgs":[],"code":"mockClient.execute((HttpUriRequest) any)","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[139],"isDel":false,"lineBeg":85,"lineEnd":85,"lineMapIndex":-1,"methodParents":[],"nodeIndex":157},{"cfgs":[],"code":"result = mockResponse","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[140],"isDel":false,"lineBeg":86,"lineEnd":86,"lineMapIndex":29,"methodParents":[],"nodeIndex":158},{"cfgs":[],"code":"mockResponse.getEntity()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[140],"isDel":false,"lineBeg":88,"lineEnd":88,"lineMapIndex":-1,"methodParents":[],"nodeIndex":159},{"cfgs":[],"code":"result = mockEntity","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[142],"isDel":false,"lineBeg":89,"lineEnd":89,"lineMapIndex":-1,"methodParents":[],"nodeIndex":160},{"cfgs":[],"code":"mockEntity.isRepeatable()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[142],"isDel":false,"lineBeg":91,"lineEnd":91,"lineMapIndex":-1,"methodParents":[],"nodeIndex":161},{"cfgs":[],"code":"result = true","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":92,"lineEnd":92,"lineMapIndex":113,"methodParents":[],"nodeIndex":162},{"cfgs":[],"code":"mockEntity.getContentLength()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[142],"isDel":false,"lineBeg":94,"lineEnd":94,"lineMapIndex":-1,"methodParents":[],"nodeIndex":163},{"cfgs":[],"code":"result = 1","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":95,"lineEnd":95,"lineMapIndex":-1,"methodParents":[],"nodeIndex":164},{"cfgs":[],"code":"mockEntity.getContent()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[142],"isDel":false,"lineBeg":97,"lineEnd":97,"lineMapIndex":-1,"methodParents":[],"nodeIndex":165},{"cfgs":[],"code":"mockResponse.getStatusLine()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[140],"isDel":false,"lineBeg":100,"lineEnd":100,"lineMapIndex":-1,"methodParents":[],"nodeIndex":166},{"cfgs":[],"code":"result = mockStatusLine","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[141],"isDel":false,"lineBeg":101,"lineEnd":101,"lineMapIndex":42,"methodParents":[],"nodeIndex":167},{"cfgs":[],"code":"mockStatusLine.getStatusCode()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[141],"isDel":false,"lineBeg":103,"lineEnd":103,"lineMapIndex":-1,"methodParents":[],"nodeIndex":168},{"cfgs":[],"code":"result = statusCode","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":104,"lineEnd":104,"lineMapIndex":36,"methodParents":[],"nodeIndex":169},{"cfgs":[],"code":"mockResponse.getEntity()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[140],"isDel":false,"lineBeg":106,"lineEnd":106,"lineMapIndex":-1,"methodParents":[],"nodeIndex":170},{"cfgs":[],"code":"result = null","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":107,"lineEnd":107,"lineMapIndex":44,"methodParents":[],"nodeIndex":171},{"cfgs":[],"code":"public void testGet() throws IOException ","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":112,"lineEnd":112,"lineMapIndex":-1,"methodParents":[],"nodeIndex":172},{"cfgs":[174],"code":"setup(200, \"frobozz\", HttpMethod.GET, false)","dfgs":[174],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":113,"lineEnd":113,"lineMapIndex":-1,"methodParents":[143],"nodeIndex":173},{"cfgs":[],"code":"client = new NetworkHttpClient(mockBuilder)","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[137],"isDel":false,"lineBeg":115,"lineEnd":115,"lineMapIndex":-1,"methodParents":[199],"nodeIndex":174},{"cfgs":[186],"code":"new NonStrictExpectations() {{mockBuilder.setDefaultHeaders((Collection<Header>) any);result = mockBuilder;mockBuilder.build();result = mockClient;mockRequest.getMethod();result = HttpMethod.GET;mockRequest.constructURL();result = mockUrl;mockRequest.requiresAuthentication();result = true;mockRequest.getAuthString();result = \"foo:bar\";mockClient.execute((HttpUriRequest) any);result = new ApiConnectionException(\"foo\");}}","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[138],"isDel":false,"lineBeg":124,"lineEnd":145,"lineMapIndex":18,"methodParents":[],"nodeIndex":175},{"cfgs":[],"code":"result = mockBuilder","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[138],"isDel":false,"lineBeg":126,"lineEnd":126,"lineMapIndex":-1,"methodParents":[],"nodeIndex":176},{"cfgs":[],"code":"mockBuilder.build()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[138],"isDel":false,"lineBeg":128,"lineEnd":128,"lineMapIndex":-1,"methodParents":[],"nodeIndex":177},{"cfgs":[],"code":"result = mockClient","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[139],"isDel":false,"lineBeg":129,"lineEnd":129,"lineMapIndex":55,"methodParents":[],"nodeIndex":178},{"cfgs":[],"code":"mockRequest.getMethod()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":131,"lineEnd":131,"lineMapIndex":20,"methodParents":[],"nodeIndex":179},{"cfgs":[],"code":"result = HttpMethod.GET","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":132,"lineEnd":132,"lineMapIndex":-1,"methodParents":[],"nodeIndex":180},{"cfgs":[],"code":"result = true","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":138,"lineEnd":138,"lineMapIndex":85,"methodParents":[],"nodeIndex":181},{"cfgs":[],"code":"mockRequest.getAuthString()","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":140,"lineEnd":140,"lineMapIndex":33,"methodParents":[],"nodeIndex":182},{"cfgs":[],"code":"result = \"foo:bar\"","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":141,"lineEnd":141,"lineMapIndex":38,"methodParents":[],"nodeIndex":183},{"cfgs":[],"code":"mockClient.execute((HttpUriRequest) any)","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[139],"isDel":false,"lineBeg":143,"lineEnd":143,"lineMapIndex":35,"methodParents":[],"nodeIndex":184},{"cfgs":[],"code":"result = new ApiConnectionException(\"foo\")","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":144,"lineEnd":144,"lineMapIndex":-1,"methodParents":[],"nodeIndex":185},{"cfgs":[187],"code":"client = new NetworkHttpClient(mockBuilder)","dfgs":[187,188],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[137],"isDel":false,"lineBeg":147,"lineEnd":147,"lineMapIndex":37,"methodParents":[199],"nodeIndex":186},{"cfgs":[188],"code":"client.makeRequest(mockRequest)","dfgs":[188],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[137],"isDel":false,"lineBeg":148,"lineEnd":148,"lineMapIndex":114,"methodParents":[200],"nodeIndex":187},{"cfgs":[],"code":"fail(\"ApiConnectionException was expected\")","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":149,"lineEnd":149,"lineMapIndex":15,"methodParents":[],"nodeIndex":188},{"cfgs":[],"code":"public void testPost() throws IOException ","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":153,"lineEnd":153,"lineMapIndex":-1,"methodParents":[],"nodeIndex":189},{"cfgs":[191],"code":"setup(201, \"frobozz\", HttpMethod.POST, false)","dfgs":[191],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":154,"lineEnd":154,"lineMapIndex":-1,"methodParents":[143],"nodeIndex":190},{"cfgs":[],"code":"client = new NetworkHttpClient(mockBuilder)","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[137],"isDel":false,"lineBeg":156,"lineEnd":156,"lineMapIndex":47,"methodParents":[199],"nodeIndex":191},{"cfgs":[193],"code":"setup(204, \"\", HttpMethod.DELETE,false)","dfgs":[193],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":205,"lineEnd":205,"lineMapIndex":53,"methodParents":[143],"nodeIndex":192},{"cfgs":[],"code":"client = new NetworkHttpClient(mockBuilder)","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[137],"isDel":false,"lineBeg":207,"lineEnd":207,"lineMapIndex":70,"methodParents":[199],"nodeIndex":193},{"cfgs":[195],"code":"setup(200, \"frobozz\", HttpMethod.GET,true)","dfgs":[195],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":216,"lineEnd":216,"lineMapIndex":-1,"methodParents":[143],"nodeIndex":194},{"cfgs":[],"code":"client = new NetworkHttpClient(mockBuilder)","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[137],"isDel":false,"lineBeg":218,"lineEnd":218,"lineMapIndex":98,"methodParents":[199],"nodeIndex":195},{"cfgs":[197],"code":"setup(404, \"womp\", HttpMethod.GET,false)","dfgs":[197],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[],"isDel":false,"lineBeg":227,"lineEnd":227,"lineMapIndex":-1,"methodParents":[143],"nodeIndex":196},{"cfgs":[],"code":"client = new NetworkHttpClient(mockBuilder)","dfgs":[],"fName":"src_test_java_com_twilio_http_NetworkHttpClientTest.java","fieldParents":[137],"isDel":false,"lineBeg":229,"lineEnd":229,"lineMapIndex":124,"methodParents":[199],"nodeIndex":197},{"cfgs":[],"code":"import org.apache.http.HttpEntity","dfgs":[],"fName":"src_main_java_com_twilio_http_NetworkHttpClient.java","fieldParents":[],"isDel":false,"lineBeg":7,"lineEnd":7,"lineMapIndex":-1,"methodParents":[],"nodeIndex":198},{"cfgs":[],"code":"public NetworkHttpClient(HttpClientBuilder clientBuilder) ","dfgs":[],"fName":"src_main_java_com_twilio_http_NetworkHttpClient.java","fieldParents":[],"isDel":false,"lineBeg":60,"lineEnd":60,"lineMapIndex":125,"methodParents":[],"nodeIndex":199},{"cfgs":[201],"code":"HttpMethod method = request.getMethod()","dfgs":[201],"fName":"src_main_java_com_twilio_http_NetworkHttpClient.java","fieldParents":[],"isDel":false,"lineBeg":81,"lineEnd":81,"lineMapIndex":127,"methodParents":[],"nodeIndex":200},{"cfgs":[202],"code":"RequestBuilder builder = RequestBuilder.create(method.toString()).setUri(request.constructURL().toString()).setVersion(HttpVersion.HTTP_1_1).setCharset(StandardCharsets.UTF_8)","dfgs":[202],"fName":"src_main_java_com_twilio_http_NetworkHttpClient.java","fieldParents":[],"isDel":false,"lineBeg":82,"lineEnd":85,"lineMapIndex":126,"methodParents":[],"nodeIndex":201},{"cfgs":[203],"code":"HttpEntity entity = response.getEntity()","dfgs":[203],"fName":"src_main_java_com_twilio_http_NetworkHttpClient.java","fieldParents":[],"isDel":false,"lineBeg":105,"lineEnd":105,"lineMapIndex":-1,"methodParents":[],"nodeIndex":202},{"cfgs":[],"code":"return new Response(// Consume the entire HTTP response before returning the streamentity == null ? null : new BufferedHttpEntity(entity).getContent(),response.getStatusLine().getStatusCode())","dfgs":[],"fName":"src_main_java_com_twilio_http_NetworkHttpClient.java","fieldParents":[],"isDel":false,"lineBeg":106,"lineEnd":110,"lineMapIndex":128,"methodParents":[],"nodeIndex":203}]