[{"cfgs":[],"code":"if (!(metricRegistry.getClass().getName().contains(\"MetricRegistry\"))&& !(metricRegistry.getClass().getName().contains(\"MeterRegistry\")))","dfgs":[],"fName":"src_main_java_com_zaxxer_hikari_HikariConfig.java","fieldParents":[],"isDel":true,"lineBeg":761,"lineEnd":762,"lineMapIndex":4,"methodParents":[],"nodeIndex":0},{"cfgs":[2],"code":"if (metricRegistry != null && metricRegistry.getClass().getName().contains(\"MetricRegistry\"))","dfgs":[2],"fName":"src_main_java_com_zaxxer_hikari_pool_HikariPool.java","fieldParents":[],"isDel":true,"lineBeg":275,"lineEnd":275,"lineMapIndex":6,"methodParents":[],"nodeIndex":1},{"cfgs":[],"code":"if (metricRegistry != null && metricRegistry.getClass().getName().contains(\"MeterRegistry\"))","dfgs":[],"fName":"src_main_java_com_zaxxer_hikari_pool_HikariPool.java","fieldParents":[],"isDel":true,"lineBeg":278,"lineEnd":278,"lineMapIndex":7,"methodParents":[],"nodeIndex":2},{"cfgs":[],"code":"import static com.zaxxer.hikari.util.UtilityElf.safeIsAssignableFrom","dfgs":[],"fName":"src_main_java_com_zaxxer_hikari_HikariConfig.java","fieldParents":[],"isDel":false,"lineBeg":45,"lineEnd":45,"lineMapIndex":-1,"methodParents":[],"nodeIndex":3},{"cfgs":[],"code":"if (!safeIsAssignableFrom(metricRegistry, \"com.codahale.metrics.MetricRegistry\")&& !(safeIsAssignableFrom(metricRegistry, \"io.micrometer.core.instrument.MeterRegistry\")))","dfgs":[],"fName":"src_main_java_com_zaxxer_hikari_HikariConfig.java","fieldParents":[],"isDel":false,"lineBeg":762,"lineEnd":763,"lineMapIndex":0,"methodParents":[21],"nodeIndex":4},{"cfgs":[],"code":"import static com.zaxxer.hikari.util.UtilityElf.safeIsAssignableFrom","dfgs":[],"fName":"src_main_java_com_zaxxer_hikari_pool_HikariPool.java","fieldParents":[],"isDel":false,"lineBeg":60,"lineEnd":60,"lineMapIndex":-1,"methodParents":[],"nodeIndex":5},{"cfgs":[7],"code":"if (metricRegistry != null && safeIsAssignableFrom(metricRegistry, \"com.codahale.metrics.MetricRegistry\"))","dfgs":[7],"fName":"src_main_java_com_zaxxer_hikari_pool_HikariPool.java","fieldParents":[],"isDel":false,"lineBeg":276,"lineEnd":276,"lineMapIndex":1,"methodParents":[21],"nodeIndex":6},{"cfgs":[],"code":"if (metricRegistry != null && safeIsAssignableFrom(metricRegistry, \"io.micrometer.core.instrument.MeterRegistry\"))","dfgs":[],"fName":"src_main_java_com_zaxxer_hikari_pool_HikariPool.java","fieldParents":[],"isDel":false,"lineBeg":279,"lineEnd":279,"lineMapIndex":2,"methodParents":[21],"nodeIndex":7},{"cfgs":[],"code":"public void testFakeMetricRegistryThrowsIllegalArgumentException()","dfgs":[],"fName":"src_test_java_com_zaxxer_hikari_pool_TestMetrics.java","fieldParents":[],"isDel":false,"lineBeg":303,"lineEnd":304,"lineMapIndex":-1,"methodParents":[],"nodeIndex":8},{"cfgs":[10],"code":"try (HikariDataSource ds = newHikariDataSource()) ","dfgs":[10],"fName":"src_test_java_com_zaxxer_hikari_pool_TestMetrics.java","fieldParents":[],"isDel":false,"lineBeg":305,"lineEnd":305,"lineMapIndex":-1,"methodParents":[],"nodeIndex":9},{"cfgs":[11],"code":"ds.setMaximumPoolSize(1)","dfgs":[11],"fName":"src_test_java_com_zaxxer_hikari_pool_TestMetrics.java","fieldParents":[],"isDel":false,"lineBeg":306,"lineEnd":306,"lineMapIndex":-1,"methodParents":[],"nodeIndex":10},{"cfgs":[12],"code":"ds.setDataSourceClassName(\"com.zaxxer.hikari.mocks.StubDataSource\")","dfgs":[13],"fName":"src_test_java_com_zaxxer_hikari_pool_TestMetrics.java","fieldParents":[],"isDel":false,"lineBeg":307,"lineEnd":307,"lineMapIndex":-1,"methodParents":[],"nodeIndex":11},{"cfgs":[13],"code":"FakeMetricRegistry metricRegistry = new FakeMetricRegistry()","dfgs":[13],"fName":"src_test_java_com_zaxxer_hikari_pool_TestMetrics.java","fieldParents":[],"isDel":false,"lineBeg":309,"lineEnd":309,"lineMapIndex":-1,"methodParents":[],"nodeIndex":12},{"cfgs":[],"code":"ds.setMetricRegistry(metricRegistry)","dfgs":[],"fName":"src_test_java_com_zaxxer_hikari_pool_TestMetrics.java","fieldParents":[],"isDel":false,"lineBeg":311,"lineEnd":311,"lineMapIndex":-1,"methodParents":[4],"nodeIndex":13},{"cfgs":[],"code":"private static class FakeMetricRegistry ","dfgs":[],"fName":"src_test_java_com_zaxxer_hikari_pool_TestMetrics.java","fieldParents":[],"isDel":false,"lineBeg":315,"lineEnd":315,"lineMapIndex":-1,"methodParents":[],"nodeIndex":14},{"cfgs":[],"code":"public void testMetricRegistrySubclassIsAllowed()","dfgs":[],"fName":"src_test_java_com_zaxxer_hikari_pool_TestMetrics.java","fieldParents":[],"isDel":false,"lineBeg":318,"lineEnd":319,"lineMapIndex":-1,"methodParents":[],"nodeIndex":15},{"cfgs":[17],"code":"try (HikariDataSource ds = newHikariDataSource()) ","dfgs":[17],"fName":"src_test_java_com_zaxxer_hikari_pool_TestMetrics.java","fieldParents":[],"isDel":false,"lineBeg":320,"lineEnd":320,"lineMapIndex":-1,"methodParents":[],"nodeIndex":16},{"cfgs":[18],"code":"ds.setMaximumPoolSize(1)","dfgs":[18],"fName":"src_test_java_com_zaxxer_hikari_pool_TestMetrics.java","fieldParents":[],"isDel":false,"lineBeg":321,"lineEnd":321,"lineMapIndex":-1,"methodParents":[],"nodeIndex":17},{"cfgs":[19],"code":"ds.setDataSourceClassName(\"com.zaxxer.hikari.mocks.StubDataSource\")","dfgs":[19],"fName":"src_test_java_com_zaxxer_hikari_pool_TestMetrics.java","fieldParents":[],"isDel":false,"lineBeg":322,"lineEnd":322,"lineMapIndex":-1,"methodParents":[],"nodeIndex":18},{"cfgs":[],"code":"ds.setMetricRegistry(new MetricRegistry() {@Overridepublic Timer timer(String name) {return super.timer(name);}})","dfgs":[],"fName":"src_test_java_com_zaxxer_hikari_pool_TestMetrics.java","fieldParents":[],"isDel":false,"lineBeg":324,"lineEnd":329,"lineMapIndex":-1,"methodParents":[4],"nodeIndex":19},{"cfgs":[],"code":"return super.timer(name)","dfgs":[],"fName":"src_test_java_com_zaxxer_hikari_pool_TestMetrics.java","fieldParents":[],"isDel":false,"lineBeg":327,"lineEnd":327,"lineMapIndex":-1,"methodParents":[20],"nodeIndex":20},{"cfgs":[22],"code":"public static boolean safeIsAssignableFrom(Object obj, String className) ","dfgs":[23,24],"fName":"src_main_java_com_zaxxer_hikari_util_UtilityElf.java","fieldParents":[],"isDel":false,"lineBeg":74,"lineEnd":74,"lineMapIndex":-1,"methodParents":[],"nodeIndex":21},{"cfgs":[23],"code":"try ","dfgs":[],"fName":"src_main_java_com_zaxxer_hikari_util_UtilityElf.java","fieldParents":[],"isDel":false,"lineBeg":75,"lineEnd":75,"lineMapIndex":-1,"methodParents":[],"nodeIndex":22},{"cfgs":[24],"code":"Class<?> clazz = Class.forName(className)","dfgs":[24],"fName":"src_main_java_com_zaxxer_hikari_util_UtilityElf.java","fieldParents":[],"isDel":false,"lineBeg":76,"lineEnd":76,"lineMapIndex":-1,"methodParents":[],"nodeIndex":23},{"cfgs":[],"code":"return clazz.isAssignableFrom(obj.getClass())","dfgs":[],"fName":"src_main_java_com_zaxxer_hikari_util_UtilityElf.java","fieldParents":[],"isDel":false,"lineBeg":77,"lineEnd":77,"lineMapIndex":-1,"methodParents":[],"nodeIndex":24},{"cfgs":[],"code":"catch (ClassNotFoundException ignored)","dfgs":[],"fName":"src_main_java_com_zaxxer_hikari_util_UtilityElf.java","fieldParents":[],"isDel":false,"lineBeg":78,"lineEnd":78,"lineMapIndex":-1,"methodParents":[],"nodeIndex":25},{"cfgs":[],"code":"return false","dfgs":[],"fName":"src_main_java_com_zaxxer_hikari_util_UtilityElf.java","fieldParents":[],"isDel":false,"lineBeg":79,"lineEnd":79,"lineMapIndex":-1,"methodParents":[],"nodeIndex":26}]