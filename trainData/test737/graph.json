[{"cfgs":[],"code":"final String DB_CONNECTION = \"jdbc:h2:mem:createasselecttest;DB_CLOSE_DELAY=-1\"","dfgs":[],"fName":"src_test_java_org_verdictdb_core_querying_ProjectionExecutionNodeTest.java","fieldParents":[],"isDel":true,"lineBeg":44,"lineEnd":44,"lineMapIndex":130,"methodParents":[],"nodeIndex":0},{"cfgs":[2],"code":"public ColumnOp visitInterval(VerdictSQLParser.IntervalContext ctx) ","dfgs":[2,9,4,3,6,5,8,7],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":27,"lineEnd":27,"lineMapIndex":-1,"methodParents":[],"nodeIndex":1},{"cfgs":[3],"code":"String unit = \"day\"","dfgs":[9],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":28,"lineEnd":28,"lineMapIndex":135,"methodParents":[],"nodeIndex":2},{"cfgs":[4,5],"code":"if (ctx.DAY() != null || ctx.DAYS() != null)","dfgs":[5,9],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":29,"lineEnd":29,"lineMapIndex":136,"methodParents":[],"nodeIndex":3},{"cfgs":[9],"code":"unit = \"day\"","dfgs":[9],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":30,"lineEnd":30,"lineMapIndex":137,"methodParents":[],"nodeIndex":4},{"cfgs":[6,7],"code":"if (ctx.MONTH() != null || ctx.MONTHS() != null)","dfgs":[9,7],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":31,"lineEnd":31,"lineMapIndex":138,"methodParents":[],"nodeIndex":5},{"cfgs":[9],"code":"unit = \"month\"","dfgs":[9],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":32,"lineEnd":32,"lineMapIndex":139,"methodParents":[],"nodeIndex":6},{"cfgs":[8,9],"code":"if (ctx.YEAR() != null || ctx.YEARS() != null)","dfgs":[9],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":33,"lineEnd":33,"lineMapIndex":140,"methodParents":[],"nodeIndex":7},{"cfgs":[9],"code":"unit = \"year\"","dfgs":[9],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":34,"lineEnd":34,"lineMapIndex":141,"methodParents":[],"nodeIndex":8},{"cfgs":[],"code":"return new ColumnOp(\"interval\", Arrays.<UnnamedColumn>asList(ConstantColumn.valueOf(ctx.constant_expression().getText()),ConstantColumn.valueOf(unit)))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":36,"lineEnd":39,"lineMapIndex":142,"methodParents":[],"nodeIndex":9},{"cfgs":[11],"code":"public ColumnOp visitDate(VerdictSQLParser.DateContext ctx)","dfgs":[11],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":43,"lineEnd":43,"lineMapIndex":-1,"methodParents":[],"nodeIndex":10},{"cfgs":[],"code":"return new ColumnOp(\"date\", Arrays.<UnnamedColumn>asList(ConstantColumn.valueOf(ctx.constant_expression().getText())))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":44,"lineEnd":46,"lineMapIndex":144,"methodParents":[],"nodeIndex":11},{"cfgs":[],"code":"public ConstantColumn visitPrimitive_expression(VerdictSQLParser.Primitive_expressionContext ctx) ","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":50,"lineEnd":50,"lineMapIndex":-1,"methodParents":[],"nodeIndex":12},{"cfgs":[],"code":"return ConstantColumn.valueOf(ctx.getText())","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":51,"lineEnd":51,"lineMapIndex":146,"methodParents":[],"nodeIndex":13},{"cfgs":[],"code":"public BaseColumn visitColumn_ref_expression(VerdictSQLParser.Column_ref_expressionContext ctx) ","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":55,"lineEnd":55,"lineMapIndex":-1,"methodParents":[],"nodeIndex":14},{"cfgs":[],"code":"String[] t = ctx.getText().split(\"\\\\.\")","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":56,"lineEnd":56,"lineMapIndex":-1,"methodParents":[],"nodeIndex":15},{"cfgs":[],"code":"if (t.length == 3)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":57,"lineEnd":57,"lineMapIndex":-1,"methodParents":[],"nodeIndex":16},{"cfgs":[],"code":"return new BaseColumn(t[0], t[1], t[2])","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":58,"lineEnd":58,"lineMapIndex":-1,"methodParents":[],"nodeIndex":17},{"cfgs":[],"code":"if (t.length == 2)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":60,"lineEnd":60,"lineMapIndex":-1,"methodParents":[],"nodeIndex":18},{"cfgs":[],"code":"return new BaseColumn(t[0], t[1])","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":61,"lineEnd":61,"lineMapIndex":-1,"methodParents":[],"nodeIndex":19},{"cfgs":[],"code":"else","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":62,"lineEnd":62,"lineMapIndex":-1,"methodParents":[],"nodeIndex":20},{"cfgs":[],"code":"return new BaseColumn(t[0])","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":63,"lineEnd":63,"lineMapIndex":-1,"methodParents":[],"nodeIndex":21},{"cfgs":[],"code":"public ColumnOp visitBinary_operator_expression(VerdictSQLParser.Binary_operator_expressionContext ctx) ","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":68,"lineEnd":68,"lineMapIndex":-1,"methodParents":[],"nodeIndex":22},{"cfgs":[],"code":"String opType = null","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":69,"lineEnd":69,"lineMapIndex":163,"methodParents":[],"nodeIndex":23},{"cfgs":[],"code":"if (ctx.op.getText().equals(\"+\"))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":70,"lineEnd":70,"lineMapIndex":164,"methodParents":[],"nodeIndex":24},{"cfgs":[],"code":"opType = \"add\"","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":71,"lineEnd":71,"lineMapIndex":165,"methodParents":[],"nodeIndex":25},{"cfgs":[],"code":"if (ctx.op.getText().equals(\"-\"))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":73,"lineEnd":73,"lineMapIndex":166,"methodParents":[],"nodeIndex":26},{"cfgs":[],"code":"opType = \"subtract\"","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":74,"lineEnd":74,"lineMapIndex":167,"methodParents":[],"nodeIndex":27},{"cfgs":[],"code":"if (ctx.op.getText().equals(\"*\"))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":76,"lineEnd":76,"lineMapIndex":168,"methodParents":[],"nodeIndex":28},{"cfgs":[],"code":"opType = \"multiply\"","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":77,"lineEnd":77,"lineMapIndex":169,"methodParents":[],"nodeIndex":29},{"cfgs":[],"code":"if (ctx.op.getText().equals(\"/\"))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":79,"lineEnd":79,"lineMapIndex":170,"methodParents":[],"nodeIndex":30},{"cfgs":[],"code":"opType = \"divide\"","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":80,"lineEnd":80,"lineMapIndex":171,"methodParents":[],"nodeIndex":31},{"cfgs":[],"code":"return new ColumnOp(opType, Arrays.asList(visit(ctx.expression(0)),visit(ctx.expression(1))))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":82,"lineEnd":85,"lineMapIndex":172,"methodParents":[],"nodeIndex":32},{"cfgs":[],"code":"public ColumnOp visitFunction_call_expression(VerdictSQLParser.Function_call_expressionContext ctx) ","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":89,"lineEnd":89,"lineMapIndex":-1,"methodParents":[],"nodeIndex":33},{"cfgs":[],"code":"VerdictSQLBaseVisitor<ColumnOp> v = new VerdictSQLBaseVisitor<ColumnOp>() {@Overridepublic ColumnOp visitAggregate_windowed_function(VerdictSQLParser.Aggregate_windowed_functionContext ctx) {String fname;UnnamedColumn col = null;if (ctx.all_distinct_expression() != null) {ExpressionGen g = new ExpressionGen();col = g.visit(ctx.all_distinct_expression());}//OverClause overClause = null;if (ctx.AVG() != null) {fname = \"avg\";} else if (ctx.SUM() != null) {fname = \"sum\";} else if (ctx.COUNT() != null) {if (ctx.all_distinct_expression() != null && ctx.all_distinct_expression().DISTINCT() != null) {fname = \"countdistinct\";} else {fname = \"count\";col = new AsteriskColumn();}} //else if (ctx.NDV() != null) {//  fname = FuncName.IMPALA_APPROX_COUNT_DISTINCT;}else if (ctx.MIN() != null) {fname = \"min\";} else if (ctx.MAX() != null) {fname = \"max\";} //else if (ctx.STDDEV_SAMP() != null) {//  fname = FuncName.STDDEV_SAMP; }else {fname = \"UNKNOWN\";}//  if (ctx.over_clause() != null) {//      overClause = OverClause.from(vc, ctx.over_clause());//  }return new ColumnOp(fname, col);}@Overridepublic ColumnOp visitUnary_manipulation_function(VerdictSQLParser.Unary_manipulation_functionContext ctx) {String fname = ctx.function_name.getText().toLowerCase();ExpressionGen g = new ExpressionGen();return new ColumnOp(fname, g.visit(ctx.expression()));}@Override //not support yetpublic ColumnOp visitNoparam_manipulation_function(VerdictSQLParser.Noparam_manipulation_functionContext ctx) {String fname = ctx.function_name.getText().toUpperCase();//FuncName funcName = string2FunctionType.containsKey(fname) ? string2FunctionType.get(fname)//        : FuncName.UNKNOWN;//return new FuncExpr(funcName, null);return null;}@Overridepublic ColumnOp visitBinary_manipulation_function(VerdictSQLParser.Binary_manipulation_functionContext ctx) {String fname = ctx.function_name.getText().toLowerCase();ExpressionGen g = new ExpressionGen();return new ColumnOp(fname, Arrays.<UnnamedColumn>asList(g.visit(ctx.expression(0)),g.visit(ctx.expression(1))));}@Overridepublic ColumnOp visitTernary_manipulation_function(VerdictSQLParser.Ternary_manipulation_functionContext ctx) {String fname = ctx.function_name.getText().toLowerCase();ExpressionGen g = new ExpressionGen();return new ColumnOp(fname, Arrays.<UnnamedColumn>asList(g.visit(ctx.expression(0)),g.visit(ctx.expression(1)),g.visit(ctx.expression(2))));}@Override // not support yetpublic ColumnOp visitNary_manipulation_function(VerdictSQLParser.Nary_manipulation_functionContext ctx) {String fname = ctx.function_name.getText().toUpperCase();//FuncName funcName = string2FunctionType.containsKey(fname) ? string2FunctionType.get(fname)//        : FuncName.UNKNOWN;//List<Expr> exprList = new ArrayList<>();//for (VerdictSQLParser.ExpressionContext context : ctx.expression()) {//    exprList.add(Expr.from(vc, context));//}//return new FuncExpr(funcName, exprList, null);return null;}}","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":90,"lineEnd":186,"lineMapIndex":174,"methodParents":[],"nodeIndex":34},{"cfgs":[],"code":"if (ctx.all_distinct_expression() != null)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":96,"lineEnd":96,"lineMapIndex":176,"methodParents":[],"nodeIndex":35},{"cfgs":[],"code":"ExpressionGen g = new ExpressionGen()","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":97,"lineEnd":97,"lineMapIndex":177,"methodParents":[],"nodeIndex":36},{"cfgs":[],"code":"col = g.visit(ctx.all_distinct_expression())","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":98,"lineEnd":98,"lineMapIndex":178,"methodParents":[],"nodeIndex":37},{"cfgs":[],"code":"if (ctx.AVG() != null)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":103,"lineEnd":103,"lineMapIndex":179,"methodParents":[],"nodeIndex":38},{"cfgs":[],"code":"fname = \"avg\"","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":104,"lineEnd":104,"lineMapIndex":180,"methodParents":[],"nodeIndex":39},{"cfgs":[],"code":"if (ctx.SUM() != null)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":105,"lineEnd":105,"lineMapIndex":181,"methodParents":[],"nodeIndex":40},{"cfgs":[],"code":"fname = \"sum\"","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":106,"lineEnd":106,"lineMapIndex":182,"methodParents":[],"nodeIndex":41},{"cfgs":[],"code":"if (ctx.COUNT() != null)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":107,"lineEnd":107,"lineMapIndex":183,"methodParents":[],"nodeIndex":42},{"cfgs":[],"code":"if (ctx.all_distinct_expression() != null && ctx.all_distinct_expression().DISTINCT() != null)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":108,"lineEnd":108,"lineMapIndex":184,"methodParents":[],"nodeIndex":43},{"cfgs":[],"code":"fname = \"countdistinct\"","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":109,"lineEnd":109,"lineMapIndex":185,"methodParents":[],"nodeIndex":44},{"cfgs":[],"code":"else","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":110,"lineEnd":110,"lineMapIndex":-1,"methodParents":[],"nodeIndex":45},{"cfgs":[],"code":"fname = \"count\"","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":111,"lineEnd":111,"lineMapIndex":187,"methodParents":[],"nodeIndex":46},{"cfgs":[],"code":"col = new AsteriskColumn()","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":112,"lineEnd":112,"lineMapIndex":188,"methodParents":[],"nodeIndex":47},{"cfgs":[],"code":"if (ctx.MIN() != null)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":116,"lineEnd":116,"lineMapIndex":189,"methodParents":[],"nodeIndex":48},{"cfgs":[],"code":"fname = \"min\"","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":117,"lineEnd":117,"lineMapIndex":190,"methodParents":[],"nodeIndex":49},{"cfgs":[],"code":"if (ctx.MAX() != null)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":118,"lineEnd":118,"lineMapIndex":191,"methodParents":[],"nodeIndex":50},{"cfgs":[],"code":"fname = \"max\"","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":119,"lineEnd":119,"lineMapIndex":192,"methodParents":[],"nodeIndex":51},{"cfgs":[],"code":"else if (ctx.STDDEV_SAMP() != null) {//  fname = FuncName.STDDEV_SAMP; }else","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":120,"lineEnd":122,"lineMapIndex":-1,"methodParents":[],"nodeIndex":52},{"cfgs":[],"code":"fname = \"UNKNOWN\"","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":123,"lineEnd":123,"lineMapIndex":194,"methodParents":[],"nodeIndex":53},{"cfgs":[],"code":"return new ColumnOp(fname, col)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":130,"lineEnd":130,"lineMapIndex":195,"methodParents":[],"nodeIndex":54},{"cfgs":[],"code":"public ColumnOp visitUnary_manipulation_function(VerdictSQLParser.Unary_manipulation_functionContext ctx) ","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":134,"lineEnd":134,"lineMapIndex":-1,"methodParents":[],"nodeIndex":55},{"cfgs":[],"code":"String fname = ctx.function_name.getText().toLowerCase()","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":135,"lineEnd":135,"lineMapIndex":197,"methodParents":[],"nodeIndex":56},{"cfgs":[],"code":"ExpressionGen g = new ExpressionGen()","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":136,"lineEnd":136,"lineMapIndex":198,"methodParents":[],"nodeIndex":57},{"cfgs":[],"code":"return new ColumnOp(fname, g.visit(ctx.expression()))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":137,"lineEnd":137,"lineMapIndex":199,"methodParents":[],"nodeIndex":58},{"cfgs":[],"code":"//not support yetpublic ColumnOp visitNoparam_manipulation_function(VerdictSQLParser.Noparam_manipulation_functionContext ctx)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":140,"lineEnd":142,"lineMapIndex":200,"methodParents":[],"nodeIndex":59},{"cfgs":[],"code":"String fname = ctx.function_name.getText().toUpperCase()","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":143,"lineEnd":143,"lineMapIndex":201,"methodParents":[],"nodeIndex":60},{"cfgs":[],"code":"return null","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":147,"lineEnd":147,"lineMapIndex":202,"methodParents":[],"nodeIndex":61},{"cfgs":[],"code":"public ColumnOp visitBinary_manipulation_function(VerdictSQLParser.Binary_manipulation_functionContext ctx)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":151,"lineEnd":152,"lineMapIndex":-1,"methodParents":[],"nodeIndex":62},{"cfgs":[],"code":"String fname = ctx.function_name.getText().toLowerCase()","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":153,"lineEnd":153,"lineMapIndex":204,"methodParents":[],"nodeIndex":63},{"cfgs":[],"code":"ExpressionGen g = new ExpressionGen()","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":154,"lineEnd":154,"lineMapIndex":205,"methodParents":[],"nodeIndex":64},{"cfgs":[],"code":"return new ColumnOp(fname, Arrays.<UnnamedColumn>asList(g.visit(ctx.expression(0)),g.visit(ctx.expression(1))))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":155,"lineEnd":158,"lineMapIndex":206,"methodParents":[],"nodeIndex":65},{"cfgs":[],"code":"public ColumnOp visitTernary_manipulation_function(VerdictSQLParser.Ternary_manipulation_functionContext ctx)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":162,"lineEnd":163,"lineMapIndex":-1,"methodParents":[],"nodeIndex":66},{"cfgs":[],"code":"String fname = ctx.function_name.getText().toLowerCase()","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":164,"lineEnd":164,"lineMapIndex":208,"methodParents":[],"nodeIndex":67},{"cfgs":[],"code":"ExpressionGen g = new ExpressionGen()","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":165,"lineEnd":165,"lineMapIndex":209,"methodParents":[],"nodeIndex":68},{"cfgs":[],"code":"return new ColumnOp(fname, Arrays.<UnnamedColumn>asList(g.visit(ctx.expression(0)),g.visit(ctx.expression(1)),g.visit(ctx.expression(2))))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":166,"lineEnd":170,"lineMapIndex":210,"methodParents":[],"nodeIndex":69},{"cfgs":[],"code":"// not support yetpublic ColumnOp visitNary_manipulation_function(VerdictSQLParser.Nary_manipulation_functionContext ctx)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":173,"lineEnd":174,"lineMapIndex":211,"methodParents":[],"nodeIndex":70},{"cfgs":[],"code":"String fname = ctx.function_name.getText().toUpperCase()","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":175,"lineEnd":175,"lineMapIndex":212,"methodParents":[],"nodeIndex":71},{"cfgs":[],"code":"return null","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":183,"lineEnd":183,"lineMapIndex":213,"methodParents":[],"nodeIndex":72},{"cfgs":[],"code":"return v.visit(ctx)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":187,"lineEnd":187,"lineMapIndex":214,"methodParents":[],"nodeIndex":73},{"cfgs":[],"code":"public ColumnOp visitCase_expr(VerdictSQLParser.Case_exprContext ctx) ","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":191,"lineEnd":191,"lineMapIndex":-1,"methodParents":[],"nodeIndex":74},{"cfgs":[],"code":"if (ctx.search_condition()!=null )","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":192,"lineEnd":192,"lineMapIndex":216,"methodParents":[],"nodeIndex":75},{"cfgs":[],"code":"if (ctx.expression(1)!=null)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":193,"lineEnd":193,"lineMapIndex":217,"methodParents":[],"nodeIndex":76},{"cfgs":[],"code":"return new ColumnOp(\"whenthenelse\", Arrays.asList(getSearch_condition(ctx.search_condition()),visit(ctx.expression(0)),visit(ctx.expression(1))))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":194,"lineEnd":198,"lineMapIndex":218,"methodParents":[],"nodeIndex":77},{"cfgs":[],"code":"else","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":199,"lineEnd":199,"lineMapIndex":-1,"methodParents":[],"nodeIndex":78},{"cfgs":[],"code":"return new ColumnOp(\"whenthenelse\", Arrays.asList(getSearch_condition(ctx.search_condition()),visit(ctx.expression(0))))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":200,"lineEnd":203,"lineMapIndex":220,"methodParents":[],"nodeIndex":79},{"cfgs":[],"code":"else","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":205,"lineEnd":205,"lineMapIndex":-1,"methodParents":[],"nodeIndex":80},{"cfgs":[],"code":"if (ctx.expression(3)!=null)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":206,"lineEnd":206,"lineMapIndex":222,"methodParents":[],"nodeIndex":81},{"cfgs":[],"code":"return new ColumnOp(\"casethenelse\", Arrays.asList(getSearch_condition(ctx.search_condition()),visit(ctx.expression(0)),visit(ctx.expression(1)),visit(ctx.expression(2)),visit(ctx.expression(3))))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":207,"lineEnd":213,"lineMapIndex":223,"methodParents":[],"nodeIndex":82},{"cfgs":[],"code":"else","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":214,"lineEnd":214,"lineMapIndex":-1,"methodParents":[],"nodeIndex":83},{"cfgs":[],"code":"return new ColumnOp(\"casethenelse\", Arrays.asList(getSearch_condition(ctx.search_condition()),visit(ctx.expression(0)),visit(ctx.expression(1)),visit(ctx.expression(2))))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":215,"lineEnd":220,"lineMapIndex":225,"methodParents":[],"nodeIndex":84},{"cfgs":[],"code":"public UnnamedColumn visitBracket_expression(VerdictSQLParser.Bracket_expressionContext ctx) ","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":226,"lineEnd":226,"lineMapIndex":-1,"methodParents":[],"nodeIndex":85},{"cfgs":[],"code":"return visit(ctx.expression())","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":227,"lineEnd":227,"lineMapIndex":227,"methodParents":[],"nodeIndex":86},{"cfgs":[],"code":"public SubqueryColumn visitSubquery_expression(VerdictSQLParser.Subquery_expressionContext ctx) ","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":231,"lineEnd":231,"lineMapIndex":-1,"methodParents":[],"nodeIndex":87},{"cfgs":[],"code":"RelationGen g = new RelationGen()","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":232,"lineEnd":232,"lineMapIndex":229,"methodParents":[],"nodeIndex":88},{"cfgs":[],"code":"return SubqueryColumn.getSubqueryColumn((SelectQuery) g.visit(ctx.subquery().select_statement()))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":233,"lineEnd":233,"lineMapIndex":230,"methodParents":[],"nodeIndex":89},{"cfgs":[],"code":"public UnnamedColumn getSearch_condition(List<VerdictSQLParser.Search_conditionContext> ctx) ","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":236,"lineEnd":236,"lineMapIndex":231,"methodParents":[],"nodeIndex":90},{"cfgs":[],"code":"CondGen g = new CondGen()","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":237,"lineEnd":237,"lineMapIndex":232,"methodParents":[],"nodeIndex":91},{"cfgs":[],"code":"if (ctx.size()==1)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":238,"lineEnd":238,"lineMapIndex":233,"methodParents":[],"nodeIndex":92},{"cfgs":[],"code":"return g.visit(ctx.get(0))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":239,"lineEnd":239,"lineMapIndex":234,"methodParents":[],"nodeIndex":93},{"cfgs":[],"code":"else","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":240,"lineEnd":240,"lineMapIndex":-1,"methodParents":[],"nodeIndex":94},{"cfgs":[],"code":"UnnamedColumn col = visit(ctx.get(0))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":241,"lineEnd":241,"lineMapIndex":236,"methodParents":[],"nodeIndex":95},{"cfgs":[],"code":"for (int i=0;i<ctx.size();i++)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":242,"lineEnd":242,"lineMapIndex":237,"methodParents":[],"nodeIndex":96},{"cfgs":[],"code":"col = new ColumnOp(\"and\", Arrays.asList(col, g.visit(ctx.get(i))))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":243,"lineEnd":245,"lineMapIndex":238,"methodParents":[],"nodeIndex":97},{"cfgs":[],"code":"return col","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":true,"lineBeg":247,"lineEnd":247,"lineMapIndex":239,"methodParents":[],"nodeIndex":98},{"cfgs":[],"code":"public int getTierCount() ","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_UniformScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":9,"lineEnd":9,"lineMapIndex":-1,"methodParents":[],"nodeIndex":99},{"cfgs":[101],"code":"public List<Double> getCumulativeBlockSizeDistribution(int tier) ","dfgs":[101],"fName":"src_main_java_org_verdictdb_core_scrambling_UniformScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":19,"lineEnd":19,"lineMapIndex":-1,"methodParents":[],"nodeIndex":100},{"cfgs":[],"code":"return null","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_UniformScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":21,"lineEnd":21,"lineMapIndex":247,"methodParents":[],"nodeIndex":101},{"cfgs":[],"code":"class SelectListExtractor extends VerdictSQLBaseVisitor<List<SelectItem>> {@Overridepublic List<SelectItem> visitSelect_list(VerdictSQLParser.Select_listContext ctx) {List<SelectItem> selectList = new ArrayList<>();for (VerdictSQLParser.Select_list_elemContext a : ctx.select_list_elem()) {VerdictSQLBaseVisitor<SelectItem> v = new VerdictSQLBaseVisitor<SelectItem>() {@Overridepublic SelectItem visitSelect_list_elem(VerdictSQLParser.Select_list_elemContext ctx) {SelectItem elem = null;if (ctx.STAR() != null) {if (ctx.table_name() == null) {elem = new AsteriskColumn();} else {elem = new AsteriskColumn(ctx.table_name().getText());}} else {ExpressionGen g = new ExpressionGen();if (g.visit(ctx.expression()) instanceof BaseColumn) {elem = g.visit(ctx.expression());if (ctx.column_alias() != null) {elem = new AliasedColumn((BaseColumn) elem, ctx.column_alias().getText());}} else if (g.visit(ctx.expression()) instanceof ColumnOp) {elem = g.visit(ctx.expression());if (ctx.column_alias() != null) {elem = new AliasedColumn((ColumnOp) elem, ctx.column_alias().getText());}} else if (g.visit(ctx.expression()) instanceof ConstantColumn) {elem = g.visit(ctx.expression());if (ctx.column_alias() != null) {elem = new AliasedColumn((ConstantColumn) elem, ctx.column_alias().getText());}}}return elem;}};SelectItem e = v.visit(a);selectList.add(e);}return selectList","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_RelationGen.java","fieldParents":[],"isDel":true,"lineBeg":94,"lineEnd":135,"lineMapIndex":248,"methodParents":[],"nodeIndex":102},{"cfgs":[],"code":"class GroupbyGen extends VerdictSQLBaseVisitor<GroupingAttribute> {//          MetaData meta;//          public GroupbyGen(MetaData meta) {this.meta = meta; }public GroupbyGen() {}@Overridepublic GroupingAttribute visitColumn_ref_expression(VerdictSQLParser.Column_ref_expressionContext ctx) {String[] t = ctx.getText().split(\"\\\\.\");if (t.length >= 2) {return new AliasReference(t[1]);} else {return new AliasReference(t[0])","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_RelationGen.java","fieldParents":[],"isDel":true,"lineBeg":168,"lineEnd":180,"lineMapIndex":249,"methodParents":[],"nodeIndex":103},{"cfgs":[],"code":"if (ctx.as_table_alias()!=null)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_RelationGen.java","fieldParents":[],"isDel":true,"lineBeg":270,"lineEnd":270,"lineMapIndex":252,"methodParents":[],"nodeIndex":104},{"cfgs":[],"code":"if (ctx.table_name_with_hint().table_name().schema!=null)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_RelationGen.java","fieldParents":[],"isDel":true,"lineBeg":271,"lineEnd":271,"lineMapIndex":253,"methodParents":[],"nodeIndex":105},{"cfgs":[],"code":"r = new BaseTable(ctx.table_name_with_hint().table_name().schema.getText(),ctx.table_name_with_hint().table_name().table.getText(),ctx.as_table_alias().table_alias().getText())","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_RelationGen.java","fieldParents":[],"isDel":true,"lineBeg":272,"lineEnd":274,"lineMapIndex":254,"methodParents":[],"nodeIndex":106},{"cfgs":[],"code":"r = BaseTable.getBaseTableWithoutSchema(ctx.table_name_with_hint().table_name().table.getText(),ctx.as_table_alias().table_alias().getText())","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_RelationGen.java","fieldParents":[],"isDel":true,"lineBeg":277,"lineEnd":278,"lineMapIndex":255,"methodParents":[],"nodeIndex":107},{"cfgs":[],"code":"r = new BaseTable(ctx.table_name_with_hint().table_name().schema.getText(),ctx.table_name_with_hint().table_name().table.getText())","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_RelationGen.java","fieldParents":[],"isDel":true,"lineBeg":284,"lineEnd":285,"lineMapIndex":257,"methodParents":[],"nodeIndex":108},{"cfgs":[],"code":"r = new BaseTable(ctx.table_name_with_hint().table_name().table.getText())","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_RelationGen.java","fieldParents":[],"isDel":true,"lineBeg":288,"lineEnd":288,"lineMapIndex":-1,"methodParents":[],"nodeIndex":109},{"cfgs":[],"code":"import org.verdictdb.connection.DbmsQueryResultMetaData","dfgs":[],"fName":"src_main_java_org_verdictdb_core_connection_JdbcQueryResult.java","fieldParents":[],"isDel":true,"lineBeg":3,"lineEnd":3,"lineMapIndex":-1,"methodParents":[],"nodeIndex":110},{"cfgs":[],"code":"private JdbcResultSetMetaData jdbcResultSetMetaData1, jdbcResultSetMetaData2","dfgs":[],"fName":"src_test_java_org_verdictdb_jdbc41_JdbcResultSetMetaDataH2Test.java","fieldParents":[],"isDel":true,"lineBeg":30,"lineEnd":30,"lineMapIndex":-1,"methodParents":[],"nodeIndex":111},{"cfgs":[],"code":"final String DB_CONNECTION = \"jdbc:h2:mem:test;DB_CLOSE_DELAY=-1\"","dfgs":[],"fName":"src_test_java_org_verdictdb_jdbc41_JdbcResultSetMetaDataH2Test.java","fieldParents":[],"isDel":true,"lineBeg":36,"lineEnd":36,"lineMapIndex":259,"methodParents":[],"nodeIndex":112},{"cfgs":[114],"code":"jdbcResultSetMetaData1 = new JdbcResultSetMetaData(queryResult)","dfgs":[],"fName":"src_test_java_org_verdictdb_jdbc41_JdbcResultSetMetaDataH2Test.java","fieldParents":[111],"isDel":true,"lineBeg":76,"lineEnd":76,"lineMapIndex":260,"methodParents":[],"nodeIndex":113},{"cfgs":[],"code":"jdbcResultSetMetaData2 = new JdbcResultSetMetaData(aggregateFrameQueryResult)","dfgs":[],"fName":"src_test_java_org_verdictdb_jdbc41_JdbcResultSetMetaDataH2Test.java","fieldParents":[111],"isDel":true,"lineBeg":77,"lineEnd":77,"lineMapIndex":261,"methodParents":[],"nodeIndex":114},{"cfgs":[],"code":"private JdbcResultSetMetaData jdbcResultSetMetaData1, jdbcResultSetMetaData2","dfgs":[],"fName":"src_test_java_org_verdictdb_jdbc41_JdbcResultSetMetaDataPostgresTest.java","fieldParents":[],"isDel":true,"lineBeg":33,"lineEnd":33,"lineMapIndex":-1,"methodParents":[],"nodeIndex":115},{"cfgs":[117],"code":"jdbcResultSetMetaData1 = new JdbcResultSetMetaData(queryResult)","dfgs":[],"fName":"src_test_java_org_verdictdb_jdbc41_JdbcResultSetMetaDataPostgresTest.java","fieldParents":[115],"isDel":true,"lineBeg":95,"lineEnd":95,"lineMapIndex":265,"methodParents":[],"nodeIndex":116},{"cfgs":[],"code":"jdbcResultSetMetaData2 = new JdbcResultSetMetaData(aggregateFrameQueryResult)","dfgs":[],"fName":"src_test_java_org_verdictdb_jdbc41_JdbcResultSetMetaDataPostgresTest.java","fieldParents":[115],"isDel":true,"lineBeg":96,"lineEnd":96,"lineMapIndex":266,"methodParents":[],"nodeIndex":117},{"cfgs":[],"code":"assertEquals(rs.getMetaData().isNullable(3), jdbcResultSetMetaData2.isNullable(3))","dfgs":[],"fName":"src_test_java_org_verdictdb_jdbc41_JdbcResultSetMetaDataPostgresTest.java","fieldParents":[115],"isDel":true,"lineBeg":218,"lineEnd":218,"lineMapIndex":-1,"methodParents":[],"nodeIndex":118},{"cfgs":[],"code":"final String DB_CONNECTION = \"jdbc:h2:mem:createasselecttest;DB_CLOSE_DELAY=-1\"","dfgs":[],"fName":"src_test_java_org_verdictdb_core_querying_TokenQueueToAyncHandlerTest.java","fieldParents":[],"isDel":true,"lineBeg":34,"lineEnd":34,"lineMapIndex":269,"methodParents":[],"nodeIndex":119},{"cfgs":[],"code":"private JdbcResultSetMetaData jdbcResultSetMetaData1, jdbcResultSetMetaData2","dfgs":[],"fName":"src_test_java_org_verdictdb_jdbc41_JdbcResultSetMetaDataMysqlTest.java","fieldParents":[],"isDel":true,"lineBeg":31,"lineEnd":31,"lineMapIndex":-1,"methodParents":[],"nodeIndex":120},{"cfgs":[122],"code":"jdbcResultSetMetaData1 = new JdbcResultSetMetaData(queryResult)","dfgs":[],"fName":"src_test_java_org_verdictdb_jdbc41_JdbcResultSetMetaDataMysqlTest.java","fieldParents":[120],"isDel":true,"lineBeg":93,"lineEnd":93,"lineMapIndex":272,"methodParents":[],"nodeIndex":121},{"cfgs":[],"code":"jdbcResultSetMetaData2 = new JdbcResultSetMetaData(aggregateFrameQueryResult)","dfgs":[],"fName":"src_test_java_org_verdictdb_jdbc41_JdbcResultSetMetaDataMysqlTest.java","fieldParents":[120],"isDel":true,"lineBeg":94,"lineEnd":94,"lineMapIndex":273,"methodParents":[],"nodeIndex":122},{"cfgs":[],"code":"import org.verdictdb.connection.DbmsQueryResultMetaData","dfgs":[],"fName":"src_main_java_org_verdictdb_core_aggresult_AggregateFrameQueryResult.java","fieldParents":[],"isDel":true,"lineBeg":8,"lineEnd":8,"lineMapIndex":276,"methodParents":[],"nodeIndex":123},{"cfgs":[],"code":"import org.verdictdb.connection.DbmsQueryResultMetaData","dfgs":[],"fName":"src_main_java_org_verdictdb_core_connection_DbmsQueryResult.java","fieldParents":[],"isDel":true,"lineBeg":3,"lineEnd":3,"lineMapIndex":-1,"methodParents":[],"nodeIndex":124},{"cfgs":[],"code":"public int getTierCount()","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_ScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":7,"lineEnd":7,"lineMapIndex":277,"methodParents":[],"nodeIndex":125},{"cfgs":[],"code":"public List<Double> getCumulativeBlockSizeDistribution(int tier)","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_ScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":22,"lineEnd":22,"lineMapIndex":278,"methodParents":[],"nodeIndex":126},{"cfgs":[],"code":"import org.verdictdb.connection.DbmsQueryResultMetaData","dfgs":[],"fName":"src_main_java_org_verdictdb_core_aggresult_AggregateFrame.java","fieldParents":[],"isDel":true,"lineBeg":13,"lineEnd":13,"lineMapIndex":279,"methodParents":[],"nodeIndex":127},{"cfgs":[],"code":"File schemaFile = new File(\"src/test/resources/tpch-schema.sql\")","dfgs":[],"fName":"src_test_java_org_verdictdb_core_sqlreader_HiveTpchSelectQueryToSqlTest.java","fieldParents":[],"isDel":true,"lineBeg":47,"lineEnd":47,"lineMapIndex":292,"methodParents":[],"nodeIndex":128},{"cfgs":[],"code":"import org.verdictdb.connection.DbmsQueryResultMetaData","dfgs":[],"fName":"src_main_java_org_verdictdb_core_connection_SparkQueryResult.java","fieldParents":[],"isDel":true,"lineBeg":3,"lineEnd":3,"lineMapIndex":-1,"methodParents":[],"nodeIndex":129},{"cfgs":[],"code":"final String DB_CONNECTION = \"jdbc:h2:mem:projectiontest;DB_CLOSE_DELAY=-1\"","dfgs":[],"fName":"src_test_java_org_verdictdb_core_querying_ProjectionExecutionNodeTest.java","fieldParents":[],"isDel":false,"lineBeg":44,"lineEnd":44,"lineMapIndex":0,"methodParents":[],"nodeIndex":130},{"cfgs":[],"code":"import org.verdictdb.parser.VerdictSQLParser.Column_nameContext","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":15,"lineEnd":15,"lineMapIndex":-1,"methodParents":[],"nodeIndex":131},{"cfgs":[],"code":"import org.verdictdb.parser.VerdictSQLParser.Full_column_nameContext","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":16,"lineEnd":16,"lineMapIndex":-1,"methodParents":[],"nodeIndex":132},{"cfgs":[],"code":"import org.verdictdb.parser.VerdictSQLParser.Table_nameContext","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":17,"lineEnd":17,"lineMapIndex":-1,"methodParents":[],"nodeIndex":133},{"cfgs":[135],"code":"public ColumnOp visitInterval(VerdictSQLParser.IntervalContext ctx) ","dfgs":[135,142,137,136,139,138,141,140],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":30,"lineEnd":30,"lineMapIndex":-1,"methodParents":[],"nodeIndex":134},{"cfgs":[136],"code":"String unit = \"day\"","dfgs":[142],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":31,"lineEnd":31,"lineMapIndex":2,"methodParents":[],"nodeIndex":135},{"cfgs":[137,138],"code":"if (ctx.DAY() != null || ctx.DAYS() != null)","dfgs":[138,142],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":32,"lineEnd":32,"lineMapIndex":3,"methodParents":[],"nodeIndex":136},{"cfgs":[142],"code":"unit = \"day\"","dfgs":[142],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":33,"lineEnd":33,"lineMapIndex":4,"methodParents":[],"nodeIndex":137},{"cfgs":[139,140],"code":"if (ctx.MONTH() != null || ctx.MONTHS() != null)","dfgs":[142,140],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":34,"lineEnd":34,"lineMapIndex":5,"methodParents":[],"nodeIndex":138},{"cfgs":[142],"code":"unit = \"month\"","dfgs":[142],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":35,"lineEnd":35,"lineMapIndex":6,"methodParents":[],"nodeIndex":139},{"cfgs":[141,142],"code":"if (ctx.YEAR() != null || ctx.YEARS() != null)","dfgs":[142],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":36,"lineEnd":36,"lineMapIndex":7,"methodParents":[],"nodeIndex":140},{"cfgs":[142],"code":"unit = \"year\"","dfgs":[142],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":37,"lineEnd":37,"lineMapIndex":8,"methodParents":[],"nodeIndex":141},{"cfgs":[],"code":"return new ColumnOp(\"interval\", Arrays.<UnnamedColumn>asList(ConstantColumn.valueOf(ctx.constant_expression().getText()),ConstantColumn.valueOf(unit)))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":39,"lineEnd":42,"lineMapIndex":9,"methodParents":[],"nodeIndex":142},{"cfgs":[144],"code":"public ColumnOp visitDate(VerdictSQLParser.DateContext ctx)","dfgs":[144],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":46,"lineEnd":46,"lineMapIndex":-1,"methodParents":[],"nodeIndex":143},{"cfgs":[],"code":"return new ColumnOp(\"date\", Arrays.<UnnamedColumn>asList(ConstantColumn.valueOf(ctx.constant_expression().getText())))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":47,"lineEnd":49,"lineMapIndex":11,"methodParents":[],"nodeIndex":144},{"cfgs":[],"code":"public ConstantColumn visitPrimitive_expression(VerdictSQLParser.Primitive_expressionContext ctx) ","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":53,"lineEnd":53,"lineMapIndex":-1,"methodParents":[],"nodeIndex":145},{"cfgs":[],"code":"return ConstantColumn.valueOf(ctx.getText())","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":54,"lineEnd":54,"lineMapIndex":13,"methodParents":[],"nodeIndex":146},{"cfgs":[],"code":"public BaseColumn visitColumn_ref_expression(VerdictSQLParser.Column_ref_expressionContext ctx) ","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":58,"lineEnd":58,"lineMapIndex":-1,"methodParents":[],"nodeIndex":147},{"cfgs":[],"code":"Full_column_nameContext fullColName = ctx.full_column_name()","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":59,"lineEnd":59,"lineMapIndex":-1,"methodParents":[],"nodeIndex":148},{"cfgs":[],"code":"if (fullColName == null)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":60,"lineEnd":60,"lineMapIndex":-1,"methodParents":[],"nodeIndex":149},{"cfgs":[],"code":"return null","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":61,"lineEnd":61,"lineMapIndex":-1,"methodParents":[],"nodeIndex":150},{"cfgs":[],"code":"Column_nameContext columnName = fullColName.column_name()","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":64,"lineEnd":64,"lineMapIndex":-1,"methodParents":[],"nodeIndex":151},{"cfgs":[],"code":"String colName = stripQuote(columnName.getText())","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":65,"lineEnd":65,"lineMapIndex":-1,"methodParents":[160],"nodeIndex":152},{"cfgs":[],"code":"if (fullColName.table_name() == null)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":66,"lineEnd":66,"lineMapIndex":-1,"methodParents":[],"nodeIndex":153},{"cfgs":[],"code":"return new BaseColumn(colName)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":67,"lineEnd":67,"lineMapIndex":-1,"methodParents":[],"nodeIndex":154},{"cfgs":[],"code":"String tableName = stripQuote(fullColName.table_name().table.getText())","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":69,"lineEnd":69,"lineMapIndex":-1,"methodParents":[160],"nodeIndex":155},{"cfgs":[],"code":"if (fullColName.table_name().schema == null)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":70,"lineEnd":70,"lineMapIndex":-1,"methodParents":[],"nodeIndex":156},{"cfgs":[],"code":"return new BaseColumn(tableName, colName)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":71,"lineEnd":71,"lineMapIndex":-1,"methodParents":[],"nodeIndex":157},{"cfgs":[],"code":"else","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":73,"lineEnd":73,"lineMapIndex":-1,"methodParents":[],"nodeIndex":158},{"cfgs":[],"code":"return new BaseColumn(stripQuote(fullColName.table_name().schema.getText()), tableName, colName)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":74,"lineEnd":74,"lineMapIndex":-1,"methodParents":[160],"nodeIndex":159},{"cfgs":[161],"code":"private String stripQuote(String expr) ","dfgs":[161],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":78,"lineEnd":78,"lineMapIndex":-1,"methodParents":[],"nodeIndex":160},{"cfgs":[],"code":"return expr.replace(\"\\\"\", \"\").replace(\"`\", \"\")","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":79,"lineEnd":79,"lineMapIndex":-1,"methodParents":[],"nodeIndex":161},{"cfgs":[],"code":"public ColumnOp visitBinary_operator_expression(VerdictSQLParser.Binary_operator_expressionContext ctx) ","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":83,"lineEnd":83,"lineMapIndex":-1,"methodParents":[],"nodeIndex":162},{"cfgs":[],"code":"String opType = null","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":84,"lineEnd":84,"lineMapIndex":23,"methodParents":[],"nodeIndex":163},{"cfgs":[],"code":"if (ctx.op.getText().equals(\"+\"))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":85,"lineEnd":85,"lineMapIndex":24,"methodParents":[],"nodeIndex":164},{"cfgs":[],"code":"opType = \"add\"","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":86,"lineEnd":86,"lineMapIndex":25,"methodParents":[],"nodeIndex":165},{"cfgs":[],"code":"if (ctx.op.getText().equals(\"-\"))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":88,"lineEnd":88,"lineMapIndex":26,"methodParents":[],"nodeIndex":166},{"cfgs":[],"code":"opType = \"subtract\"","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":89,"lineEnd":89,"lineMapIndex":27,"methodParents":[],"nodeIndex":167},{"cfgs":[],"code":"if (ctx.op.getText().equals(\"*\"))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":91,"lineEnd":91,"lineMapIndex":28,"methodParents":[],"nodeIndex":168},{"cfgs":[],"code":"opType = \"multiply\"","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":92,"lineEnd":92,"lineMapIndex":29,"methodParents":[],"nodeIndex":169},{"cfgs":[],"code":"if (ctx.op.getText().equals(\"/\"))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":94,"lineEnd":94,"lineMapIndex":30,"methodParents":[],"nodeIndex":170},{"cfgs":[],"code":"opType = \"divide\"","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":95,"lineEnd":95,"lineMapIndex":31,"methodParents":[],"nodeIndex":171},{"cfgs":[],"code":"return new ColumnOp(opType, Arrays.asList(visit(ctx.expression(0)),visit(ctx.expression(1))))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":97,"lineEnd":100,"lineMapIndex":32,"methodParents":[],"nodeIndex":172},{"cfgs":[],"code":"public ColumnOp visitFunction_call_expression(VerdictSQLParser.Function_call_expressionContext ctx) ","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":104,"lineEnd":104,"lineMapIndex":-1,"methodParents":[],"nodeIndex":173},{"cfgs":[],"code":"VerdictSQLBaseVisitor<ColumnOp> v = new VerdictSQLBaseVisitor<ColumnOp>() {@Overridepublic ColumnOp visitAggregate_windowed_function(VerdictSQLParser.Aggregate_windowed_functionContext ctx) {String fname;UnnamedColumn col = null;if (ctx.all_distinct_expression() != null) {ExpressionGen g = new ExpressionGen();col = g.visit(ctx.all_distinct_expression());}//OverClause overClause = null;if (ctx.AVG() != null) {fname = \"avg\";} else if (ctx.SUM() != null) {fname = \"sum\";} else if (ctx.COUNT() != null) {if (ctx.all_distinct_expression() != null && ctx.all_distinct_expression().DISTINCT() != null) {fname = \"countdistinct\";} else {fname = \"count\";col = new AsteriskColumn();}} //else if (ctx.NDV() != null) {//  fname = FuncName.IMPALA_APPROX_COUNT_DISTINCT;}else if (ctx.MIN() != null) {fname = \"min\";} else if (ctx.MAX() != null) {fname = \"max\";} //else if (ctx.STDDEV_SAMP() != null) {//  fname = FuncName.STDDEV_SAMP; }else {fname = \"UNKNOWN\";}//  if (ctx.over_clause() != null) {//      overClause = OverClause.from(vc, ctx.over_clause());//  }return new ColumnOp(fname, col);}@Overridepublic ColumnOp visitUnary_manipulation_function(VerdictSQLParser.Unary_manipulation_functionContext ctx) {String fname = ctx.function_name.getText().toLowerCase();ExpressionGen g = new ExpressionGen();return new ColumnOp(fname, g.visit(ctx.expression()));}@Override //not support yetpublic ColumnOp visitNoparam_manipulation_function(VerdictSQLParser.Noparam_manipulation_functionContext ctx) {String fname = ctx.function_name.getText().toUpperCase();//FuncName funcName = string2FunctionType.containsKey(fname) ? string2FunctionType.get(fname)//        : FuncName.UNKNOWN;//return new FuncExpr(funcName, null);return null;}@Overridepublic ColumnOp visitBinary_manipulation_function(VerdictSQLParser.Binary_manipulation_functionContext ctx) {String fname = ctx.function_name.getText().toLowerCase();ExpressionGen g = new ExpressionGen();return new ColumnOp(fname, Arrays.<UnnamedColumn>asList(g.visit(ctx.expression(0)),g.visit(ctx.expression(1))));}@Overridepublic ColumnOp visitTernary_manipulation_function(VerdictSQLParser.Ternary_manipulation_functionContext ctx) {String fname = ctx.function_name.getText().toLowerCase();ExpressionGen g = new ExpressionGen();return new ColumnOp(fname, Arrays.<UnnamedColumn>asList(g.visit(ctx.expression(0)),g.visit(ctx.expression(1)),g.visit(ctx.expression(2))));}@Override // not support yetpublic ColumnOp visitNary_manipulation_function(VerdictSQLParser.Nary_manipulation_functionContext ctx) {String fname = ctx.function_name.getText().toUpperCase();//FuncName funcName = string2FunctionType.containsKey(fname) ? string2FunctionType.get(fname)//        : FuncName.UNKNOWN;//List<Expr> exprList = new ArrayList<>();//for (VerdictSQLParser.ExpressionContext context : ctx.expression()) {//    exprList.add(Expr.from(vc, context));//}//return new FuncExpr(funcName, exprList, null);return null;}}","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":105,"lineEnd":201,"lineMapIndex":34,"methodParents":[],"nodeIndex":174},{"cfgs":[],"code":"UnnamedColumn col = null","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":110,"lineEnd":110,"lineMapIndex":-1,"methodParents":[],"nodeIndex":175},{"cfgs":[],"code":"if (ctx.all_distinct_expression() != null)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":111,"lineEnd":111,"lineMapIndex":35,"methodParents":[],"nodeIndex":176},{"cfgs":[],"code":"ExpressionGen g = new ExpressionGen()","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":112,"lineEnd":112,"lineMapIndex":36,"methodParents":[],"nodeIndex":177},{"cfgs":[],"code":"col = g.visit(ctx.all_distinct_expression())","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":113,"lineEnd":113,"lineMapIndex":37,"methodParents":[],"nodeIndex":178},{"cfgs":[],"code":"if (ctx.AVG() != null)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":118,"lineEnd":118,"lineMapIndex":38,"methodParents":[],"nodeIndex":179},{"cfgs":[],"code":"fname = \"avg\"","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":119,"lineEnd":119,"lineMapIndex":39,"methodParents":[],"nodeIndex":180},{"cfgs":[],"code":"if (ctx.SUM() != null)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":120,"lineEnd":120,"lineMapIndex":40,"methodParents":[],"nodeIndex":181},{"cfgs":[],"code":"fname = \"sum\"","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":121,"lineEnd":121,"lineMapIndex":41,"methodParents":[],"nodeIndex":182},{"cfgs":[],"code":"if (ctx.COUNT() != null)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":122,"lineEnd":122,"lineMapIndex":42,"methodParents":[],"nodeIndex":183},{"cfgs":[],"code":"if (ctx.all_distinct_expression() != null && ctx.all_distinct_expression().DISTINCT() != null)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":123,"lineEnd":123,"lineMapIndex":43,"methodParents":[],"nodeIndex":184},{"cfgs":[],"code":"fname = \"countdistinct\"","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":124,"lineEnd":124,"lineMapIndex":44,"methodParents":[],"nodeIndex":185},{"cfgs":[],"code":"else","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":125,"lineEnd":125,"lineMapIndex":-1,"methodParents":[],"nodeIndex":186},{"cfgs":[],"code":"fname = \"count\"","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":126,"lineEnd":126,"lineMapIndex":46,"methodParents":[],"nodeIndex":187},{"cfgs":[],"code":"col = new AsteriskColumn()","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":127,"lineEnd":127,"lineMapIndex":47,"methodParents":[],"nodeIndex":188},{"cfgs":[],"code":"if (ctx.MIN() != null)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":131,"lineEnd":131,"lineMapIndex":48,"methodParents":[],"nodeIndex":189},{"cfgs":[],"code":"fname = \"min\"","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":132,"lineEnd":132,"lineMapIndex":49,"methodParents":[],"nodeIndex":190},{"cfgs":[],"code":"if (ctx.MAX() != null)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":133,"lineEnd":133,"lineMapIndex":50,"methodParents":[],"nodeIndex":191},{"cfgs":[],"code":"fname = \"max\"","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":134,"lineEnd":134,"lineMapIndex":51,"methodParents":[],"nodeIndex":192},{"cfgs":[],"code":"else if (ctx.STDDEV_SAMP() != null) {//  fname = FuncName.STDDEV_SAMP; }else","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":135,"lineEnd":137,"lineMapIndex":-1,"methodParents":[],"nodeIndex":193},{"cfgs":[],"code":"fname = \"UNKNOWN\"","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":138,"lineEnd":138,"lineMapIndex":53,"methodParents":[],"nodeIndex":194},{"cfgs":[],"code":"return new ColumnOp(fname, col)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":145,"lineEnd":145,"lineMapIndex":54,"methodParents":[],"nodeIndex":195},{"cfgs":[],"code":"public ColumnOp visitUnary_manipulation_function(VerdictSQLParser.Unary_manipulation_functionContext ctx) ","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":149,"lineEnd":149,"lineMapIndex":-1,"methodParents":[],"nodeIndex":196},{"cfgs":[],"code":"String fname = ctx.function_name.getText().toLowerCase()","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":150,"lineEnd":150,"lineMapIndex":56,"methodParents":[],"nodeIndex":197},{"cfgs":[],"code":"ExpressionGen g = new ExpressionGen()","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":151,"lineEnd":151,"lineMapIndex":57,"methodParents":[],"nodeIndex":198},{"cfgs":[],"code":"return new ColumnOp(fname, g.visit(ctx.expression()))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":152,"lineEnd":152,"lineMapIndex":58,"methodParents":[],"nodeIndex":199},{"cfgs":[],"code":"//not support yetpublic ColumnOp visitNoparam_manipulation_function(VerdictSQLParser.Noparam_manipulation_functionContext ctx)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":155,"lineEnd":157,"lineMapIndex":59,"methodParents":[],"nodeIndex":200},{"cfgs":[],"code":"String fname = ctx.function_name.getText().toUpperCase()","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":158,"lineEnd":158,"lineMapIndex":60,"methodParents":[],"nodeIndex":201},{"cfgs":[],"code":"return null","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":162,"lineEnd":162,"lineMapIndex":61,"methodParents":[],"nodeIndex":202},{"cfgs":[],"code":"public ColumnOp visitBinary_manipulation_function(VerdictSQLParser.Binary_manipulation_functionContext ctx)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":166,"lineEnd":167,"lineMapIndex":-1,"methodParents":[],"nodeIndex":203},{"cfgs":[],"code":"String fname = ctx.function_name.getText().toLowerCase()","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":168,"lineEnd":168,"lineMapIndex":63,"methodParents":[],"nodeIndex":204},{"cfgs":[],"code":"ExpressionGen g = new ExpressionGen()","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":169,"lineEnd":169,"lineMapIndex":64,"methodParents":[],"nodeIndex":205},{"cfgs":[],"code":"return new ColumnOp(fname, Arrays.<UnnamedColumn>asList(g.visit(ctx.expression(0)),g.visit(ctx.expression(1))))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":170,"lineEnd":173,"lineMapIndex":65,"methodParents":[],"nodeIndex":206},{"cfgs":[],"code":"public ColumnOp visitTernary_manipulation_function(VerdictSQLParser.Ternary_manipulation_functionContext ctx)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":177,"lineEnd":178,"lineMapIndex":-1,"methodParents":[],"nodeIndex":207},{"cfgs":[],"code":"String fname = ctx.function_name.getText().toLowerCase()","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":179,"lineEnd":179,"lineMapIndex":67,"methodParents":[],"nodeIndex":208},{"cfgs":[],"code":"ExpressionGen g = new ExpressionGen()","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":180,"lineEnd":180,"lineMapIndex":68,"methodParents":[],"nodeIndex":209},{"cfgs":[],"code":"return new ColumnOp(fname, Arrays.<UnnamedColumn>asList(g.visit(ctx.expression(0)),g.visit(ctx.expression(1)),g.visit(ctx.expression(2))))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":181,"lineEnd":185,"lineMapIndex":69,"methodParents":[],"nodeIndex":210},{"cfgs":[],"code":"// not support yetpublic ColumnOp visitNary_manipulation_function(VerdictSQLParser.Nary_manipulation_functionContext ctx)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":188,"lineEnd":189,"lineMapIndex":70,"methodParents":[],"nodeIndex":211},{"cfgs":[],"code":"String fname = ctx.function_name.getText().toUpperCase()","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":190,"lineEnd":190,"lineMapIndex":71,"methodParents":[],"nodeIndex":212},{"cfgs":[],"code":"return null","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":198,"lineEnd":198,"lineMapIndex":72,"methodParents":[],"nodeIndex":213},{"cfgs":[],"code":"return v.visit(ctx)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":202,"lineEnd":202,"lineMapIndex":73,"methodParents":[],"nodeIndex":214},{"cfgs":[],"code":"public ColumnOp visitCase_expr(VerdictSQLParser.Case_exprContext ctx) ","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":206,"lineEnd":206,"lineMapIndex":-1,"methodParents":[],"nodeIndex":215},{"cfgs":[],"code":"if (ctx.search_condition()!=null )","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":207,"lineEnd":207,"lineMapIndex":75,"methodParents":[],"nodeIndex":216},{"cfgs":[],"code":"if (ctx.expression(1)!=null)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":208,"lineEnd":208,"lineMapIndex":76,"methodParents":[],"nodeIndex":217},{"cfgs":[],"code":"return new ColumnOp(\"whenthenelse\", Arrays.asList(getSearch_condition(ctx.search_condition()),visit(ctx.expression(0)),visit(ctx.expression(1))))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":209,"lineEnd":213,"lineMapIndex":77,"methodParents":[],"nodeIndex":218},{"cfgs":[],"code":"else","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":214,"lineEnd":214,"lineMapIndex":-1,"methodParents":[],"nodeIndex":219},{"cfgs":[],"code":"return new ColumnOp(\"whenthenelse\", Arrays.asList(getSearch_condition(ctx.search_condition()),visit(ctx.expression(0))))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":215,"lineEnd":218,"lineMapIndex":79,"methodParents":[],"nodeIndex":220},{"cfgs":[],"code":"else","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":220,"lineEnd":220,"lineMapIndex":-1,"methodParents":[],"nodeIndex":221},{"cfgs":[],"code":"if (ctx.expression(3)!=null)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":221,"lineEnd":221,"lineMapIndex":81,"methodParents":[],"nodeIndex":222},{"cfgs":[],"code":"return new ColumnOp(\"casethenelse\", Arrays.asList(getSearch_condition(ctx.search_condition()),visit(ctx.expression(0)),visit(ctx.expression(1)),visit(ctx.expression(2)),visit(ctx.expression(3))))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":222,"lineEnd":228,"lineMapIndex":82,"methodParents":[],"nodeIndex":223},{"cfgs":[],"code":"else","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":229,"lineEnd":229,"lineMapIndex":-1,"methodParents":[],"nodeIndex":224},{"cfgs":[],"code":"return new ColumnOp(\"casethenelse\", Arrays.asList(getSearch_condition(ctx.search_condition()),visit(ctx.expression(0)),visit(ctx.expression(1)),visit(ctx.expression(2))))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":230,"lineEnd":235,"lineMapIndex":84,"methodParents":[],"nodeIndex":225},{"cfgs":[],"code":"public UnnamedColumn visitBracket_expression(VerdictSQLParser.Bracket_expressionContext ctx) ","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":241,"lineEnd":241,"lineMapIndex":-1,"methodParents":[],"nodeIndex":226},{"cfgs":[],"code":"return visit(ctx.expression())","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":242,"lineEnd":242,"lineMapIndex":86,"methodParents":[],"nodeIndex":227},{"cfgs":[],"code":"public SubqueryColumn visitSubquery_expression(VerdictSQLParser.Subquery_expressionContext ctx) ","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":246,"lineEnd":246,"lineMapIndex":-1,"methodParents":[],"nodeIndex":228},{"cfgs":[],"code":"RelationGen g = new RelationGen()","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":247,"lineEnd":247,"lineMapIndex":88,"methodParents":[],"nodeIndex":229},{"cfgs":[],"code":"return SubqueryColumn.getSubqueryColumn((SelectQuery) g.visit(ctx.subquery().select_statement()))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":248,"lineEnd":248,"lineMapIndex":89,"methodParents":[],"nodeIndex":230},{"cfgs":[],"code":"public UnnamedColumn getSearch_condition(List<VerdictSQLParser.Search_conditionContext> ctx) ","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":251,"lineEnd":251,"lineMapIndex":90,"methodParents":[],"nodeIndex":231},{"cfgs":[],"code":"CondGen g = new CondGen()","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":252,"lineEnd":252,"lineMapIndex":91,"methodParents":[],"nodeIndex":232},{"cfgs":[],"code":"if (ctx.size()==1)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":253,"lineEnd":253,"lineMapIndex":92,"methodParents":[],"nodeIndex":233},{"cfgs":[],"code":"return g.visit(ctx.get(0))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":254,"lineEnd":254,"lineMapIndex":93,"methodParents":[],"nodeIndex":234},{"cfgs":[],"code":"else","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":255,"lineEnd":255,"lineMapIndex":-1,"methodParents":[],"nodeIndex":235},{"cfgs":[],"code":"UnnamedColumn col = visit(ctx.get(0))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":256,"lineEnd":256,"lineMapIndex":95,"methodParents":[],"nodeIndex":236},{"cfgs":[],"code":"for (int i=0;i<ctx.size();i++)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":257,"lineEnd":257,"lineMapIndex":96,"methodParents":[],"nodeIndex":237},{"cfgs":[],"code":"col = new ColumnOp(\"and\", Arrays.asList(col, g.visit(ctx.get(i))))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":258,"lineEnd":260,"lineMapIndex":97,"methodParents":[],"nodeIndex":238},{"cfgs":[],"code":"return col","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_ExpressionGen.java","fieldParents":[],"isDel":false,"lineBeg":262,"lineEnd":262,"lineMapIndex":98,"methodParents":[],"nodeIndex":239},{"cfgs":[],"code":"import java.util.ArrayList","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_UniformScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":3,"lineEnd":3,"lineMapIndex":-1,"methodParents":[],"nodeIndex":240},{"cfgs":[],"code":"public int getTileCount() ","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_UniformScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":10,"lineEnd":10,"lineMapIndex":-1,"methodParents":[],"nodeIndex":241},{"cfgs":[243],"code":"public List<Double> getCumulativeSizes(int tile, int length) ","dfgs":[243,245,247,244,246],"fName":"src_main_java_org_verdictdb_core_scrambling_UniformScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":20,"lineEnd":20,"lineMapIndex":-1,"methodParents":[],"nodeIndex":242},{"cfgs":[244],"code":"List<Double> cumul = new ArrayList<>()","dfgs":[247,246],"fName":"src_main_java_org_verdictdb_core_scrambling_UniformScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":21,"lineEnd":21,"lineMapIndex":-1,"methodParents":[],"nodeIndex":243},{"cfgs":[245],"code":"double c = 1.0 / length","dfgs":[245,246],"fName":"src_main_java_org_verdictdb_core_scrambling_UniformScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":22,"lineEnd":22,"lineMapIndex":-1,"methodParents":[],"nodeIndex":244},{"cfgs":[246,247],"code":"for (int i = 0; i < length; i++)","dfgs":[246],"fName":"src_main_java_org_verdictdb_core_scrambling_UniformScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":23,"lineEnd":23,"lineMapIndex":-1,"methodParents":[],"nodeIndex":245},{"cfgs":[],"code":"cumul.add(c * (i+1))","dfgs":[247],"fName":"src_main_java_org_verdictdb_core_scrambling_UniformScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":24,"lineEnd":24,"lineMapIndex":-1,"methodParents":[],"nodeIndex":246},{"cfgs":[],"code":"return cumul","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_UniformScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":26,"lineEnd":26,"lineMapIndex":101,"methodParents":[],"nodeIndex":247},{"cfgs":[],"code":"class SelectListExtractor extends VerdictSQLBaseVisitor<List<SelectItem>> {@Overridepublic List<SelectItem> visitSelect_list(VerdictSQLParser.Select_listContext ctx) {List<SelectItem> selectList = new ArrayList<>();for (VerdictSQLParser.Select_list_elemContext a : ctx.select_list_elem()) {VerdictSQLBaseVisitor<SelectItem> v = new VerdictSQLBaseVisitor<SelectItem>() {@Overridepublic SelectItem visitSelect_list_elem(VerdictSQLParser.Select_list_elemContext ctx) {SelectItem elem = null;if (ctx.STAR() != null) {if (ctx.table_name() == null) {elem = new AsteriskColumn();} else {elem = new AsteriskColumn(stripQuote(ctx.table_name().getText()));}} else {ExpressionGen g = new ExpressionGen();if (g.visit(ctx.expression()) instanceof BaseColumn) {elem = g.visit(ctx.expression());if (ctx.column_alias() != null) {elem = new AliasedColumn((BaseColumn) elem, ctx.column_alias().getText());}} else if (g.visit(ctx.expression()) instanceof ColumnOp) {elem = g.visit(ctx.expression());if (ctx.column_alias() != null) {elem = new AliasedColumn((ColumnOp) elem, ctx.column_alias().getText());}} else if (g.visit(ctx.expression()) instanceof ConstantColumn) {elem = g.visit(ctx.expression());if (ctx.column_alias() != null) {elem = new AliasedColumn((ConstantColumn) elem, ctx.column_alias().getText());}}}return elem;}};SelectItem e = v.visit(a);selectList.add(e);}return selectList","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_RelationGen.java","fieldParents":[],"isDel":false,"lineBeg":94,"lineEnd":135,"lineMapIndex":102,"methodParents":[],"nodeIndex":248},{"cfgs":[],"code":"class GroupbyGen extends VerdictSQLBaseVisitor<GroupingAttribute> {//          MetaData meta;//          public GroupbyGen(MetaData meta) {this.meta = meta; }public GroupbyGen() {}@Overridepublic GroupingAttribute visitColumn_ref_expression(VerdictSQLParser.Column_ref_expressionContext ctx) {String[] t = ctx.getText().split(\"\\\\.\");if (t.length >= 2) {return new AliasReference(t[1]);} else {return new AliasReference(t[0])","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_RelationGen.java","fieldParents":[],"isDel":false,"lineBeg":168,"lineEnd":180,"lineMapIndex":103,"methodParents":[],"nodeIndex":249},{"cfgs":[251],"code":"private String stripQuote(String expr) ","dfgs":[251],"fName":"src_main_java_org_verdictdb_sqlreader_RelationGen.java","fieldParents":[],"isDel":false,"lineBeg":267,"lineEnd":267,"lineMapIndex":-1,"methodParents":[],"nodeIndex":250},{"cfgs":[],"code":"return expr.replace(\"\\\"\", \"\").replace(\"`\", \"\")","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_RelationGen.java","fieldParents":[],"isDel":false,"lineBeg":268,"lineEnd":268,"lineMapIndex":-1,"methodParents":[],"nodeIndex":251},{"cfgs":[],"code":"if (ctx.as_table_alias() != null)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_RelationGen.java","fieldParents":[],"isDel":false,"lineBeg":274,"lineEnd":274,"lineMapIndex":104,"methodParents":[],"nodeIndex":252},{"cfgs":[],"code":"if (ctx.table_name_with_hint().table_name().schema != null)","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_RelationGen.java","fieldParents":[],"isDel":false,"lineBeg":275,"lineEnd":275,"lineMapIndex":105,"methodParents":[],"nodeIndex":253},{"cfgs":[],"code":"r = new BaseTable(stripQuote(ctx.table_name_with_hint().table_name().schema.getText()),stripQuote(ctx.table_name_with_hint().table_name().table.getText()),stripQuote(ctx.as_table_alias().table_alias().getText()))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_RelationGen.java","fieldParents":[],"isDel":false,"lineBeg":276,"lineEnd":279,"lineMapIndex":106,"methodParents":[],"nodeIndex":254},{"cfgs":[],"code":"r = BaseTable.getBaseTableWithoutSchema(stripQuote(ctx.table_name_with_hint().table_name().table.getText()),stripQuote(ctx.as_table_alias().table_alias().getText()))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_RelationGen.java","fieldParents":[],"isDel":false,"lineBeg":282,"lineEnd":284,"lineMapIndex":107,"methodParents":[],"nodeIndex":255},{"cfgs":[],"code":"r = new BaseTable(stripQuote(ctx.table_name_with_hint().table_name().schema.getText()),stripQuote(ctx.table_name_with_hint().table_name().table.getText()))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_RelationGen.java","fieldParents":[],"isDel":false,"lineBeg":289,"lineEnd":291,"lineMapIndex":-1,"methodParents":[],"nodeIndex":256},{"cfgs":[],"code":"r = new BaseTable(stripQuote(ctx.table_name_with_hint().table_name().table.getText()))","dfgs":[],"fName":"src_main_java_org_verdictdb_sqlreader_RelationGen.java","fieldParents":[],"isDel":false,"lineBeg":294,"lineEnd":295,"lineMapIndex":108,"methodParents":[],"nodeIndex":257},{"cfgs":[],"code":"private java.sql.ResultSetMetaData jdbcResultSetMetaData1, jdbcResultSetMetaData2","dfgs":[],"fName":"src_test_java_org_verdictdb_jdbc41_JdbcResultSetMetaDataH2Test.java","fieldParents":[],"isDel":false,"lineBeg":30,"lineEnd":30,"lineMapIndex":-1,"methodParents":[],"nodeIndex":258},{"cfgs":[],"code":"final String DB_CONNECTION = \"jdbc:h2:mem:jdbcmetatest;DB_CLOSE_DELAY=-1\"","dfgs":[],"fName":"src_test_java_org_verdictdb_jdbc41_JdbcResultSetMetaDataH2Test.java","fieldParents":[],"isDel":false,"lineBeg":36,"lineEnd":36,"lineMapIndex":112,"methodParents":[],"nodeIndex":259},{"cfgs":[261],"code":"jdbcResultSetMetaData1 = new JdbcResultSet(queryResult).getMetaData()","dfgs":[],"fName":"src_test_java_org_verdictdb_jdbc41_JdbcResultSetMetaDataH2Test.java","fieldParents":[258],"isDel":false,"lineBeg":76,"lineEnd":76,"lineMapIndex":113,"methodParents":[],"nodeIndex":260},{"cfgs":[],"code":"jdbcResultSetMetaData2 = new JdbcResultSet(aggregateFrameQueryResult).getMetaData()","dfgs":[],"fName":"src_test_java_org_verdictdb_jdbc41_JdbcResultSetMetaDataH2Test.java","fieldParents":[258],"isDel":false,"lineBeg":78,"lineEnd":78,"lineMapIndex":114,"methodParents":[],"nodeIndex":261},{"cfgs":[],"code":"public void testQuotedAliasTable() throws SQLException ","dfgs":[],"fName":"src_test_java_org_verdictdb_jdbc41_JdbcResultSetMetaDataH2Test.java","fieldParents":[],"isDel":false,"lineBeg":83,"lineEnd":83,"lineMapIndex":-1,"methodParents":[],"nodeIndex":262},{"cfgs":[],"code":"stmt.execute(\"select name from people as \\\"PEOPLE\\\"\")","dfgs":[],"fName":"src_test_java_org_verdictdb_jdbc41_JdbcResultSetMetaDataH2Test.java","fieldParents":[],"isDel":false,"lineBeg":84,"lineEnd":84,"lineMapIndex":-1,"methodParents":[],"nodeIndex":263},{"cfgs":[],"code":"private ResultSetMetaData jdbcResultSetMetaData1, jdbcResultSetMetaData2","dfgs":[],"fName":"src_test_java_org_verdictdb_jdbc41_JdbcResultSetMetaDataPostgresTest.java","fieldParents":[],"isDel":false,"lineBeg":33,"lineEnd":33,"lineMapIndex":-1,"methodParents":[],"nodeIndex":264},{"cfgs":[266],"code":"jdbcResultSetMetaData1 = new JdbcResultSet(queryResult).getMetaData()","dfgs":[],"fName":"src_test_java_org_verdictdb_jdbc41_JdbcResultSetMetaDataPostgresTest.java","fieldParents":[264],"isDel":false,"lineBeg":96,"lineEnd":96,"lineMapIndex":116,"methodParents":[],"nodeIndex":265},{"cfgs":[],"code":"jdbcResultSetMetaData2 = new JdbcResultSet(aggregateFrameQueryResult).getMetaData()","dfgs":[],"fName":"src_test_java_org_verdictdb_jdbc41_JdbcResultSetMetaDataPostgresTest.java","fieldParents":[264],"isDel":false,"lineBeg":98,"lineEnd":98,"lineMapIndex":117,"methodParents":[],"nodeIndex":266},{"cfgs":[],"code":"public void quotedAliasTableTest() throws SQLException ","dfgs":[],"fName":"src_test_java_org_verdictdb_jdbc41_JdbcResultSetMetaDataPostgresTest.java","fieldParents":[],"isDel":false,"lineBeg":102,"lineEnd":102,"lineMapIndex":-1,"methodParents":[],"nodeIndex":267},{"cfgs":[],"code":"stmt.execute(\"select \\\"PEOPLE\\\".name from people as \\\"PEOPLE\\\"\")","dfgs":[],"fName":"src_test_java_org_verdictdb_jdbc41_JdbcResultSetMetaDataPostgresTest.java","fieldParents":[],"isDel":false,"lineBeg":103,"lineEnd":103,"lineMapIndex":-1,"methodParents":[],"nodeIndex":268},{"cfgs":[],"code":"final String DB_CONNECTION = \"jdbc:h2:mem:tokenquerytoasync;DB_CLOSE_DELAY=-1\"","dfgs":[],"fName":"src_test_java_org_verdictdb_core_querying_TokenQueueToAyncHandlerTest.java","fieldParents":[],"isDel":false,"lineBeg":34,"lineEnd":34,"lineMapIndex":119,"methodParents":[],"nodeIndex":269},{"cfgs":[],"code":"private ResultSetMetaData jdbcResultSetMetaData1","dfgs":[],"fName":"src_test_java_org_verdictdb_jdbc41_JdbcResultSetMetaDataMysqlTest.java","fieldParents":[],"isDel":false,"lineBeg":31,"lineEnd":31,"lineMapIndex":-1,"methodParents":[],"nodeIndex":270},{"cfgs":[],"code":"private ResultSetMetaData jdbcResultSetMetaData2","dfgs":[],"fName":"src_test_java_org_verdictdb_jdbc41_JdbcResultSetMetaDataMysqlTest.java","fieldParents":[],"isDel":false,"lineBeg":33,"lineEnd":33,"lineMapIndex":-1,"methodParents":[],"nodeIndex":271},{"cfgs":[273],"code":"jdbcResultSetMetaData1 = new JdbcResultSet(queryResult).getMetaData()","dfgs":[],"fName":"src_test_java_org_verdictdb_jdbc41_JdbcResultSetMetaDataMysqlTest.java","fieldParents":[270],"isDel":false,"lineBeg":96,"lineEnd":96,"lineMapIndex":121,"methodParents":[],"nodeIndex":272},{"cfgs":[],"code":"jdbcResultSetMetaData2 = new JdbcResultSet(aggregateFrameQueryResult).getMetaData()","dfgs":[],"fName":"src_test_java_org_verdictdb_jdbc41_JdbcResultSetMetaDataMysqlTest.java","fieldParents":[271],"isDel":false,"lineBeg":98,"lineEnd":98,"lineMapIndex":122,"methodParents":[],"nodeIndex":273},{"cfgs":[],"code":"public void quotedAliasTableTest() throws SQLException ","dfgs":[],"fName":"src_test_java_org_verdictdb_jdbc41_JdbcResultSetMetaDataMysqlTest.java","fieldParents":[],"isDel":false,"lineBeg":102,"lineEnd":102,"lineMapIndex":-1,"methodParents":[],"nodeIndex":274},{"cfgs":[],"code":"stmt.execute(\"select name from people as \\\"PEOPLE\\\"\")","dfgs":[],"fName":"src_test_java_org_verdictdb_jdbc41_JdbcResultSetMetaDataMysqlTest.java","fieldParents":[],"isDel":false,"lineBeg":103,"lineEnd":103,"lineMapIndex":-1,"methodParents":[],"nodeIndex":275},{"cfgs":[],"code":"import org.verdictdb.core.connection.DbmsQueryResultMetaData","dfgs":[],"fName":"src_main_java_org_verdictdb_core_aggresult_AggregateFrameQueryResult.java","fieldParents":[],"isDel":false,"lineBeg":9,"lineEnd":9,"lineMapIndex":123,"methodParents":[],"nodeIndex":276},{"cfgs":[],"code":"public int getTileCount()","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_ScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":7,"lineEnd":7,"lineMapIndex":125,"methodParents":[],"nodeIndex":277},{"cfgs":[],"code":"public List<Double> getCumulativeSizes(int tile, int length)","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_ScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":24,"lineEnd":24,"lineMapIndex":126,"methodParents":[],"nodeIndex":278},{"cfgs":[],"code":"import org.verdictdb.core.connection.DbmsQueryResultMetaData","dfgs":[],"fName":"src_main_java_org_verdictdb_core_aggresult_AggregateFrame.java","fieldParents":[],"isDel":false,"lineBeg":14,"lineEnd":14,"lineMapIndex":127,"methodParents":[],"nodeIndex":279},{"cfgs":[],"code":"public void testQuotedQuery() throws VerdictDBException ","dfgs":[],"fName":"src_test_java_org_verdictdb_core_sqlreader_SqlToRelationTest.java","fieldParents":[],"isDel":false,"lineBeg":35,"lineEnd":35,"lineMapIndex":-1,"methodParents":[],"nodeIndex":280},{"cfgs":[282],"code":"String actual = \"select \\\"t\\\".* from \\\"myschema\\\".\\\"mytable\\\" as \\\"t\\\"\"","dfgs":[284],"fName":"src_test_java_org_verdictdb_core_sqlreader_SqlToRelationTest.java","fieldParents":[],"isDel":false,"lineBeg":36,"lineEnd":36,"lineMapIndex":-1,"methodParents":[],"nodeIndex":281},{"cfgs":[283],"code":"NonValidatingSQLParser sqlToRelation = new NonValidatingSQLParser()","dfgs":[284],"fName":"src_test_java_org_verdictdb_core_sqlreader_SqlToRelationTest.java","fieldParents":[],"isDel":false,"lineBeg":37,"lineEnd":37,"lineMapIndex":-1,"methodParents":[],"nodeIndex":282},{"cfgs":[284],"code":"SelectQuery expected = SelectQuery.create(Arrays.<SelectItem>asList(new AsteriskColumn(\"t\")), Arrays.<AbstractRelation>asList(new BaseTable(\"myschema\", \"mytable\", \"t\")))","dfgs":[285],"fName":"src_test_java_org_verdictdb_core_sqlreader_SqlToRelationTest.java","fieldParents":[],"isDel":false,"lineBeg":38,"lineEnd":40,"lineMapIndex":-1,"methodParents":[],"nodeIndex":283},{"cfgs":[285],"code":"AbstractRelation sel = sqlToRelation.toRelation(actual)","dfgs":[285],"fName":"src_test_java_org_verdictdb_core_sqlreader_SqlToRelationTest.java","fieldParents":[],"isDel":false,"lineBeg":41,"lineEnd":41,"lineMapIndex":-1,"methodParents":[],"nodeIndex":284},{"cfgs":[],"code":"assertEquals(expected, sel)","dfgs":[],"fName":"src_test_java_org_verdictdb_core_sqlreader_SqlToRelationTest.java","fieldParents":[],"isDel":false,"lineBeg":42,"lineEnd":42,"lineMapIndex":-1,"methodParents":[],"nodeIndex":285},{"cfgs":[],"code":"public void testQuotedQuery2() throws VerdictDBException ","dfgs":[],"fName":"src_test_java_org_verdictdb_core_sqlreader_SqlToRelationTest.java","fieldParents":[],"isDel":false,"lineBeg":46,"lineEnd":46,"lineMapIndex":-1,"methodParents":[],"nodeIndex":286},{"cfgs":[288],"code":"String actual = \"select \\\"t\\\".*, \\\"a.b\\\".\\\"AbC\\\" \"+ \"from \\\"myschema\\\".\\\"mytable\\\" as \\\"t\\\", \\\"Mytable\\\" \\\"s.S\\\"\"","dfgs":[290],"fName":"src_test_java_org_verdictdb_core_sqlreader_SqlToRelationTest.java","fieldParents":[],"isDel":false,"lineBeg":47,"lineEnd":48,"lineMapIndex":-1,"methodParents":[],"nodeIndex":287},{"cfgs":[289],"code":"NonValidatingSQLParser sqlToRelation = new NonValidatingSQLParser()","dfgs":[290],"fName":"src_test_java_org_verdictdb_core_sqlreader_SqlToRelationTest.java","fieldParents":[],"isDel":false,"lineBeg":49,"lineEnd":49,"lineMapIndex":-1,"methodParents":[],"nodeIndex":288},{"cfgs":[290],"code":"SelectQuery expected = SelectQuery.create(Arrays.<SelectItem>asList(new AsteriskColumn(\"t\"),new BaseColumn(\"a.b\", \"AbC\")),Arrays.<AbstractRelation>asList(new BaseTable(\"myschema\", \"mytable\", \"t\"),BaseTable.getBaseTableWithoutSchema(\"Mytable\", \"s.S\")))","dfgs":[291],"fName":"src_test_java_org_verdictdb_core_sqlreader_SqlToRelationTest.java","fieldParents":[],"isDel":false,"lineBeg":50,"lineEnd":56,"lineMapIndex":-1,"methodParents":[],"nodeIndex":289},{"cfgs":[291],"code":"AbstractRelation sel = sqlToRelation.toRelation(actual)","dfgs":[291],"fName":"src_test_java_org_verdictdb_core_sqlreader_SqlToRelationTest.java","fieldParents":[],"isDel":false,"lineBeg":57,"lineEnd":57,"lineMapIndex":-1,"methodParents":[],"nodeIndex":290},{"cfgs":[],"code":"assertEquals(expected, sel)","dfgs":[],"fName":"src_test_java_org_verdictdb_core_sqlreader_SqlToRelationTest.java","fieldParents":[],"isDel":false,"lineBeg":58,"lineEnd":58,"lineMapIndex":-1,"methodParents":[],"nodeIndex":291},{"cfgs":[],"code":"File schemaFile = new File(\"src/test/resources/tpch-schema-data.sql\")","dfgs":[],"fName":"src_test_java_org_verdictdb_core_sqlreader_HiveTpchSelectQueryToSqlTest.java","fieldParents":[],"isDel":false,"lineBeg":47,"lineEnd":47,"lineMapIndex":128,"methodParents":[],"nodeIndex":292}]