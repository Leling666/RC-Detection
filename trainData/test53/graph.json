[{"cfgs":[],"code":"import org.apache.ambari.server.events.AmbariLdapConfigChangedEvent","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":24,"lineEnd":24,"lineMapIndex":363,"methodParents":[],"nodeIndex":0},{"cfgs":[],"code":"import org.apache.ambari.server.orm.entities.ConfigurationBaseEntity","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":28,"lineEnd":28,"lineMapIndex":364,"methodParents":[],"nodeIndex":1},{"cfgs":[],"code":"import org.easymock.EasyMock","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":30,"lineEnd":30,"lineMapIndex":355,"methodParents":[],"nodeIndex":2},{"cfgs":[],"code":"import org.easymock.EasyMockRule","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":31,"lineEnd":31,"lineMapIndex":-1,"methodParents":[],"nodeIndex":3},{"cfgs":[],"code":"import org.easymock.Mock","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":33,"lineEnd":33,"lineMapIndex":-1,"methodParents":[],"nodeIndex":4},{"cfgs":[],"code":"import org.easymock.TestSubject","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":34,"lineEnd":34,"lineMapIndex":-1,"methodParents":[],"nodeIndex":5},{"cfgs":[],"code":"import org.junit.Assert","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":35,"lineEnd":35,"lineMapIndex":-1,"methodParents":[],"nodeIndex":6},{"cfgs":[],"code":"import org.junit.Before","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":36,"lineEnd":36,"lineMapIndex":-1,"methodParents":[],"nodeIndex":7},{"cfgs":[],"code":"import org.junit.Rule","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":37,"lineEnd":37,"lineMapIndex":366,"methodParents":[],"nodeIndex":8},{"cfgs":[],"code":"import com.google.common.collect.Lists","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":40,"lineEnd":40,"lineMapIndex":-1,"methodParents":[],"nodeIndex":9},{"cfgs":[],"code":"import com.google.common.collect.Maps","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":41,"lineEnd":41,"lineMapIndex":-1,"methodParents":[],"nodeIndex":10},{"cfgs":[],"code":"import com.google.common.collect.Sets","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":42,"lineEnd":42,"lineMapIndex":371,"methodParents":[],"nodeIndex":11},{"cfgs":[],"code":"import com.google.gson.Gson","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":43,"lineEnd":43,"lineMapIndex":369,"methodParents":[],"nodeIndex":12},{"cfgs":[],"code":"import com.google.gson.GsonBuilder","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":44,"lineEnd":44,"lineMapIndex":370,"methodParents":[],"nodeIndex":13},{"cfgs":[26],"code":"public EasyMockRule mocks = new EasyMockRule(this)","dfgs":[26],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":49,"lineEnd":49,"lineMapIndex":-1,"methodParents":[],"nodeIndex":14},{"cfgs":[],"code":"private Request requestMock","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":52,"lineEnd":52,"lineMapIndex":-1,"methodParents":[],"nodeIndex":15},{"cfgs":[],"code":"private AmbariConfigurationDAO ambariConfigurationDAO","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":55,"lineEnd":55,"lineMapIndex":-1,"methodParents":[],"nodeIndex":16},{"cfgs":[],"code":"private AmbariEventPublisher publisher","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":58,"lineEnd":58,"lineMapIndex":-1,"methodParents":[],"nodeIndex":17},{"cfgs":[],"code":"private Capture<AmbariConfigurationEntity> ambariConfigurationEntityCapture","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":60,"lineEnd":60,"lineMapIndex":-1,"methodParents":[],"nodeIndex":18},{"cfgs":[],"code":"private Gson gson","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":62,"lineEnd":62,"lineMapIndex":-1,"methodParents":[],"nodeIndex":19},{"cfgs":[21],"code":"private static final String DATA_MOCK_STR = \"[\\n\" +\"      {\\n\" +\"        \\\"authentication.ldap.baseDn\\\" : \\\"dc=ambari,dc=apache,dc=org\\\",\\n\" +\"        \\\"authentication.ldap.primaryUrl\\\" : \\\"localhost:33389\\\",\\n\" +\"        \\\"authentication.ldap.secondaryUrl\\\" : \\\"localhost:333\\\"\\n\" +\"      }\\n\" +\"    ]\"","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":64,"lineEnd":70,"lineMapIndex":-1,"methodParents":[],"nodeIndex":20},{"cfgs":[22],"code":"private static final Long PK_LONG = Long.valueOf(1)","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":72,"lineEnd":72,"lineMapIndex":-1,"methodParents":[],"nodeIndex":21},{"cfgs":[23],"code":"private static final String PK_STRING = String.valueOf(1)","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":73,"lineEnd":73,"lineMapIndex":-1,"methodParents":[],"nodeIndex":22},{"cfgs":[24],"code":"private static final String VERSION_TAG = \"test version\"","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":74,"lineEnd":74,"lineMapIndex":-1,"methodParents":[],"nodeIndex":23},{"cfgs":[25],"code":"private static final String VERSION = \"1\"","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":75,"lineEnd":75,"lineMapIndex":-1,"methodParents":[],"nodeIndex":24},{"cfgs":[],"code":"private static final String TYPE = \"AmbariConfiguration\"","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":76,"lineEnd":76,"lineMapIndex":-1,"methodParents":[],"nodeIndex":25},{"cfgs":[],"code":"private AmbariConfigurationResourceProvider ambariConfigurationResourceProvider = new AmbariConfigurationResourceProvider()","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":79,"lineEnd":79,"lineMapIndex":-1,"methodParents":[157],"nodeIndex":26},{"cfgs":[],"code":"public void setup() ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":82,"lineEnd":82,"lineMapIndex":-1,"methodParents":[],"nodeIndex":27},{"cfgs":[29],"code":"ambariConfigurationEntityCapture = Capture.newInstance()","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[18],"isDel":true,"lineBeg":83,"lineEnd":83,"lineMapIndex":-1,"methodParents":[],"nodeIndex":28},{"cfgs":[],"code":"gson = new GsonBuilder().create()","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[19],"isDel":true,"lineBeg":84,"lineEnd":84,"lineMapIndex":-1,"methodParents":[],"nodeIndex":29},{"cfgs":[],"code":"public void testCreateAmbariConfigurationRequestResultsInTheProperPersistenceCall() throws Exception ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":88,"lineEnd":88,"lineMapIndex":-1,"methodParents":[],"nodeIndex":30},{"cfgs":[32],"code":"Set<Map<String, Object>> resourcePropertiesSet = Sets.newHashSet(new PropertiesMapBuilder().withId(PK_LONG).withVersion(VERSION).withVersionTag(VERSION_TAG).withData(DATA_MOCK_STR).withType(TYPE).build())","dfgs":[32,40,41,39],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[20],"isDel":true,"lineBeg":92,"lineEnd":99,"lineMapIndex":-1,"methodParents":[],"nodeIndex":31},{"cfgs":[33],"code":"EasyMock.expect(requestMock.getProperties()).andReturn(resourcePropertiesSet)","dfgs":[35,36,41,33],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[15],"isDel":true,"lineBeg":102,"lineEnd":102,"lineMapIndex":-1,"methodParents":[],"nodeIndex":32},{"cfgs":[34],"code":"ambariConfigurationDAO.create(EasyMock.capture(ambariConfigurationEntityCapture))","dfgs":[35,36,41,34],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[16],"isDel":true,"lineBeg":105,"lineEnd":105,"lineMapIndex":-1,"methodParents":[285],"nodeIndex":33},{"cfgs":[35],"code":"publisher.publish(EasyMock.anyObject(AmbariLdapConfigChangedEvent.class))","dfgs":[35,36,41],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[17],"isDel":true,"lineBeg":106,"lineEnd":106,"lineMapIndex":-1,"methodParents":[],"nodeIndex":34},{"cfgs":[36],"code":"ambariConfigurationResourceProvider.createResourcesAuthorized(requestMock)","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[15],"isDel":true,"lineBeg":111,"lineEnd":111,"lineMapIndex":-1,"methodParents":[162],"nodeIndex":35},{"cfgs":[37],"code":"AmbariConfigurationEntity capturedAmbariConfigurationEntity = ambariConfigurationEntityCapture.getValue()","dfgs":[37],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[18],"isDel":true,"lineBeg":114,"lineEnd":114,"lineMapIndex":-1,"methodParents":[],"nodeIndex":36},{"cfgs":[38],"code":"Assert.assertNotNull(capturedAmbariConfigurationEntity)","dfgs":[38],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":115,"lineEnd":115,"lineMapIndex":-1,"methodParents":[],"nodeIndex":37},{"cfgs":[39],"code":"Assert.assertNull(\"The entity identifier should be null\", capturedAmbariConfigurationEntity.getId())","dfgs":[39],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":116,"lineEnd":116,"lineMapIndex":-1,"methodParents":[267],"nodeIndex":38},{"cfgs":[40],"code":"Assert.assertEquals(\"The entity version is not the expected\", Integer.valueOf(VERSION),capturedAmbariConfigurationEntity.getConfigurationBaseEntity().getVersion())","dfgs":[40],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[24],"isDel":true,"lineBeg":117,"lineEnd":118,"lineMapIndex":-1,"methodParents":[],"nodeIndex":39},{"cfgs":[41],"code":"Assert.assertEquals(\"The entity version tag is not the expected\", VERSION_TAG,capturedAmbariConfigurationEntity.getConfigurationBaseEntity().getVersionTag())","dfgs":[41],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[23],"isDel":true,"lineBeg":119,"lineEnd":120,"lineMapIndex":-1,"methodParents":[],"nodeIndex":40},{"cfgs":[],"code":"Assert.assertEquals(\"The entity data is not the expected\", DATA_MOCK_STR,gson.fromJson(capturedAmbariConfigurationEntity.getConfigurationBaseEntity().getConfigurationData(), String.class))","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[19],"isDel":true,"lineBeg":121,"lineEnd":122,"lineMapIndex":-1,"methodParents":[],"nodeIndex":41},{"cfgs":[],"code":"public void testRemoveAmbariConfigurationRequestResultsInTheProperPersistenceCall() throws Exception ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":126,"lineEnd":126,"lineMapIndex":-1,"methodParents":[],"nodeIndex":42},{"cfgs":[44],"code":"Predicate predicate = new PredicateBuilder().property(AmbariConfigurationResourceProvider.ResourcePropertyId.ID.getPropertyId()).equals(\"1\").toPredicate()","dfgs":[48],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":128,"lineEnd":129,"lineMapIndex":-1,"methodParents":[344],"nodeIndex":43},{"cfgs":[45],"code":"Capture<Long> pkCapture = Capture.newInstance()","dfgs":[45],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":131,"lineEnd":131,"lineMapIndex":-1,"methodParents":[],"nodeIndex":44},{"cfgs":[46],"code":"ambariConfigurationDAO.removeByPK(EasyMock.capture(pkCapture))","dfgs":[47,46,49],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[16],"isDel":true,"lineBeg":132,"lineEnd":132,"lineMapIndex":-1,"methodParents":[],"nodeIndex":45},{"cfgs":[47],"code":"publisher.publish(EasyMock.anyObject(AmbariLdapConfigChangedEvent.class))","dfgs":[47],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[17],"isDel":true,"lineBeg":133,"lineEnd":133,"lineMapIndex":-1,"methodParents":[],"nodeIndex":46},{"cfgs":[48],"code":"replayAll()","dfgs":[48],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":135,"lineEnd":135,"lineMapIndex":498,"methodParents":[],"nodeIndex":47},{"cfgs":[49],"code":"ambariConfigurationResourceProvider.deleteResourcesAuthorized(requestMock, predicate)","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[15],"isDel":true,"lineBeg":138,"lineEnd":138,"lineMapIndex":-1,"methodParents":[185],"nodeIndex":48},{"cfgs":[],"code":"Assert.assertEquals(\"The pk of the entity to be removed doen't match the expected id\", Long.valueOf(1), pkCapture.getValue())","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":141,"lineEnd":141,"lineMapIndex":-1,"methodParents":[],"nodeIndex":49},{"cfgs":[],"code":"public void testRetrieveAmbariConfigurationShouldResultsInTheProperDAOCall() throws Exception ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":146,"lineEnd":146,"lineMapIndex":-1,"methodParents":[],"nodeIndex":50},{"cfgs":[52],"code":"Predicate predicate = new PredicateBuilder().property(AmbariConfigurationResourceProvider.ResourcePropertyId.ID.getPropertyId()).equals(\"1\").toPredicate()","dfgs":[53],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":148,"lineEnd":149,"lineMapIndex":-1,"methodParents":[344],"nodeIndex":51},{"cfgs":[53],"code":"EasyMock.expect(ambariConfigurationDAO.findAll()).andReturn(Lists.newArrayList(createDummyAmbariConfigurationEntity()))","dfgs":[53],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[16],"isDel":true,"lineBeg":151,"lineEnd":151,"lineMapIndex":-1,"methodParents":[88],"nodeIndex":52},{"cfgs":[54],"code":"Set<Resource> resourceSet = ambariConfigurationResourceProvider.getResourcesAuthorized(requestMock, predicate)","dfgs":[54],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[15],"isDel":true,"lineBeg":155,"lineEnd":155,"lineMapIndex":-1,"methodParents":[176],"nodeIndex":53},{"cfgs":[55],"code":"Assert.assertNotNull(resourceSet)","dfgs":[55],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":158,"lineEnd":158,"lineMapIndex":-1,"methodParents":[],"nodeIndex":54},{"cfgs":[],"code":"Assert.assertFalse(resourceSet.isEmpty())","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":159,"lineEnd":159,"lineMapIndex":-1,"methodParents":[],"nodeIndex":55},{"cfgs":[],"code":"public void testUpdateAmbariConfigurationShouldResultInTheProperDAOCalls() throws Exception ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":163,"lineEnd":163,"lineMapIndex":-1,"methodParents":[],"nodeIndex":56},{"cfgs":[58],"code":"Predicate predicate = new PredicateBuilder().property(AmbariConfigurationResourceProvider.ResourcePropertyId.ID.getPropertyId()).equals(\"1\").toPredicate()","dfgs":[64],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":166,"lineEnd":167,"lineMapIndex":-1,"methodParents":[344],"nodeIndex":57},{"cfgs":[59],"code":"Set<Map<String, Object>> resourcePropertiesSet = Sets.newHashSet(new PropertiesMapBuilder().withId(PK_LONG).withVersion(\"2\").withVersionTag(\"version-2\").withData(DATA_MOCK_STR).withType(TYPE).build())","dfgs":[59,61],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[20],"isDel":true,"lineBeg":170,"lineEnd":176,"lineMapIndex":-1,"methodParents":[86],"nodeIndex":58},{"cfgs":[60],"code":"EasyMock.expect(requestMock.getProperties()).andReturn(resourcePropertiesSet)","dfgs":[60,61],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[15],"isDel":true,"lineBeg":178,"lineEnd":178,"lineMapIndex":-1,"methodParents":[],"nodeIndex":59},{"cfgs":[61],"code":"AmbariConfigurationEntity persistedEntity = createDummyAmbariConfigurationEntity()","dfgs":[61,62,63,64,65],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":180,"lineEnd":180,"lineMapIndex":-1,"methodParents":[88],"nodeIndex":60},{"cfgs":[62],"code":"EasyMock.expect(ambariConfigurationDAO.findByPK(PK_LONG)).andReturn(persistedEntity)","dfgs":[62],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[16],"isDel":true,"lineBeg":181,"lineEnd":181,"lineMapIndex":-1,"methodParents":[],"nodeIndex":61},{"cfgs":[63],"code":"ambariConfigurationDAO.update(EasyMock.capture(ambariConfigurationEntityCapture))","dfgs":[64,65,63],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[16],"isDel":true,"lineBeg":182,"lineEnd":182,"lineMapIndex":-1,"methodParents":[290],"nodeIndex":62},{"cfgs":[64],"code":"publisher.publish(EasyMock.anyObject(AmbariLdapConfigChangedEvent.class))","dfgs":[64,65],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[17],"isDel":true,"lineBeg":183,"lineEnd":183,"lineMapIndex":-1,"methodParents":[],"nodeIndex":63},{"cfgs":[65],"code":"ambariConfigurationResourceProvider.updateResourcesAuthorized(requestMock, predicate)","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[15],"isDel":true,"lineBeg":188,"lineEnd":188,"lineMapIndex":-1,"methodParents":[191],"nodeIndex":64},{"cfgs":[66],"code":"AmbariConfigurationEntity updatedEntity = ambariConfigurationEntityCapture.getValue()","dfgs":[66],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[18],"isDel":true,"lineBeg":191,"lineEnd":191,"lineMapIndex":-1,"methodParents":[],"nodeIndex":65},{"cfgs":[67],"code":"Assert.assertNotNull(updatedEntity)","dfgs":[67],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":194,"lineEnd":194,"lineMapIndex":-1,"methodParents":[],"nodeIndex":66},{"cfgs":[],"code":"Assert.assertEquals(\"The updated version is wrong\", Integer.valueOf(2), updatedEntity.getConfigurationBaseEntity().getVersion())","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":195,"lineEnd":195,"lineMapIndex":-1,"methodParents":[308],"nodeIndex":67},{"cfgs":[],"code":"private class PropertiesMapBuilder ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":198,"lineEnd":198,"lineMapIndex":-1,"methodParents":[],"nodeIndex":68},{"cfgs":[],"code":"private Map<String, Object> resourcePropertiesMap = Maps.newHashMap()","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":200,"lineEnd":200,"lineMapIndex":-1,"methodParents":[],"nodeIndex":69},{"cfgs":[],"code":"private PropertiesMapBuilder() ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":202,"lineEnd":202,"lineMapIndex":-1,"methodParents":[],"nodeIndex":70},{"cfgs":[72],"code":"public PropertiesMapBuilder withId(Long id) ","dfgs":[73,72],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":205,"lineEnd":205,"lineMapIndex":-1,"methodParents":[],"nodeIndex":71},{"cfgs":[73],"code":"resourcePropertiesMap.put(AmbariConfigurationResourceProvider.ResourcePropertyId.ID.getPropertyId(), id)","dfgs":[73],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[69],"isDel":true,"lineBeg":206,"lineEnd":206,"lineMapIndex":-1,"methodParents":[143],"nodeIndex":72},{"cfgs":[],"code":"return this","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":207,"lineEnd":207,"lineMapIndex":-1,"methodParents":[],"nodeIndex":73},{"cfgs":[75],"code":"private PropertiesMapBuilder withVersion(String version) ","dfgs":[76,75],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":210,"lineEnd":210,"lineMapIndex":-1,"methodParents":[],"nodeIndex":74},{"cfgs":[76],"code":"resourcePropertiesMap.put(AmbariConfigurationResourceProvider.ResourcePropertyId.VERSION.getPropertyId(), version)","dfgs":[76],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[24],"isDel":true,"lineBeg":211,"lineEnd":211,"lineMapIndex":-1,"methodParents":[143],"nodeIndex":75},{"cfgs":[],"code":"return this","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":212,"lineEnd":212,"lineMapIndex":-1,"methodParents":[],"nodeIndex":76},{"cfgs":[78],"code":"private PropertiesMapBuilder withVersionTag(String versionTag) ","dfgs":[79,78],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":215,"lineEnd":215,"lineMapIndex":-1,"methodParents":[],"nodeIndex":77},{"cfgs":[79],"code":"resourcePropertiesMap.put(AmbariConfigurationResourceProvider.ResourcePropertyId.VERSION_TAG.getPropertyId(), versionTag)","dfgs":[79],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[23],"isDel":true,"lineBeg":216,"lineEnd":216,"lineMapIndex":-1,"methodParents":[143],"nodeIndex":78},{"cfgs":[],"code":"return this","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":217,"lineEnd":217,"lineMapIndex":-1,"methodParents":[],"nodeIndex":79},{"cfgs":[81],"code":"private PropertiesMapBuilder withData(String dataJson) ","dfgs":[82,81],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":220,"lineEnd":220,"lineMapIndex":-1,"methodParents":[],"nodeIndex":80},{"cfgs":[82],"code":"resourcePropertiesMap.put(AmbariConfigurationResourceProvider.ResourcePropertyId.DATA.getPropertyId(), dataJson)","dfgs":[82],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[69],"isDel":true,"lineBeg":221,"lineEnd":221,"lineMapIndex":-1,"methodParents":[143],"nodeIndex":81},{"cfgs":[],"code":"return this","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":222,"lineEnd":222,"lineMapIndex":-1,"methodParents":[],"nodeIndex":82},{"cfgs":[84],"code":"private PropertiesMapBuilder withType(String type) ","dfgs":[85,84],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":225,"lineEnd":225,"lineMapIndex":-1,"methodParents":[],"nodeIndex":83},{"cfgs":[85],"code":"resourcePropertiesMap.put(AmbariConfigurationResourceProvider.ResourcePropertyId.TYPE.getPropertyId(), type)","dfgs":[85],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[25],"isDel":true,"lineBeg":226,"lineEnd":226,"lineMapIndex":-1,"methodParents":[143],"nodeIndex":84},{"cfgs":[],"code":"return this","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":227,"lineEnd":227,"lineMapIndex":-1,"methodParents":[],"nodeIndex":85},{"cfgs":[87],"code":"public Map<String, Object> build() ","dfgs":[87],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":231,"lineEnd":231,"lineMapIndex":-1,"methodParents":[],"nodeIndex":86},{"cfgs":[],"code":"return this.resourcePropertiesMap","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[69],"isDel":true,"lineBeg":232,"lineEnd":232,"lineMapIndex":-1,"methodParents":[],"nodeIndex":87},{"cfgs":[89],"code":"private AmbariConfigurationEntity createDummyAmbariConfigurationEntity() ","dfgs":[89,90,91,92,96,97,93,94,95],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":237,"lineEnd":237,"lineMapIndex":-1,"methodParents":[],"nodeIndex":88},{"cfgs":[90],"code":"AmbariConfigurationEntity acEntity = new AmbariConfigurationEntity()","dfgs":[91],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":238,"lineEnd":238,"lineMapIndex":506,"methodParents":[],"nodeIndex":89},{"cfgs":[91],"code":"ConfigurationBaseEntity configurationBaseEntity = new ConfigurationBaseEntity()","dfgs":[91],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":239,"lineEnd":239,"lineMapIndex":-1,"methodParents":[],"nodeIndex":90},{"cfgs":[92],"code":"acEntity.setConfigurationBaseEntity(configurationBaseEntity)","dfgs":[92],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":240,"lineEnd":240,"lineMapIndex":-1,"methodParents":[273],"nodeIndex":91},{"cfgs":[93],"code":"acEntity.setId(PK_LONG)","dfgs":[93],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[21],"isDel":true,"lineBeg":241,"lineEnd":241,"lineMapIndex":-1,"methodParents":[269],"nodeIndex":92},{"cfgs":[94],"code":"acEntity.getConfigurationBaseEntity().setConfigurationData(DATA_MOCK_STR)","dfgs":[94],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[20],"isDel":true,"lineBeg":242,"lineEnd":242,"lineMapIndex":-1,"methodParents":[271],"nodeIndex":93},{"cfgs":[95],"code":"acEntity.getConfigurationBaseEntity().setVersion(Integer.valueOf(VERSION))","dfgs":[95],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[24],"isDel":true,"lineBeg":243,"lineEnd":243,"lineMapIndex":-1,"methodParents":[336],"nodeIndex":94},{"cfgs":[96],"code":"acEntity.getConfigurationBaseEntity().setVersionTag(VERSION_TAG)","dfgs":[96],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[23],"isDel":true,"lineBeg":244,"lineEnd":244,"lineMapIndex":-1,"methodParents":[332],"nodeIndex":95},{"cfgs":[97],"code":"acEntity.getConfigurationBaseEntity().setType(\"ldap-config\")","dfgs":[97],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":245,"lineEnd":245,"lineMapIndex":-1,"methodParents":[271],"nodeIndex":96},{"cfgs":[],"code":"return acEntity","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":true,"lineBeg":247,"lineEnd":247,"lineMapIndex":-1,"methodParents":[],"nodeIndex":97},{"cfgs":[],"code":"import java.util.Set","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":true,"lineBeg":18,"lineEnd":18,"lineMapIndex":531,"methodParents":[],"nodeIndex":98},{"cfgs":[],"code":"import javax.inject.Inject","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":true,"lineBeg":20,"lineEnd":20,"lineMapIndex":-1,"methodParents":[],"nodeIndex":99},{"cfgs":[],"code":"import javax.inject.Provider","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":true,"lineBeg":21,"lineEnd":21,"lineMapIndex":-1,"methodParents":[],"nodeIndex":100},{"cfgs":[],"code":"import javax.inject.Singleton","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":true,"lineBeg":22,"lineEnd":22,"lineMapIndex":-1,"methodParents":[],"nodeIndex":101},{"cfgs":[],"code":"import org.apache.ambari.server.events.AmbariLdapConfigChangedEvent","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":true,"lineBeg":24,"lineEnd":24,"lineMapIndex":532,"methodParents":[],"nodeIndex":102},{"cfgs":[],"code":"import com.google.gson.Gson","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":true,"lineBeg":35,"lineEnd":35,"lineMapIndex":534,"methodParents":[],"nodeIndex":103},{"cfgs":[],"code":"import com.google.gson.GsonBuilder","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":true,"lineBeg":36,"lineEnd":36,"lineMapIndex":535,"methodParents":[],"nodeIndex":104},{"cfgs":[],"code":"private Gson gson = new GsonBuilder().create()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":true,"lineBeg":63,"lineEnd":63,"lineMapIndex":-1,"methodParents":[],"nodeIndex":105},{"cfgs":[],"code":"return instance != null ? instance : loadInstance(null)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":true,"lineBeg":76,"lineEnd":76,"lineMapIndex":536,"methodParents":[107],"nodeIndex":106},{"cfgs":[108],"code":"private AmbariLdapConfiguration loadInstance(Long configurationId) ","dfgs":[108,119,110,113,118,109,115,116,117,111,114],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":true,"lineBeg":85,"lineEnd":85,"lineMapIndex":-1,"methodParents":[],"nodeIndex":107},{"cfgs":[109],"code":"AmbariConfigurationEntity configEntity = null","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":true,"lineBeg":86,"lineEnd":86,"lineMapIndex":538,"methodParents":[],"nodeIndex":108},{"cfgs":[110,112],"code":"if (null == configurationId)","dfgs":[113],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":true,"lineBeg":89,"lineEnd":89,"lineMapIndex":-1,"methodParents":[],"nodeIndex":109},{"cfgs":[111],"code":"LOGGER.debug(\"Initial loading of the ldap configuration ...\")","dfgs":[118],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":true,"lineBeg":91,"lineEnd":91,"lineMapIndex":-1,"methodParents":[],"nodeIndex":110},{"cfgs":[115],"code":"configEntity = ambariConfigurationDAOProvider.get().getLdapConfiguration()","dfgs":[115],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":true,"lineBeg":92,"lineEnd":92,"lineMapIndex":-1,"methodParents":[297],"nodeIndex":111},{"cfgs":[113],"code":"else","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":true,"lineBeg":94,"lineEnd":94,"lineMapIndex":-1,"methodParents":[],"nodeIndex":112},{"cfgs":[114],"code":"LOGGER.debug(\"Reloading configuration based on the provied id: {}\", configurationId)","dfgs":[118,114],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":true,"lineBeg":96,"lineEnd":96,"lineMapIndex":541,"methodParents":[],"nodeIndex":113},{"cfgs":[115],"code":"configEntity = ambariConfigurationDAOProvider.get().findByPK(configurationId)","dfgs":[115],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":true,"lineBeg":97,"lineEnd":97,"lineMapIndex":539,"methodParents":[106],"nodeIndex":114},{"cfgs":[116,118],"code":"if (configEntity != null)","dfgs":[116],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":true,"lineBeg":101,"lineEnd":101,"lineMapIndex":-1,"methodParents":[],"nodeIndex":115},{"cfgs":[117],"code":"Set propertyMaps = gson.fromJson(configEntity.getConfigurationBaseEntity().getConfigurationData(), Set.class)","dfgs":[117],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[105],"isDel":true,"lineBeg":102,"lineEnd":102,"lineMapIndex":-1,"methodParents":[271],"nodeIndex":116},{"cfgs":[118],"code":"instance = ldapConfigurationFactory.createLdapConfiguration((Map<String, Object>) propertyMaps.iterator().next())","dfgs":[118],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":true,"lineBeg":103,"lineEnd":103,"lineMapIndex":-1,"methodParents":[],"nodeIndex":117},{"cfgs":[119],"code":"LOGGER.info(\"Loaded LDAP configuration instance: [ {} ]\", instance)","dfgs":[119],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":true,"lineBeg":106,"lineEnd":106,"lineMapIndex":543,"methodParents":[],"nodeIndex":118},{"cfgs":[],"code":"return instance","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":true,"lineBeg":108,"lineEnd":108,"lineMapIndex":544,"methodParents":[],"nodeIndex":119},{"cfgs":[],"code":"public void ambariLdapConfigChanged(AmbariLdapConfigChangedEvent event) ","dfgs":[122,121],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":true,"lineBeg":113,"lineEnd":113,"lineMapIndex":-1,"methodParents":[],"nodeIndex":120},{"cfgs":[122],"code":"loadInstance(event.getConfigurationId())","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":true,"lineBeg":115,"lineEnd":115,"lineMapIndex":551,"methodParents":[107],"nodeIndex":121},{"cfgs":[],"code":"LOGGER.info(\"Refreshed LDAP config instance.\")","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":true,"lineBeg":116,"lineEnd":116,"lineMapIndex":-1,"methodParents":[],"nodeIndex":122},{"cfgs":[],"code":"import java.util.Calendar","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":17,"lineEnd":17,"lineMapIndex":552,"methodParents":[],"nodeIndex":123},{"cfgs":[],"code":"import javax.inject.Inject","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":25,"lineEnd":25,"lineMapIndex":-1,"methodParents":[],"nodeIndex":124},{"cfgs":[],"code":"import org.apache.ambari.server.events.AmbariEvent","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":38,"lineEnd":38,"lineMapIndex":-1,"methodParents":[],"nodeIndex":125},{"cfgs":[],"code":"import org.apache.ambari.server.events.AmbariLdapConfigChangedEvent","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":39,"lineEnd":39,"lineMapIndex":556,"methodParents":[],"nodeIndex":126},{"cfgs":[],"code":"import org.apache.ambari.server.orm.entities.ConfigurationBaseEntity","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":43,"lineEnd":43,"lineMapIndex":555,"methodParents":[],"nodeIndex":127},{"cfgs":[],"code":"import com.google.common.collect.Sets","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":48,"lineEnd":48,"lineMapIndex":-1,"methodParents":[],"nodeIndex":128},{"cfgs":[],"code":"import com.google.gson.Gson","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":49,"lineEnd":49,"lineMapIndex":-1,"methodParents":[],"nodeIndex":129},{"cfgs":[],"code":"import com.google.gson.GsonBuilder","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":50,"lineEnd":50,"lineMapIndex":-1,"methodParents":[],"nodeIndex":130},{"cfgs":[],"code":"import com.google.inject.assistedinject.AssistedInject","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":51,"lineEnd":51,"lineMapIndex":559,"methodParents":[],"nodeIndex":131},{"cfgs":[133],"code":"private static final String DEFAULT_VERSION_TAG = \"Default version\"","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":59,"lineEnd":59,"lineMapIndex":-1,"methodParents":[],"nodeIndex":132},{"cfgs":[154],"code":"private static final Integer DEFAULT_VERSION = 1","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":60,"lineEnd":60,"lineMapIndex":-1,"methodParents":[],"nodeIndex":133},{"cfgs":[],"code":"public enum ResourcePropertyId ","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":65,"lineEnd":65,"lineMapIndex":-1,"methodParents":[],"nodeIndex":134},{"cfgs":[],"code":"ID(\"AmbariConfiguration/id\")","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":67,"lineEnd":67,"lineMapIndex":-1,"methodParents":[],"nodeIndex":135},{"cfgs":[],"code":"TYPE(\"AmbariConfiguration/type\")","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":68,"lineEnd":68,"lineMapIndex":-1,"methodParents":[],"nodeIndex":136},{"cfgs":[],"code":"VERSION(\"AmbariConfiguration/version\")","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":69,"lineEnd":69,"lineMapIndex":-1,"methodParents":[],"nodeIndex":137},{"cfgs":[],"code":"VERSION_TAG(\"AmbariConfiguration/version_tag\")","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":70,"lineEnd":70,"lineMapIndex":-1,"methodParents":[],"nodeIndex":138},{"cfgs":[],"code":"DATA(\"AmbariConfiguration/data\")","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":71,"lineEnd":71,"lineMapIndex":-1,"methodParents":[],"nodeIndex":139},{"cfgs":[],"code":"private String propertyId","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":73,"lineEnd":73,"lineMapIndex":-1,"methodParents":[],"nodeIndex":140},{"cfgs":[142],"code":"ResourcePropertyId(String propertyId) ","dfgs":[142],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":75,"lineEnd":75,"lineMapIndex":-1,"methodParents":[],"nodeIndex":141},{"cfgs":[],"code":"this.propertyId = propertyId","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[140],"isDel":true,"lineBeg":76,"lineEnd":76,"lineMapIndex":-1,"methodParents":[],"nodeIndex":142},{"cfgs":[144],"code":"String getPropertyId() ","dfgs":[144],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":79,"lineEnd":79,"lineMapIndex":-1,"methodParents":[],"nodeIndex":143},{"cfgs":[],"code":"return this.propertyId","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[140],"isDel":true,"lineBeg":80,"lineEnd":80,"lineMapIndex":-1,"methodParents":[],"nodeIndex":144},{"cfgs":[146],"code":"public static ResourcePropertyId fromString(String propertyIdStr) ","dfgs":[146,147,153,151,152,148,149],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":83,"lineEnd":83,"lineMapIndex":-1,"methodParents":[],"nodeIndex":145},{"cfgs":[147],"code":"ResourcePropertyId propertyIdFromStr = null","dfgs":[151],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[140],"isDel":true,"lineBeg":84,"lineEnd":84,"lineMapIndex":-1,"methodParents":[],"nodeIndex":146},{"cfgs":[151,148],"code":"for (ResourcePropertyId id : ResourcePropertyId.values())","dfgs":[148],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":86,"lineEnd":86,"lineMapIndex":-1,"methodParents":[],"nodeIndex":147},{"cfgs":[149],"code":"if (id.getPropertyId().equals(propertyIdStr))","dfgs":[149,152],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[140],"isDel":true,"lineBeg":87,"lineEnd":87,"lineMapIndex":-1,"methodParents":[344],"nodeIndex":148},{"cfgs":[151],"code":"propertyIdFromStr = id","dfgs":[151],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[140],"isDel":true,"lineBeg":88,"lineEnd":88,"lineMapIndex":-1,"methodParents":[],"nodeIndex":149},{"cfgs":[],"code":"break","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":89,"lineEnd":89,"lineMapIndex":-1,"methodParents":[],"nodeIndex":150},{"cfgs":[152,153],"code":"if (propertyIdFromStr == null)","dfgs":[153],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[140],"isDel":true,"lineBeg":93,"lineEnd":93,"lineMapIndex":-1,"methodParents":[],"nodeIndex":151},{"cfgs":[153],"code":"throw new IllegalArgumentException(\"Unsupported property type: \" + propertyIdStr)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[140],"isDel":true,"lineBeg":94,"lineEnd":94,"lineMapIndex":-1,"methodParents":[],"nodeIndex":152},{"cfgs":[],"code":"return propertyIdFromStr","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[140],"isDel":true,"lineBeg":97,"lineEnd":97,"lineMapIndex":-1,"methodParents":[],"nodeIndex":153},{"cfgs":[155],"code":"private static Set<String> PROPERTIES = Sets.newHashSet(ResourcePropertyId.ID.getPropertyId(),ResourcePropertyId.TYPE.getPropertyId(),ResourcePropertyId.VERSION.getPropertyId(),ResourcePropertyId.VERSION_TAG.getPropertyId(),ResourcePropertyId.DATA.getPropertyId())","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":102,"lineEnd":107,"lineMapIndex":-1,"methodParents":[],"nodeIndex":154},{"cfgs":[],"code":"private static Map<Resource.Type, String> PK_PROPERTY_MAP = Collections.unmodifiableMap(new HashMap<Resource.Type, String>() {{put(Resource.Type.AmbariConfiguration, ResourcePropertyId.ID.getPropertyId());}})","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":109,"lineEnd":113,"lineMapIndex":563,"methodParents":[],"nodeIndex":155},{"cfgs":[],"code":"private Gson gson","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":123,"lineEnd":123,"lineMapIndex":-1,"methodParents":[],"nodeIndex":156},{"cfgs":[158],"code":"@AssistedInjectpublic AmbariConfigurationResourceProvider()","dfgs":[158,159,160],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":125,"lineEnd":126,"lineMapIndex":-1,"methodParents":[],"nodeIndex":157},{"cfgs":[159],"code":"setRequiredCreateAuthorizations(EnumSet.of(RoleAuthorization.AMBARI_MANAGE_CONFIGURATION))","dfgs":[159],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":128,"lineEnd":128,"lineMapIndex":565,"methodParents":[],"nodeIndex":158},{"cfgs":[160],"code":"setRequiredDeleteAuthorizations(EnumSet.of(RoleAuthorization.AMBARI_MANAGE_CONFIGURATION))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":129,"lineEnd":129,"lineMapIndex":-1,"methodParents":[],"nodeIndex":159},{"cfgs":[],"code":"gson = new GsonBuilder().create()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[156],"isDel":true,"lineBeg":131,"lineEnd":131,"lineMapIndex":-1,"methodParents":[],"nodeIndex":160},{"cfgs":[],"code":"return Sets.newHashSet(ResourcePropertyId.ID.getPropertyId())","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":136,"lineEnd":136,"lineMapIndex":-1,"methodParents":[143],"nodeIndex":161},{"cfgs":[163],"code":"public RequestStatus createResourcesAuthorized(Request request) throws SystemException, UnsupportedPropertyException,ResourceAlreadyExistsException, NoSuchParentResourceException","dfgs":[164,163,169,175,167,172,171,166,168,173,174],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":140,"lineEnd":141,"lineMapIndex":-1,"methodParents":[],"nodeIndex":162},{"cfgs":[164],"code":"LOGGER.info(\"Creating new ambari configuration resource ...\")","dfgs":[169],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":143,"lineEnd":143,"lineMapIndex":-1,"methodParents":[],"nodeIndex":163},{"cfgs":[165],"code":"AmbariConfigurationEntity ambariConfigurationEntity = null","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":144,"lineEnd":144,"lineMapIndex":-1,"methodParents":[],"nodeIndex":164},{"cfgs":[166],"code":"try ","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":145,"lineEnd":145,"lineMapIndex":-1,"methodParents":[],"nodeIndex":165},{"cfgs":[169,167],"code":"ambariConfigurationEntity = getEntityFromRequest(request)","dfgs":[169,175,171],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":146,"lineEnd":146,"lineMapIndex":-1,"methodParents":[223],"nodeIndex":166},{"cfgs":[168],"code":"catch (AmbariException e)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":147,"lineEnd":147,"lineMapIndex":-1,"methodParents":[],"nodeIndex":167},{"cfgs":[169],"code":"throw new NoSuchParentResourceException(e.getMessage())","dfgs":[173],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":148,"lineEnd":148,"lineMapIndex":-1,"methodParents":[],"nodeIndex":168},{"cfgs":[170],"code":"LOGGER.info(\"Persisting new ambari configuration: {} \", ambariConfigurationEntity)","dfgs":[171,173],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":151,"lineEnd":151,"lineMapIndex":-1,"methodParents":[],"nodeIndex":169},{"cfgs":[171],"code":"try ","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":153,"lineEnd":153,"lineMapIndex":-1,"methodParents":[],"nodeIndex":170},{"cfgs":[175,172],"code":"ambariConfigurationDAO.create(ambariConfigurationEntity)","dfgs":[175],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":154,"lineEnd":154,"lineMapIndex":-1,"methodParents":[285],"nodeIndex":171},{"cfgs":[173],"code":"catch (Exception e)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":155,"lineEnd":155,"lineMapIndex":-1,"methodParents":[],"nodeIndex":172},{"cfgs":[174],"code":"LOGGER.error(\"Failed to create resource\", e)","dfgs":[174],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":156,"lineEnd":156,"lineMapIndex":-1,"methodParents":[],"nodeIndex":173},{"cfgs":[175],"code":"throw new ResourceAlreadyExistsException(e.getMessage())","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":157,"lineEnd":157,"lineMapIndex":-1,"methodParents":[],"nodeIndex":174},{"cfgs":[],"code":"publisher.publish(new AmbariLdapConfigChangedEvent(AmbariEvent.AmbariEventType.LDAP_CONFIG_CHANGED,ambariConfigurationEntity.getId()))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":162,"lineEnd":163,"lineMapIndex":-1,"methodParents":[],"nodeIndex":175},{"cfgs":[177],"code":"protected Set<Resource> getResourcesAuthorized(Request request, Predicate predicate) throws SystemException,UnsupportedPropertyException, NoSuchResourceException, NoSuchParentResourceException","dfgs":[184,177,179,182,181,183],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":170,"lineEnd":171,"lineMapIndex":-1,"methodParents":[],"nodeIndex":176},{"cfgs":[178],"code":"Set<Resource> resources = Sets.newHashSet()","dfgs":[184,181],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":172,"lineEnd":172,"lineMapIndex":-1,"methodParents":[],"nodeIndex":177},{"cfgs":[179],"code":"List<AmbariConfigurationEntity> ambariConfigurationEntities = ambariConfigurationDAO.findAll()","dfgs":[179,181],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":175,"lineEnd":175,"lineMapIndex":637,"methodParents":[],"nodeIndex":178},{"cfgs":[184,180],"code":"for (AmbariConfigurationEntity ambariConfigurationEntity : ambariConfigurationEntities)","dfgs":[181],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":176,"lineEnd":176,"lineMapIndex":-1,"methodParents":[],"nodeIndex":179},{"cfgs":[181],"code":"try ","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":177,"lineEnd":177,"lineMapIndex":-1,"methodParents":[],"nodeIndex":180},{"cfgs":[182],"code":"resources.add(toResource(ambariConfigurationEntity, getPropertyIds()))","dfgs":[184],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":178,"lineEnd":178,"lineMapIndex":-1,"methodParents":[210],"nodeIndex":181},{"cfgs":[183],"code":"catch (AmbariException e)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":179,"lineEnd":179,"lineMapIndex":-1,"methodParents":[],"nodeIndex":182},{"cfgs":[],"code":"LOGGER.error(\"Error while retrieving ambari configuration\", e)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":180,"lineEnd":180,"lineMapIndex":-1,"methodParents":[],"nodeIndex":183},{"cfgs":[],"code":"return resources","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":183,"lineEnd":183,"lineMapIndex":649,"methodParents":[],"nodeIndex":184},{"cfgs":[186],"code":"protected RequestStatus deleteResourcesAuthorized(Request request, Predicate predicate) throws SystemException,UnsupportedPropertyException, NoSuchResourceException, NoSuchParentResourceException","dfgs":[190,186,187,188,189],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":187,"lineEnd":188,"lineMapIndex":-1,"methodParents":[],"nodeIndex":185},{"cfgs":[187],"code":"Long idFromRequest = Long.valueOf((String) PredicateHelper.getProperties(predicate).get(ResourcePropertyId.ID.getPropertyId()))","dfgs":[187],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":190,"lineEnd":190,"lineMapIndex":590,"methodParents":[143],"nodeIndex":186},{"cfgs":[190,188],"code":"if (null == idFromRequest)","dfgs":[190,188],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":192,"lineEnd":192,"lineMapIndex":591,"methodParents":[],"nodeIndex":187},{"cfgs":[189],"code":"LOGGER.debug(\"Deleting amari configuration with id: {}\", idFromRequest)","dfgs":[189],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":195,"lineEnd":195,"lineMapIndex":592,"methodParents":[],"nodeIndex":188},{"cfgs":[190],"code":"ambariConfigurationDAO.removeByPK(idFromRequest)","dfgs":[190],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":197,"lineEnd":197,"lineMapIndex":593,"methodParents":[],"nodeIndex":189},{"cfgs":[],"code":"publisher.publish(new AmbariLdapConfigChangedEvent(AmbariEvent.AmbariEventType.LDAP_CONFIG_CHANGED, idFromRequest))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":205,"lineEnd":205,"lineMapIndex":594,"methodParents":[],"nodeIndex":190},{"cfgs":[192],"code":"protected RequestStatus updateResourcesAuthorized(Request request, Predicate predicate) throws SystemException,UnsupportedPropertyException, NoSuchResourceException, NoSuchParentResourceException","dfgs":[208,192,193,194,206,209,196,197,205,195,199,200,201,202,203,204,207],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":213,"lineEnd":214,"lineMapIndex":-1,"methodParents":[],"nodeIndex":191},{"cfgs":[193],"code":"Long idFromRequest = Long.valueOf((String) PredicateHelper.getProperties(predicate).get(ResourcePropertyId.ID.getPropertyId()))","dfgs":[193],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":215,"lineEnd":215,"lineMapIndex":596,"methodParents":[143],"nodeIndex":192},{"cfgs":[194],"code":"AmbariConfigurationEntity persistedEntity = ambariConfigurationDAO.findByPK(idFromRequest)","dfgs":[194,199,195],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":217,"lineEnd":217,"lineMapIndex":-1,"methodParents":[],"nodeIndex":193},{"cfgs":[195,198],"code":"if (persistedEntity == null)","dfgs":[200],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":218,"lineEnd":218,"lineMapIndex":-1,"methodParents":[],"nodeIndex":194},{"cfgs":[196],"code":"String errorMsg = String.format(\"Entity with primary key [ %s ] not found in the database.\", idFromRequest)","dfgs":[196],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":219,"lineEnd":219,"lineMapIndex":-1,"methodParents":[],"nodeIndex":195},{"cfgs":[197],"code":"LOGGER.error(errorMsg)","dfgs":[197],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":220,"lineEnd":220,"lineMapIndex":-1,"methodParents":[],"nodeIndex":196},{"cfgs":[198],"code":"throw new NoSuchResourceException(errorMsg)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":221,"lineEnd":221,"lineMapIndex":-1,"methodParents":[],"nodeIndex":197},{"cfgs":[199],"code":"try ","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":224,"lineEnd":224,"lineMapIndex":-1,"methodParents":[],"nodeIndex":198},{"cfgs":[200],"code":"AmbariConfigurationEntity entityFromRequest = getEntityFromRequest(request)","dfgs":[208,209,205,200],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":226,"lineEnd":226,"lineMapIndex":-1,"methodParents":[223],"nodeIndex":199},{"cfgs":[201],"code":"persistedEntity.getConfigurationBaseEntity().setVersionTag(entityFromRequest.getConfigurationBaseEntity().getVersionTag())","dfgs":[201],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":227,"lineEnd":227,"lineMapIndex":-1,"methodParents":[332],"nodeIndex":200},{"cfgs":[202],"code":"persistedEntity.getConfigurationBaseEntity().setVersion(entityFromRequest.getConfigurationBaseEntity().getVersion())","dfgs":[202],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":228,"lineEnd":228,"lineMapIndex":-1,"methodParents":[336],"nodeIndex":201},{"cfgs":[203],"code":"persistedEntity.getConfigurationBaseEntity().setType(entityFromRequest.getConfigurationBaseEntity().getType())","dfgs":[203],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":229,"lineEnd":229,"lineMapIndex":-1,"methodParents":[271],"nodeIndex":202},{"cfgs":[204],"code":"persistedEntity.getConfigurationBaseEntity().setConfigurationData(entityFromRequest.getConfigurationBaseEntity().getConfigurationData())","dfgs":[204],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":230,"lineEnd":230,"lineMapIndex":-1,"methodParents":[271],"nodeIndex":203},{"cfgs":[205],"code":"persistedEntity.getConfigurationBaseEntity().setConfigurationAttributes(entityFromRequest.getConfigurationBaseEntity().getConfigurationAttributes())","dfgs":[205],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":231,"lineEnd":231,"lineMapIndex":-1,"methodParents":[271],"nodeIndex":204},{"cfgs":[208,206],"code":"ambariConfigurationDAO.update(persistedEntity)","dfgs":[209,208],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":234,"lineEnd":234,"lineMapIndex":-1,"methodParents":[290],"nodeIndex":205},{"cfgs":[207],"code":"catch (AmbariException e)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":235,"lineEnd":235,"lineMapIndex":-1,"methodParents":[],"nodeIndex":206},{"cfgs":[208],"code":"throw new NoSuchParentResourceException(e.getMessage())","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":236,"lineEnd":236,"lineMapIndex":-1,"methodParents":[],"nodeIndex":207},{"cfgs":[209],"code":"publisher.publish(new AmbariLdapConfigChangedEvent(AmbariEvent.AmbariEventType.LDAP_CONFIG_CHANGED,persistedEntity.getId()))","dfgs":[209],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":239,"lineEnd":240,"lineMapIndex":-1,"methodParents":[],"nodeIndex":208},{"cfgs":[],"code":"return getRequestStatus(null)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":243,"lineEnd":243,"lineMapIndex":-1,"methodParents":[],"nodeIndex":209},{"cfgs":[211],"code":"private Resource toResource(AmbariConfigurationEntity entity, Set<String> requestedIds) throws AmbariException ","dfgs":[215,217,218,219,220,221,222,211,213,216,212,214],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":247,"lineEnd":247,"lineMapIndex":-1,"methodParents":[],"nodeIndex":210},{"cfgs":[212,213],"code":"if (null == entity)","dfgs":[213],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":249,"lineEnd":249,"lineMapIndex":-1,"methodParents":[],"nodeIndex":211},{"cfgs":[213],"code":"throw new IllegalArgumentException(\"Null entity can't be transformed into a resource\")","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":250,"lineEnd":250,"lineMapIndex":-1,"methodParents":[],"nodeIndex":212},{"cfgs":[214,215],"code":"if (null == entity.getConfigurationBaseEntity())","dfgs":[216],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":253,"lineEnd":253,"lineMapIndex":-1,"methodParents":[271],"nodeIndex":213},{"cfgs":[215],"code":"throw new IllegalArgumentException(\"Invalid configuration entity can't be transformed into a resource\")","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":254,"lineEnd":254,"lineMapIndex":-1,"methodParents":[],"nodeIndex":214},{"cfgs":[216],"code":"Resource resource = new ResourceImpl(Resource.Type.AmbariConfiguration)","dfgs":[217],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":256,"lineEnd":256,"lineMapIndex":609,"methodParents":[],"nodeIndex":215},{"cfgs":[217],"code":"Set<Map<String, String>> configurationSet = gson.fromJson(entity.getConfigurationBaseEntity().getConfigurationData(), Set.class)","dfgs":[217,219],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[156],"isDel":true,"lineBeg":257,"lineEnd":257,"lineMapIndex":-1,"methodParents":[271],"nodeIndex":216},{"cfgs":[218],"code":"setResourceProperty(resource, ResourcePropertyId.ID.getPropertyId(), entity.getId(), requestedIds)","dfgs":[218],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":259,"lineEnd":259,"lineMapIndex":-1,"methodParents":[143],"nodeIndex":217},{"cfgs":[219],"code":"setResourceProperty(resource, ResourcePropertyId.TYPE.getPropertyId(), entity.getConfigurationBaseEntity().getType(), requestedIds)","dfgs":[219,220],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":260,"lineEnd":260,"lineMapIndex":-1,"methodParents":[143],"nodeIndex":218},{"cfgs":[220],"code":"setResourceProperty(resource, ResourcePropertyId.DATA.getPropertyId(), configurationSet, requestedIds)","dfgs":[220],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":261,"lineEnd":261,"lineMapIndex":-1,"methodParents":[143],"nodeIndex":219},{"cfgs":[221],"code":"setResourceProperty(resource, ResourcePropertyId.VERSION.getPropertyId(), entity.getConfigurationBaseEntity().getVersion(), requestedIds)","dfgs":[221],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":262,"lineEnd":262,"lineMapIndex":-1,"methodParents":[143],"nodeIndex":220},{"cfgs":[222],"code":"setResourceProperty(resource, ResourcePropertyId.VERSION_TAG.getPropertyId(), entity.getConfigurationBaseEntity().getVersionTag(), requestedIds)","dfgs":[222],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":263,"lineEnd":263,"lineMapIndex":-1,"methodParents":[143],"nodeIndex":221},{"cfgs":[],"code":"return resource","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":265,"lineEnd":265,"lineMapIndex":612,"methodParents":[],"nodeIndex":222},{"cfgs":[224],"code":"private AmbariConfigurationEntity getEntityFromRequest(Request request) throws AmbariException ","dfgs":[224,225,231,253,226,227,229,252,228,230,233,232,234,239,242,246,247,240,244,248,250,235,237,236,243],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":268,"lineEnd":268,"lineMapIndex":-1,"methodParents":[],"nodeIndex":223},{"cfgs":[225],"code":"AmbariConfigurationEntity ambariConfigurationEntity = new AmbariConfigurationEntity()","dfgs":[225],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":270,"lineEnd":270,"lineMapIndex":-1,"methodParents":[],"nodeIndex":224},{"cfgs":[226],"code":"ambariConfigurationEntity.setConfigurationBaseEntity(new ConfigurationBaseEntity())","dfgs":[252,237,240,244,248],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":271,"lineEnd":271,"lineMapIndex":-1,"methodParents":[273],"nodeIndex":225},{"cfgs":[227],"code":"Set<Map<String, Object>> resourcePropertiesSet = request.getProperties()","dfgs":[227],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":274,"lineEnd":274,"lineMapIndex":-1,"methodParents":[],"nodeIndex":226},{"cfgs":[228,229],"code":"if (resourcePropertiesSet.size() != 1)","dfgs":[229],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":276,"lineEnd":276,"lineMapIndex":-1,"methodParents":[],"nodeIndex":227},{"cfgs":[229],"code":"throw new AmbariException(\"There must be only one resource specified in the request\")","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":277,"lineEnd":277,"lineMapIndex":-1,"methodParents":[],"nodeIndex":228},{"cfgs":[230,231],"code":"if (getValueFromResourceProperties(ResourcePropertyId.TYPE, resourcePropertiesSet.iterator().next()) == null)","dfgs":[231,232],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":281,"lineEnd":281,"lineMapIndex":-1,"methodParents":[254],"nodeIndex":229},{"cfgs":[231],"code":"throw new AmbariException(\"The configuration type must be set\")","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":282,"lineEnd":282,"lineMapIndex":-1,"methodParents":[],"nodeIndex":230},{"cfgs":[252,232],"code":"for (ResourcePropertyId resourcePropertyId : ResourcePropertyId.values())","dfgs":[232],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":286,"lineEnd":286,"lineMapIndex":-1,"methodParents":[],"nodeIndex":231},{"cfgs":[235,240,243,247,250],"code":"Object requestValue = getValueFromResourceProperties(resourcePropertyId, resourcePropertiesSet.iterator().next())","dfgs":[240,250,235,237,243,247],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":287,"lineEnd":287,"lineMapIndex":-1,"methodParents":[254],"nodeIndex":232},{"cfgs":[],"code":"switch (resourcePropertyId) ","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":289,"lineEnd":289,"lineMapIndex":-1,"methodParents":[],"nodeIndex":233},{"cfgs":[],"code":"case DATA","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":290,"lineEnd":290,"lineMapIndex":-1,"methodParents":[],"nodeIndex":234},{"cfgs":[236,237],"code":"if (requestValue == null)","dfgs":[237],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":291,"lineEnd":291,"lineMapIndex":-1,"methodParents":[],"nodeIndex":235},{"cfgs":[237],"code":"throw new IllegalArgumentException(\"No configuration data is provided in the request\")","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":292,"lineEnd":292,"lineMapIndex":-1,"methodParents":[],"nodeIndex":236},{"cfgs":[],"code":"ambariConfigurationEntity.getConfigurationBaseEntity().setConfigurationData(gson.toJson(requestValue))","dfgs":[252,240,244,248],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[156],"isDel":true,"lineBeg":294,"lineEnd":294,"lineMapIndex":-1,"methodParents":[271],"nodeIndex":237},{"cfgs":[],"code":"break","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":295,"lineEnd":295,"lineMapIndex":-1,"methodParents":[],"nodeIndex":238},{"cfgs":[],"code":"case TYPE","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":296,"lineEnd":296,"lineMapIndex":-1,"methodParents":[],"nodeIndex":239},{"cfgs":[],"code":"ambariConfigurationEntity.getConfigurationBaseEntity().setType((String) requestValue)","dfgs":[252,247,244,248],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":297,"lineEnd":297,"lineMapIndex":-1,"methodParents":[271],"nodeIndex":240},{"cfgs":[],"code":"break","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":298,"lineEnd":298,"lineMapIndex":-1,"methodParents":[],"nodeIndex":241},{"cfgs":[],"code":"case VERSION","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":299,"lineEnd":299,"lineMapIndex":-1,"methodParents":[],"nodeIndex":242},{"cfgs":[244],"code":"Integer version = (requestValue == null) ? DEFAULT_VERSION : Integer.valueOf((String) requestValue)","dfgs":[247,244],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[133],"isDel":true,"lineBeg":300,"lineEnd":300,"lineMapIndex":-1,"methodParents":[],"nodeIndex":243},{"cfgs":[],"code":"ambariConfigurationEntity.getConfigurationBaseEntity().setVersion((version))","dfgs":[252,248],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":301,"lineEnd":301,"lineMapIndex":-1,"methodParents":[336],"nodeIndex":244},{"cfgs":[],"code":"break","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":302,"lineEnd":302,"lineMapIndex":-1,"methodParents":[],"nodeIndex":245},{"cfgs":[],"code":"case VERSION_TAG","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":303,"lineEnd":303,"lineMapIndex":-1,"methodParents":[],"nodeIndex":246},{"cfgs":[248],"code":"String versionTag = requestValue == null ? DEFAULT_VERSION_TAG : (String) requestValue","dfgs":[248],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[132],"isDel":true,"lineBeg":304,"lineEnd":304,"lineMapIndex":-1,"methodParents":[],"nodeIndex":247},{"cfgs":[],"code":"ambariConfigurationEntity.getConfigurationBaseEntity().setVersionTag(versionTag)","dfgs":[252],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":305,"lineEnd":305,"lineMapIndex":-1,"methodParents":[332],"nodeIndex":248},{"cfgs":[],"code":"break","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":306,"lineEnd":306,"lineMapIndex":-1,"methodParents":[],"nodeIndex":249},{"cfgs":[],"code":"LOGGER.debug(\"Ignored property in the request: {}\", resourcePropertyId)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":308,"lineEnd":308,"lineMapIndex":-1,"methodParents":[],"nodeIndex":250},{"cfgs":[],"code":"break","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":309,"lineEnd":309,"lineMapIndex":-1,"methodParents":[],"nodeIndex":251},{"cfgs":[253],"code":"ambariConfigurationEntity.getConfigurationBaseEntity().setCreateTimestamp(Calendar.getInstance().getTimeInMillis())","dfgs":[253],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":312,"lineEnd":312,"lineMapIndex":-1,"methodParents":[271],"nodeIndex":252},{"cfgs":[],"code":"return ambariConfigurationEntity","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":313,"lineEnd":313,"lineMapIndex":-1,"methodParents":[],"nodeIndex":253},{"cfgs":[255],"code":"private Object getValueFromResourceProperties(ResourcePropertyId resourcePropertyIdEnum, Map<String, Object> resourceProperties) ","dfgs":[256,255,260,257,259,258],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":317,"lineEnd":317,"lineMapIndex":-1,"methodParents":[],"nodeIndex":254},{"cfgs":[256],"code":"LOGGER.debug(\"Locating resource property [{}] in the resource properties map ...\", resourcePropertyIdEnum)","dfgs":[257,259],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":318,"lineEnd":318,"lineMapIndex":-1,"methodParents":[],"nodeIndex":255},{"cfgs":[257],"code":"Object requestValue = null","dfgs":[260],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":319,"lineEnd":319,"lineMapIndex":-1,"methodParents":[],"nodeIndex":256},{"cfgs":[258,260],"code":"if (resourceProperties.containsKey(resourcePropertyIdEnum.getPropertyId()))","dfgs":[258],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":321,"lineEnd":321,"lineMapIndex":-1,"methodParents":[143],"nodeIndex":257},{"cfgs":[259],"code":"requestValue = resourceProperties.get(resourcePropertyIdEnum.getPropertyId())","dfgs":[259],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":322,"lineEnd":322,"lineMapIndex":-1,"methodParents":[143],"nodeIndex":258},{"cfgs":[260],"code":"LOGGER.debug(\"Found resource property {} in the resource properties map, value: {}\", resourcePropertyIdEnum, requestValue)","dfgs":[260],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":323,"lineEnd":323,"lineMapIndex":-1,"methodParents":[],"nodeIndex":259},{"cfgs":[],"code":"return requestValue","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":325,"lineEnd":325,"lineMapIndex":-1,"methodParents":[],"nodeIndex":260},{"cfgs":[],"code":"import javax.persistence.CascadeType","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[],"isDel":true,"lineBeg":17,"lineEnd":17,"lineMapIndex":-1,"methodParents":[],"nodeIndex":261},{"cfgs":[],"code":"import javax.persistence.JoinColumn","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[],"isDel":true,"lineBeg":21,"lineEnd":21,"lineMapIndex":657,"methodParents":[],"nodeIndex":262},{"cfgs":[],"code":"import javax.persistence.MapsId","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[],"isDel":true,"lineBeg":22,"lineEnd":22,"lineMapIndex":-1,"methodParents":[],"nodeIndex":263},{"cfgs":[],"code":"import javax.persistence.OneToOne","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[],"isDel":true,"lineBeg":25,"lineEnd":25,"lineMapIndex":658,"methodParents":[],"nodeIndex":264},{"cfgs":[],"code":"private Long id","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[],"isDel":true,"lineBeg":40,"lineEnd":40,"lineMapIndex":-1,"methodParents":[],"nodeIndex":265},{"cfgs":[],"code":"private ConfigurationBaseEntity configurationBaseEntity","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[],"isDel":true,"lineBeg":45,"lineEnd":45,"lineMapIndex":-1,"methodParents":[],"nodeIndex":266},{"cfgs":[268],"code":"public Long getId() ","dfgs":[268],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[],"isDel":true,"lineBeg":47,"lineEnd":47,"lineMapIndex":663,"methodParents":[],"nodeIndex":267},{"cfgs":[],"code":"return id","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[265],"isDel":true,"lineBeg":48,"lineEnd":48,"lineMapIndex":664,"methodParents":[],"nodeIndex":268},{"cfgs":[270],"code":"public void setId(Long id) ","dfgs":[270],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[],"isDel":true,"lineBeg":51,"lineEnd":51,"lineMapIndex":665,"methodParents":[],"nodeIndex":269},{"cfgs":[],"code":"this.id = id","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[265],"isDel":true,"lineBeg":52,"lineEnd":52,"lineMapIndex":666,"methodParents":[],"nodeIndex":270},{"cfgs":[272],"code":"public ConfigurationBaseEntity getConfigurationBaseEntity() ","dfgs":[272],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[],"isDel":true,"lineBeg":55,"lineEnd":55,"lineMapIndex":667,"methodParents":[],"nodeIndex":271},{"cfgs":[],"code":"return configurationBaseEntity","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[266],"isDel":true,"lineBeg":56,"lineEnd":56,"lineMapIndex":668,"methodParents":[],"nodeIndex":272},{"cfgs":[274],"code":"public void setConfigurationBaseEntity(ConfigurationBaseEntity configurationBaseEntity) ","dfgs":[274],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[],"isDel":true,"lineBeg":59,"lineEnd":59,"lineMapIndex":669,"methodParents":[],"nodeIndex":273},{"cfgs":[],"code":"this.configurationBaseEntity = configurationBaseEntity","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[266],"isDel":true,"lineBeg":60,"lineEnd":60,"lineMapIndex":670,"methodParents":[],"nodeIndex":274},{"cfgs":[],"code":"return \"AmbariConfigurationEntity{\" +\"id=\" + id +\", configurationBaseEntity=\" + configurationBaseEntity +'}'","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[265],"isDel":true,"lineBeg":65,"lineEnd":68,"lineMapIndex":675,"methodParents":[],"nodeIndex":275},{"cfgs":[],"code":"return handleRequest(headers, body, uri, Request.Type.POST, createResource(Resource.Type.AmbariConfiguration,Collections.EMPTY_MAP))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_AmbariConfigurationService.java","fieldParents":[],"isDel":true,"lineBeg":98,"lineEnd":99,"lineMapIndex":685,"methodParents":[],"nodeIndex":276},{"cfgs":[],"code":"return handleRequest(headers, body, uri, Request.Type.GET, createResource(Resource.Type.AmbariConfiguration,Collections.EMPTY_MAP))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_AmbariConfigurationService.java","fieldParents":[],"isDel":true,"lineBeg":125,"lineEnd":126,"lineMapIndex":686,"methodParents":[],"nodeIndex":277},{"cfgs":[279],"code":"public Response getAmbariConfiguration(String body, @Context HttpHeaders headers, @Context UriInfo uri,@PathParam(\"configurationId\") String configurationId)","dfgs":[279],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_AmbariConfigurationService.java","fieldParents":[],"isDel":true,"lineBeg":144,"lineEnd":145,"lineMapIndex":-1,"methodParents":[],"nodeIndex":278},{"cfgs":[],"code":"return handleRequest(headers, body, uri, Request.Type.GET, createResource(Resource.Type.AmbariConfiguration,Collections.singletonMap(Resource.Type.AmbariConfiguration, configurationId)))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_AmbariConfigurationService.java","fieldParents":[],"isDel":true,"lineBeg":146,"lineEnd":147,"lineMapIndex":688,"methodParents":[],"nodeIndex":279},{"cfgs":[281],"code":"public Response updateAmbariConfiguration(String body, @Context HttpHeaders headers, @Context UriInfo uri,@PathParam(\"configurationId\") String configurationId)","dfgs":[281],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_AmbariConfigurationService.java","fieldParents":[],"isDel":true,"lineBeg":169,"lineEnd":170,"lineMapIndex":-1,"methodParents":[],"nodeIndex":280},{"cfgs":[],"code":"return handleRequest(headers, body, uri, Request.Type.PUT, createResource(Resource.Type.AmbariConfiguration,Collections.singletonMap(Resource.Type.AmbariConfiguration, configurationId)))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_AmbariConfigurationService.java","fieldParents":[],"isDel":true,"lineBeg":171,"lineEnd":172,"lineMapIndex":690,"methodParents":[],"nodeIndex":281},{"cfgs":[283],"code":"public Response deleteAmbariConfiguration(String body, @Context HttpHeaders headers, @Context UriInfo uri,@PathParam(\"configurationId\") String configurationId)","dfgs":[283],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_AmbariConfigurationService.java","fieldParents":[],"isDel":true,"lineBeg":187,"lineEnd":188,"lineMapIndex":-1,"methodParents":[],"nodeIndex":282},{"cfgs":[],"code":"return handleRequest(headers, body, uri, Request.Type.DELETE, createResource(Resource.Type.AmbariConfiguration,Collections.singletonMap(Resource.Type.AmbariConfiguration, configurationId)))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_AmbariConfigurationService.java","fieldParents":[],"isDel":true,"lineBeg":189,"lineEnd":190,"lineMapIndex":692,"methodParents":[],"nodeIndex":283},{"cfgs":[],"code":"public class AmbariConfigurationDAO extends CrudDAO<AmbariConfigurationEntity, Long> ","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":true,"lineBeg":35,"lineEnd":35,"lineMapIndex":-1,"methodParents":[],"nodeIndex":284},{"cfgs":[286],"code":"if (\"ldap-configuration\".equals(entity.getConfigurationBaseEntity().getType()))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":true,"lineBeg":47,"lineEnd":47,"lineMapIndex":-1,"methodParents":[344],"nodeIndex":285},{"cfgs":[287],"code":"AmbariConfigurationEntity ldapConfigEntity = getLdapConfiguration()","dfgs":[287],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":true,"lineBeg":48,"lineEnd":48,"lineMapIndex":708,"methodParents":[297],"nodeIndex":286},{"cfgs":[288],"code":"if (ldapConfigEntity != null)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":true,"lineBeg":49,"lineEnd":49,"lineMapIndex":709,"methodParents":[],"nodeIndex":287},{"cfgs":[289],"code":"LOGGER.error(\"Only one LDAP configuration entry can exist!\")","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":true,"lineBeg":50,"lineEnd":50,"lineMapIndex":711,"methodParents":[],"nodeIndex":288},{"cfgs":[],"code":"throw new EntityExistsException(\"LDAP configuration entity already exists!\")","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":true,"lineBeg":51,"lineEnd":51,"lineMapIndex":712,"methodParents":[],"nodeIndex":289},{"cfgs":[],"code":"public void update(AmbariConfigurationEntity entity) ","dfgs":[291],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":true,"lineBeg":59,"lineEnd":59,"lineMapIndex":-1,"methodParents":[],"nodeIndex":290},{"cfgs":[292,295],"code":"if (entity.getId() == null || findByPK(entity.getId()) == null)","dfgs":[295,292],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":true,"lineBeg":60,"lineEnd":60,"lineMapIndex":715,"methodParents":[267],"nodeIndex":291},{"cfgs":[293],"code":"String msg = String.format(\"The entity with id [ %s ] is not found\", entity.getId())","dfgs":[295,293],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":true,"lineBeg":61,"lineEnd":61,"lineMapIndex":716,"methodParents":[267],"nodeIndex":292},{"cfgs":[294],"code":"LOGGER.debug(msg)","dfgs":[294],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":true,"lineBeg":62,"lineEnd":62,"lineMapIndex":717,"methodParents":[],"nodeIndex":293},{"cfgs":[295],"code":"throw new EntityNotFoundException(msg)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":true,"lineBeg":63,"lineEnd":63,"lineMapIndex":718,"methodParents":[],"nodeIndex":294},{"cfgs":[296],"code":"super.merge(entity)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":true,"lineBeg":67,"lineEnd":67,"lineMapIndex":721,"methodParents":[],"nodeIndex":295},{"cfgs":[],"code":"entityManagerProvider.get().flush()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":true,"lineBeg":68,"lineEnd":68,"lineMapIndex":722,"methodParents":[106],"nodeIndex":296},{"cfgs":[298],"code":"public AmbariConfigurationEntity getLdapConfiguration() ","dfgs":[299,298,301,303,304,300,302],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":true,"lineBeg":77,"lineEnd":77,"lineMapIndex":-1,"methodParents":[],"nodeIndex":297},{"cfgs":[299],"code":"LOGGER.info(\"Looking up the LDAP configuration ....\")","dfgs":[303],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":true,"lineBeg":78,"lineEnd":78,"lineMapIndex":732,"methodParents":[],"nodeIndex":298},{"cfgs":[300],"code":"AmbariConfigurationEntity ldapConfigEntity = null","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":true,"lineBeg":79,"lineEnd":79,"lineMapIndex":734,"methodParents":[],"nodeIndex":299},{"cfgs":[301],"code":"TypedQuery<AmbariConfigurationEntity> query = entityManagerProvider.get().createNamedQuery(\"AmbariConfigurationEntity.findByType\", AmbariConfigurationEntity.class)","dfgs":[301],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":true,"lineBeg":81,"lineEnd":82,"lineMapIndex":705,"methodParents":[106],"nodeIndex":300},{"cfgs":[302],"code":"query.setParameter(\"typeName\", \"ldap-configuration\")","dfgs":[302],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":true,"lineBeg":83,"lineEnd":83,"lineMapIndex":746,"methodParents":[],"nodeIndex":301},{"cfgs":[303],"code":"ldapConfigEntity = daoUtils.selectSingle(query)","dfgs":[303],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":true,"lineBeg":85,"lineEnd":85,"lineMapIndex":-1,"methodParents":[],"nodeIndex":302},{"cfgs":[304],"code":"LOGGER.info(\"Returned entity: {} \", ldapConfigEntity)","dfgs":[304],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":true,"lineBeg":86,"lineEnd":86,"lineMapIndex":752,"methodParents":[],"nodeIndex":303},{"cfgs":[],"code":"return ldapConfigEntity","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":true,"lineBeg":87,"lineEnd":87,"lineMapIndex":753,"methodParents":[],"nodeIndex":304},{"cfgs":[],"code":"Long getId()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_AmbariConfigurationRequestSwagger.java","fieldParents":[],"isDel":true,"lineBeg":32,"lineEnd":32,"lineMapIndex":755,"methodParents":[],"nodeIndex":305},{"cfgs":[],"code":"Map<String, Object> getData()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_AmbariConfigurationRequestSwagger.java","fieldParents":[],"isDel":true,"lineBeg":35,"lineEnd":35,"lineMapIndex":-1,"methodParents":[],"nodeIndex":306},{"cfgs":[],"code":"String getType()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_AmbariConfigurationRequestSwagger.java","fieldParents":[],"isDel":true,"lineBeg":38,"lineEnd":38,"lineMapIndex":-1,"methodParents":[],"nodeIndex":307},{"cfgs":[],"code":"Long getVersion()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_AmbariConfigurationRequestSwagger.java","fieldParents":[],"isDel":true,"lineBeg":41,"lineEnd":41,"lineMapIndex":-1,"methodParents":[],"nodeIndex":308},{"cfgs":[],"code":"String getVersionTag()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_AmbariConfigurationRequestSwagger.java","fieldParents":[],"isDel":true,"lineBeg":44,"lineEnd":44,"lineMapIndex":-1,"methodParents":[],"nodeIndex":309},{"cfgs":[],"code":"AmbariLdapConfiguration ambariLdapConfiguration = ambariLdapConfigurationFactory.createLdapConfiguration(ldapConfigurationRequest.getAmbariConfiguration().getData().iterator().next())","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_LdapConfigurationService.java","fieldParents":[],"isDel":true,"lineBeg":96,"lineEnd":97,"lineMapIndex":756,"methodParents":[],"nodeIndex":310},{"cfgs":[],"code":"if (null == ldapConfigurationRequest.getAmbariConfiguration()|| ldapConfigurationRequest.getAmbariConfiguration().getData().size() != 1)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_LdapConfigurationService.java","fieldParents":[],"isDel":true,"lineBeg":156,"lineEnd":157,"lineMapIndex":757,"methodParents":[],"nodeIndex":311},{"cfgs":[],"code":"LDAP_CONFIG_CHANGED","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_events_AmbariEvent.java","fieldParents":[],"isDel":true,"lineBeg":148,"lineEnd":148,"lineMapIndex":758,"methodParents":[],"nodeIndex":312},{"cfgs":[314],"code":"protected static final String CLUSTER_CONFIG_TABLE = \"clusterconfig\"","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_UpgradeCatalog300.java","fieldParents":[],"isDel":true,"lineBeg":69,"lineEnd":69,"lineMapIndex":762,"methodParents":[],"nodeIndex":313},{"cfgs":[315],"code":"protected static final String CLUSTER_CONFIG_SELECTED_COLUMN = \"selected\"","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_UpgradeCatalog300.java","fieldParents":[],"isDel":true,"lineBeg":70,"lineEnd":70,"lineMapIndex":761,"methodParents":[],"nodeIndex":314},{"cfgs":[316],"code":"protected static final String CLUSTER_CONFIG_SELECTED_TIMESTAMP_COLUMN = \"selected_timestamp\"","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_UpgradeCatalog300.java","fieldParents":[],"isDel":true,"lineBeg":71,"lineEnd":71,"lineMapIndex":760,"methodParents":[],"nodeIndex":315},{"cfgs":[],"code":"protected static final String COMPONENT_TABLE = \"servicecomponentdesiredstate\"","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_UpgradeCatalog300.java","fieldParents":[],"isDel":true,"lineBeg":74,"lineEnd":74,"lineMapIndex":759,"methodParents":[],"nodeIndex":316},{"cfgs":[],"code":"Injector injector = Guice.createInjector(new UpgradeHelperModule(), new AuditLoggerModule())","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_SchemaUpgradeHelper.java","fieldParents":[],"isDel":true,"lineBeg":376,"lineEnd":376,"lineMapIndex":772,"methodParents":[],"nodeIndex":317},{"cfgs":[],"code":"import org.apache.ambari.server.events.AmbariLdapConfigChangedEvent","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_ads_LdapConnectionTemplateFactory.java","fieldParents":[],"isDel":true,"lineBeg":21,"lineEnd":21,"lineMapIndex":805,"methodParents":[],"nodeIndex":318},{"cfgs":[],"code":"public void onConfigChange(AmbariLdapConfigChangedEvent event) throws AmbariLdapException ","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_ads_LdapConnectionTemplateFactory.java","fieldParents":[],"isDel":true,"lineBeg":106,"lineEnd":106,"lineMapIndex":-1,"methodParents":[],"nodeIndex":319},{"cfgs":[],"code":"import java.util.Collections","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_AmbariConfiguration.java","fieldParents":[],"isDel":true,"lineBeg":17,"lineEnd":17,"lineMapIndex":-1,"methodParents":[],"nodeIndex":320},{"cfgs":[],"code":"import java.util.Set","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_AmbariConfiguration.java","fieldParents":[],"isDel":true,"lineBeg":19,"lineEnd":19,"lineMapIndex":-1,"methodParents":[],"nodeIndex":321},{"cfgs":[],"code":"private String versionTag","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_AmbariConfiguration.java","fieldParents":[],"isDel":true,"lineBeg":34,"lineEnd":34,"lineMapIndex":-1,"methodParents":[],"nodeIndex":322},{"cfgs":[],"code":"private Integer version","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_AmbariConfiguration.java","fieldParents":[],"isDel":true,"lineBeg":39,"lineEnd":39,"lineMapIndex":-1,"methodParents":[],"nodeIndex":323},{"cfgs":[],"code":"private long createdTs","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_AmbariConfiguration.java","fieldParents":[],"isDel":true,"lineBeg":44,"lineEnd":44,"lineMapIndex":-1,"methodParents":[],"nodeIndex":324},{"cfgs":[],"code":"private Set<Map<String, Object>> data = Collections.emptySet()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_AmbariConfiguration.java","fieldParents":[],"isDel":true,"lineBeg":46,"lineEnd":46,"lineMapIndex":807,"methodParents":[],"nodeIndex":325},{"cfgs":[327],"code":"public Set<Map<String, Object>> getData() ","dfgs":[327],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_AmbariConfiguration.java","fieldParents":[],"isDel":true,"lineBeg":56,"lineEnd":56,"lineMapIndex":808,"methodParents":[],"nodeIndex":326},{"cfgs":[],"code":"return data","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_AmbariConfiguration.java","fieldParents":[325],"isDel":true,"lineBeg":57,"lineEnd":57,"lineMapIndex":809,"methodParents":[],"nodeIndex":327},{"cfgs":[329],"code":"public void setData(Set<Map<String, Object>> data) ","dfgs":[329],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_AmbariConfiguration.java","fieldParents":[],"isDel":true,"lineBeg":60,"lineEnd":60,"lineMapIndex":810,"methodParents":[],"nodeIndex":328},{"cfgs":[],"code":"this.data = data","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_AmbariConfiguration.java","fieldParents":[325],"isDel":true,"lineBeg":61,"lineEnd":61,"lineMapIndex":811,"methodParents":[],"nodeIndex":329},{"cfgs":[331],"code":"public String getVersionTag() ","dfgs":[331],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_AmbariConfiguration.java","fieldParents":[],"isDel":true,"lineBeg":64,"lineEnd":64,"lineMapIndex":-1,"methodParents":[],"nodeIndex":330},{"cfgs":[],"code":"return versionTag","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_AmbariConfiguration.java","fieldParents":[322],"isDel":true,"lineBeg":65,"lineEnd":65,"lineMapIndex":-1,"methodParents":[],"nodeIndex":331},{"cfgs":[333],"code":"public void setVersionTag(String versionTag) ","dfgs":[333],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_AmbariConfiguration.java","fieldParents":[],"isDel":true,"lineBeg":68,"lineEnd":68,"lineMapIndex":-1,"methodParents":[],"nodeIndex":332},{"cfgs":[],"code":"this.versionTag = versionTag","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_AmbariConfiguration.java","fieldParents":[322],"isDel":true,"lineBeg":69,"lineEnd":69,"lineMapIndex":-1,"methodParents":[],"nodeIndex":333},{"cfgs":[335],"code":"public Integer getVersion() ","dfgs":[335],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_AmbariConfiguration.java","fieldParents":[],"isDel":true,"lineBeg":72,"lineEnd":72,"lineMapIndex":-1,"methodParents":[],"nodeIndex":334},{"cfgs":[],"code":"return version","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_AmbariConfiguration.java","fieldParents":[323],"isDel":true,"lineBeg":73,"lineEnd":73,"lineMapIndex":-1,"methodParents":[],"nodeIndex":335},{"cfgs":[337],"code":"public void setVersion(Integer version) ","dfgs":[337],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_AmbariConfiguration.java","fieldParents":[],"isDel":true,"lineBeg":76,"lineEnd":76,"lineMapIndex":-1,"methodParents":[],"nodeIndex":336},{"cfgs":[],"code":"this.version = version","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_AmbariConfiguration.java","fieldParents":[323],"isDel":true,"lineBeg":77,"lineEnd":77,"lineMapIndex":-1,"methodParents":[],"nodeIndex":337},{"cfgs":[339],"code":"public long getCreatedTs() ","dfgs":[339],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_AmbariConfiguration.java","fieldParents":[],"isDel":true,"lineBeg":80,"lineEnd":80,"lineMapIndex":-1,"methodParents":[],"nodeIndex":338},{"cfgs":[],"code":"return createdTs","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_AmbariConfiguration.java","fieldParents":[324],"isDel":true,"lineBeg":81,"lineEnd":81,"lineMapIndex":-1,"methodParents":[],"nodeIndex":339},{"cfgs":[341],"code":"public void setCreatedTs(long createdTs) ","dfgs":[341],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_AmbariConfiguration.java","fieldParents":[],"isDel":true,"lineBeg":84,"lineEnd":84,"lineMapIndex":-1,"methodParents":[],"nodeIndex":340},{"cfgs":[],"code":"this.createdTs = createdTs","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_AmbariConfiguration.java","fieldParents":[324],"isDel":true,"lineBeg":85,"lineEnd":85,"lineMapIndex":-1,"methodParents":[],"nodeIndex":341},{"cfgs":[],"code":"import org.apache.commons.lang3.builder.EqualsBuilder","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_domain_AmbariLdapConfiguration.java","fieldParents":[],"isDel":true,"lineBeg":22,"lineEnd":22,"lineMapIndex":812,"methodParents":[],"nodeIndex":342},{"cfgs":[],"code":"import org.apache.commons.lang3.builder.HashCodeBuilder","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_domain_AmbariLdapConfiguration.java","fieldParents":[],"isDel":true,"lineBeg":23,"lineEnd":23,"lineMapIndex":813,"methodParents":[],"nodeIndex":343},{"cfgs":[345],"code":"if (this == o)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_domain_AmbariLdapConfiguration.java","fieldParents":[],"isDel":true,"lineBeg":182,"lineEnd":182,"lineMapIndex":814,"methodParents":[],"nodeIndex":344},{"cfgs":[346],"code":"if (o == null || getClass() != o.getClass())","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_domain_AmbariLdapConfiguration.java","fieldParents":[],"isDel":true,"lineBeg":184,"lineEnd":184,"lineMapIndex":816,"methodParents":[],"nodeIndex":345},{"cfgs":[],"code":"return new EqualsBuilder().append(configurationMap, that.configurationMap).isEquals()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_domain_AmbariLdapConfiguration.java","fieldParents":[],"isDel":true,"lineBeg":188,"lineEnd":190,"lineMapIndex":818,"methodParents":[],"nodeIndex":346},{"cfgs":[],"code":"return new HashCodeBuilder(17, 37).append(configurationMap).toHashCode()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_domain_AmbariLdapConfiguration.java","fieldParents":[],"isDel":true,"lineBeg":195,"lineEnd":197,"lineMapIndex":819,"methodParents":[],"nodeIndex":347},{"cfgs":[],"code":"import static org.apache.ambari.server.controller.internal.AmbariConfigurationResourceProvider.AMBARI_CONFIGURATION_CATEGORY_PROPERTY_ID","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":17,"lineEnd":17,"lineMapIndex":-1,"methodParents":[],"nodeIndex":348},{"cfgs":[],"code":"import static org.apache.ambari.server.controller.internal.AmbariConfigurationResourceProvider.AMBARI_CONFIGURATION_PROPERTIES_PROPERTY_ID","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":18,"lineEnd":18,"lineMapIndex":-1,"methodParents":[],"nodeIndex":349},{"cfgs":[],"code":"import static org.easymock.EasyMock.anyObject","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":19,"lineEnd":19,"lineMapIndex":-1,"methodParents":[],"nodeIndex":350},{"cfgs":[],"code":"import static org.easymock.EasyMock.capture","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":20,"lineEnd":20,"lineMapIndex":-1,"methodParents":[],"nodeIndex":351},{"cfgs":[],"code":"import static org.easymock.EasyMock.eq","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":21,"lineEnd":21,"lineMapIndex":-1,"methodParents":[],"nodeIndex":352},{"cfgs":[],"code":"import static org.easymock.EasyMock.expect","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":22,"lineEnd":22,"lineMapIndex":-1,"methodParents":[],"nodeIndex":353},{"cfgs":[],"code":"import static org.easymock.EasyMock.expectLastCall","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":23,"lineEnd":23,"lineMapIndex":-1,"methodParents":[],"nodeIndex":354},{"cfgs":[],"code":"import static org.easymock.EasyMock.newCapture","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":24,"lineEnd":24,"lineMapIndex":2,"methodParents":[],"nodeIndex":355},{"cfgs":[],"code":"import java.util.ArrayList","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":26,"lineEnd":26,"lineMapIndex":-1,"methodParents":[],"nodeIndex":356},{"cfgs":[],"code":"import java.util.HashMap","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":27,"lineEnd":27,"lineMapIndex":-1,"methodParents":[],"nodeIndex":357},{"cfgs":[],"code":"import java.util.HashSet","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":28,"lineEnd":28,"lineMapIndex":-1,"methodParents":[],"nodeIndex":358},{"cfgs":[],"code":"import java.util.List","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":29,"lineEnd":29,"lineMapIndex":-1,"methodParents":[],"nodeIndex":359},{"cfgs":[],"code":"import java.util.TreeMap","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":32,"lineEnd":32,"lineMapIndex":-1,"methodParents":[],"nodeIndex":360},{"cfgs":[],"code":"import javax.persistence.EntityManager","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":34,"lineEnd":34,"lineMapIndex":-1,"methodParents":[],"nodeIndex":361},{"cfgs":[],"code":"import org.apache.ambari.server.controller.spi.ResourceProvider","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":39,"lineEnd":39,"lineMapIndex":-1,"methodParents":[],"nodeIndex":362},{"cfgs":[],"code":"import org.apache.ambari.server.events.AmbariConfigurationChangedEvent","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":41,"lineEnd":41,"lineMapIndex":0,"methodParents":[],"nodeIndex":363},{"cfgs":[],"code":"import org.apache.ambari.server.security.TestAuthenticationFactory","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":45,"lineEnd":45,"lineMapIndex":1,"methodParents":[],"nodeIndex":364},{"cfgs":[],"code":"import org.apache.ambari.server.security.authorization.AuthorizationException","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":46,"lineEnd":46,"lineMapIndex":-1,"methodParents":[],"nodeIndex":365},{"cfgs":[],"code":"import org.junit.After","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":49,"lineEnd":49,"lineMapIndex":8,"methodParents":[],"nodeIndex":366},{"cfgs":[],"code":"import org.springframework.security.core.Authentication","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":51,"lineEnd":51,"lineMapIndex":-1,"methodParents":[],"nodeIndex":367},{"cfgs":[],"code":"import org.springframework.security.core.context.SecurityContextHolder","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":52,"lineEnd":52,"lineMapIndex":-1,"methodParents":[],"nodeIndex":368},{"cfgs":[],"code":"import com.google.inject.AbstractModule","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":54,"lineEnd":54,"lineMapIndex":12,"methodParents":[],"nodeIndex":369},{"cfgs":[],"code":"import com.google.inject.Guice","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":55,"lineEnd":55,"lineMapIndex":13,"methodParents":[],"nodeIndex":370},{"cfgs":[],"code":"import com.google.inject.Injector","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":56,"lineEnd":56,"lineMapIndex":11,"methodParents":[],"nodeIndex":371},{"cfgs":[373],"code":"private static final String CATEGORY_NAME_1 = \"test-category-1\"","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":60,"lineEnd":60,"lineMapIndex":-1,"methodParents":[],"nodeIndex":372},{"cfgs":[],"code":"private static final String CATEGORY_NAME_2 = \"test-category-2\"","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":61,"lineEnd":61,"lineMapIndex":-1,"methodParents":[],"nodeIndex":373},{"cfgs":[],"code":"public void clearAuthentication() ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":64,"lineEnd":64,"lineMapIndex":-1,"methodParents":[],"nodeIndex":374},{"cfgs":[],"code":"SecurityContextHolder.getContext().setAuthentication(null)","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":65,"lineEnd":65,"lineMapIndex":-1,"methodParents":[],"nodeIndex":375},{"cfgs":[],"code":"public void testCreateResources_Administrator() throws Exception ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":69,"lineEnd":69,"lineMapIndex":-1,"methodParents":[],"nodeIndex":376},{"cfgs":[],"code":"testCreateResources(TestAuthenticationFactory.createAdministrator())","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":70,"lineEnd":70,"lineMapIndex":-1,"methodParents":[386],"nodeIndex":377},{"cfgs":[],"code":"public void testCreateResources_ClusterAdministrator() throws Exception ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":74,"lineEnd":74,"lineMapIndex":-1,"methodParents":[],"nodeIndex":378},{"cfgs":[],"code":"testCreateResources(TestAuthenticationFactory.createClusterAdministrator())","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":75,"lineEnd":75,"lineMapIndex":-1,"methodParents":[386],"nodeIndex":379},{"cfgs":[],"code":"public void testCreateResources_ClusterOperator() throws Exception ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":79,"lineEnd":79,"lineMapIndex":-1,"methodParents":[],"nodeIndex":380},{"cfgs":[],"code":"testCreateResources(TestAuthenticationFactory.createClusterOperator())","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":80,"lineEnd":80,"lineMapIndex":-1,"methodParents":[386],"nodeIndex":381},{"cfgs":[],"code":"public void testCreateResources_ServiceAdministrator() throws Exception ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":84,"lineEnd":84,"lineMapIndex":-1,"methodParents":[],"nodeIndex":382},{"cfgs":[],"code":"testCreateResources(TestAuthenticationFactory.createServiceAdministrator())","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":85,"lineEnd":85,"lineMapIndex":-1,"methodParents":[386],"nodeIndex":383},{"cfgs":[],"code":"public void testCreateResources_ServiceOperator() throws Exception ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":89,"lineEnd":89,"lineMapIndex":-1,"methodParents":[],"nodeIndex":384},{"cfgs":[],"code":"testCreateResources(TestAuthenticationFactory.createServiceOperator())","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":90,"lineEnd":90,"lineMapIndex":-1,"methodParents":[386],"nodeIndex":385},{"cfgs":[387],"code":"private void testCreateResources(Authentication authentication) throws Exception ","dfgs":[389,390,394,391,392,393,395,396,397,406,407,410,408,409,411,412,387,388,398,399,400,401,402,403,404,405],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":93,"lineEnd":93,"lineMapIndex":-1,"methodParents":[],"nodeIndex":386},{"cfgs":[388],"code":"Injector injector = createInjector()","dfgs":[388,393],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":94,"lineEnd":94,"lineMapIndex":-1,"methodParents":[525],"nodeIndex":387},{"cfgs":[389],"code":"ResourceProvider resourceProvider = injector.getInstance(AmbariConfigurationResourceProvider.class)","dfgs":[409,402],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":96,"lineEnd":96,"lineMapIndex":-1,"methodParents":[],"nodeIndex":388},{"cfgs":[390],"code":"Set<Map<String, Object>> propertySets = new HashSet<>()","dfgs":[393],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":98,"lineEnd":98,"lineMapIndex":-1,"methodParents":[],"nodeIndex":389},{"cfgs":[391],"code":"Map<String, String> properties1 = new HashMap<>()","dfgs":[391],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":100,"lineEnd":100,"lineMapIndex":-1,"methodParents":[],"nodeIndex":390},{"cfgs":[392],"code":"properties1.put(\"property1a\", \"value1\")","dfgs":[392],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":101,"lineEnd":101,"lineMapIndex":-1,"methodParents":[],"nodeIndex":391},{"cfgs":[393],"code":"properties1.put(\"property2a\", \"value2\")","dfgs":[393],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":102,"lineEnd":102,"lineMapIndex":-1,"methodParents":[],"nodeIndex":392},{"cfgs":[394],"code":"propertySets.add(toRequestProperties(CATEGORY_NAME_1, properties1))","dfgs":[397,411,403],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[372],"isDel":false,"lineBeg":103,"lineEnd":103,"lineMapIndex":-1,"methodParents":[512],"nodeIndex":393},{"cfgs":[395],"code":"Map<String, String> properties2 = new HashMap<>()","dfgs":[395],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":105,"lineEnd":105,"lineMapIndex":-1,"methodParents":[],"nodeIndex":394},{"cfgs":[396],"code":"properties2.put(\"property1b\", \"value1\")","dfgs":[396],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":106,"lineEnd":106,"lineMapIndex":-1,"methodParents":[],"nodeIndex":395},{"cfgs":[397],"code":"properties2.put(\"property2b\", \"value2\")","dfgs":[397],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":107,"lineEnd":107,"lineMapIndex":-1,"methodParents":[],"nodeIndex":396},{"cfgs":[398],"code":"propertySets.add(toRequestProperties(CATEGORY_NAME_2, properties2))","dfgs":[412,398,399,404],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[373],"isDel":false,"lineBeg":108,"lineEnd":108,"lineMapIndex":-1,"methodParents":[512],"nodeIndex":397},{"cfgs":[399],"code":"Request request = createMock(Request.class)","dfgs":[399],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":110,"lineEnd":110,"lineMapIndex":-1,"methodParents":[],"nodeIndex":398},{"cfgs":[400],"code":"expect(request.getProperties()).andReturn(propertySets).once()","dfgs":[409,400],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":111,"lineEnd":111,"lineMapIndex":-1,"methodParents":[755],"nodeIndex":399},{"cfgs":[401],"code":"Capture<Map<String, String>> capturedProperties1 = newCapture()","dfgs":[401,403],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":113,"lineEnd":113,"lineMapIndex":-1,"methodParents":[],"nodeIndex":400},{"cfgs":[402],"code":"Capture<Map<String, String>> capturedProperties2 = newCapture()","dfgs":[403,404],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":114,"lineEnd":114,"lineMapIndex":-1,"methodParents":[],"nodeIndex":401},{"cfgs":[403],"code":"AmbariConfigurationDAO dao = injector.getInstance(AmbariConfigurationDAO.class)","dfgs":[405,403],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":116,"lineEnd":116,"lineMapIndex":-1,"methodParents":[],"nodeIndex":402},{"cfgs":[404],"code":"expect(dao.reconcileCategory(eq(CATEGORY_NAME_1), capture(capturedProperties1), eq(true))).andReturn(true).once()","dfgs":[411,404],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[372],"isDel":false,"lineBeg":117,"lineEnd":119,"lineMapIndex":-1,"methodParents":[724],"nodeIndex":403},{"cfgs":[405],"code":"expect(dao.reconcileCategory(eq(CATEGORY_NAME_2), capture(capturedProperties2), eq(true))).andReturn(true).once()","dfgs":[412,406],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[373],"isDel":false,"lineBeg":120,"lineEnd":122,"lineMapIndex":-1,"methodParents":[724],"nodeIndex":404},{"cfgs":[406],"code":"AmbariEventPublisher publisher = injector.getInstance(AmbariEventPublisher.class)","dfgs":[406],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":124,"lineEnd":124,"lineMapIndex":-1,"methodParents":[],"nodeIndex":405},{"cfgs":[407],"code":"publisher.publish(anyObject(AmbariConfigurationChangedEvent.class))","dfgs":[407],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":125,"lineEnd":125,"lineMapIndex":-1,"methodParents":[],"nodeIndex":406},{"cfgs":[408],"code":"expectLastCall().times(2)","dfgs":[410],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":126,"lineEnd":126,"lineMapIndex":-1,"methodParents":[],"nodeIndex":407},{"cfgs":[409],"code":"SecurityContextHolder.getContext().setAuthentication(authentication)","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":130,"lineEnd":130,"lineMapIndex":-1,"methodParents":[],"nodeIndex":408},{"cfgs":[410],"code":"resourceProvider.createResources(request)","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":132,"lineEnd":132,"lineMapIndex":-1,"methodParents":[],"nodeIndex":409},{"cfgs":[411],"code":"verifyAll()","dfgs":[411],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":134,"lineEnd":134,"lineMapIndex":-1,"methodParents":[],"nodeIndex":410},{"cfgs":[412],"code":"validateCapturedProperties(properties1, capturedProperties1)","dfgs":[412],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":136,"lineEnd":136,"lineMapIndex":-1,"methodParents":[518],"nodeIndex":411},{"cfgs":[],"code":"validateCapturedProperties(properties2, capturedProperties2)","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":137,"lineEnd":137,"lineMapIndex":-1,"methodParents":[518],"nodeIndex":412},{"cfgs":[],"code":"public void testDeleteResources_Administrator() throws Exception ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":141,"lineEnd":141,"lineMapIndex":-1,"methodParents":[],"nodeIndex":413},{"cfgs":[],"code":"testDeleteResources(TestAuthenticationFactory.createAdministrator())","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":142,"lineEnd":142,"lineMapIndex":-1,"methodParents":[423],"nodeIndex":414},{"cfgs":[],"code":"public void testDeleteResources_ClusterAdministrator() throws Exception ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":146,"lineEnd":146,"lineMapIndex":-1,"methodParents":[],"nodeIndex":415},{"cfgs":[],"code":"testDeleteResources(TestAuthenticationFactory.createClusterAdministrator())","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":147,"lineEnd":147,"lineMapIndex":-1,"methodParents":[423],"nodeIndex":416},{"cfgs":[],"code":"public void testDeleteResources_ClusterOperator() throws Exception ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":151,"lineEnd":151,"lineMapIndex":-1,"methodParents":[],"nodeIndex":417},{"cfgs":[],"code":"testDeleteResources(TestAuthenticationFactory.createClusterOperator())","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":152,"lineEnd":152,"lineMapIndex":-1,"methodParents":[423],"nodeIndex":418},{"cfgs":[],"code":"public void testDeleteResources_ServiceAdministrator() throws Exception ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":156,"lineEnd":156,"lineMapIndex":-1,"methodParents":[],"nodeIndex":419},{"cfgs":[],"code":"testDeleteResources(TestAuthenticationFactory.createServiceAdministrator())","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":157,"lineEnd":157,"lineMapIndex":-1,"methodParents":[423],"nodeIndex":420},{"cfgs":[],"code":"public void testDeleteResources_ServiceOperator() throws Exception ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":161,"lineEnd":161,"lineMapIndex":-1,"methodParents":[],"nodeIndex":421},{"cfgs":[],"code":"testDeleteResources(TestAuthenticationFactory.createServiceOperator())","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":162,"lineEnd":162,"lineMapIndex":-1,"methodParents":[423],"nodeIndex":422},{"cfgs":[424],"code":"private void testDeleteResources(Authentication authentication) throws Exception ","dfgs":[431,435,433,434,424,425,427,428,429,430,432,426],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":165,"lineEnd":165,"lineMapIndex":-1,"methodParents":[],"nodeIndex":423},{"cfgs":[425],"code":"Injector injector = createInjector()","dfgs":[425,427],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":166,"lineEnd":166,"lineMapIndex":-1,"methodParents":[525],"nodeIndex":424},{"cfgs":[426],"code":"ResourceProvider resourceProvider = injector.getInstance(AmbariConfigurationResourceProvider.class)","dfgs":[434,428],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":168,"lineEnd":168,"lineMapIndex":-1,"methodParents":[],"nodeIndex":425},{"cfgs":[427],"code":"Predicate predicate = new PredicateBuilder().property(AMBARI_CONFIGURATION_CATEGORY_PROPERTY_ID).equals(CATEGORY_NAME_1).toPredicate()","dfgs":[434,429],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[372],"isDel":false,"lineBeg":170,"lineEnd":173,"lineMapIndex":-1,"methodParents":[676],"nodeIndex":426},{"cfgs":[428],"code":"Request request = createMock(Request.class)","dfgs":[434,429],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":175,"lineEnd":175,"lineMapIndex":-1,"methodParents":[],"nodeIndex":427},{"cfgs":[429],"code":"AmbariConfigurationDAO dao = injector.getInstance(AmbariConfigurationDAO.class)","dfgs":[430,429],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":177,"lineEnd":177,"lineMapIndex":-1,"methodParents":[],"nodeIndex":428},{"cfgs":[430],"code":"expect(dao.removeByCategory(CATEGORY_NAME_1)).andReturn(1).once()","dfgs":[431],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[372],"isDel":false,"lineBeg":178,"lineEnd":178,"lineMapIndex":-1,"methodParents":[704],"nodeIndex":429},{"cfgs":[431],"code":"AmbariEventPublisher publisher = injector.getInstance(AmbariEventPublisher.class)","dfgs":[431],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":180,"lineEnd":180,"lineMapIndex":-1,"methodParents":[],"nodeIndex":430},{"cfgs":[432],"code":"publisher.publish(anyObject(AmbariConfigurationChangedEvent.class))","dfgs":[432],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":181,"lineEnd":181,"lineMapIndex":-1,"methodParents":[],"nodeIndex":431},{"cfgs":[433],"code":"expectLastCall().once()","dfgs":[435],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":182,"lineEnd":182,"lineMapIndex":-1,"methodParents":[],"nodeIndex":432},{"cfgs":[434],"code":"SecurityContextHolder.getContext().setAuthentication(authentication)","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":186,"lineEnd":186,"lineMapIndex":-1,"methodParents":[],"nodeIndex":433},{"cfgs":[435],"code":"resourceProvider.deleteResources(request, predicate)","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":188,"lineEnd":188,"lineMapIndex":-1,"methodParents":[],"nodeIndex":434},{"cfgs":[],"code":"verifyAll()","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":190,"lineEnd":190,"lineMapIndex":-1,"methodParents":[],"nodeIndex":435},{"cfgs":[],"code":"public void testGetResources_Administrator() throws Exception ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":194,"lineEnd":194,"lineMapIndex":-1,"methodParents":[],"nodeIndex":436},{"cfgs":[],"code":"testGetResources(TestAuthenticationFactory.createAdministrator())","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":195,"lineEnd":195,"lineMapIndex":-1,"methodParents":[446],"nodeIndex":437},{"cfgs":[],"code":"public void testGetResources_ClusterAdministrator() throws Exception ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":199,"lineEnd":199,"lineMapIndex":-1,"methodParents":[],"nodeIndex":438},{"cfgs":[],"code":"testGetResources(TestAuthenticationFactory.createClusterAdministrator())","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":200,"lineEnd":200,"lineMapIndex":-1,"methodParents":[446],"nodeIndex":439},{"cfgs":[],"code":"public void testGetResources_ClusterOperator() throws Exception ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":204,"lineEnd":204,"lineMapIndex":-1,"methodParents":[],"nodeIndex":440},{"cfgs":[],"code":"testGetResources(TestAuthenticationFactory.createClusterOperator())","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":205,"lineEnd":205,"lineMapIndex":-1,"methodParents":[446],"nodeIndex":441},{"cfgs":[],"code":"public void testGetResources_ServiceAdministrator() throws Exception ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":209,"lineEnd":209,"lineMapIndex":-1,"methodParents":[],"nodeIndex":442},{"cfgs":[],"code":"testGetResources(TestAuthenticationFactory.createServiceAdministrator())","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":210,"lineEnd":210,"lineMapIndex":-1,"methodParents":[446],"nodeIndex":443},{"cfgs":[],"code":"public void testGetResources_ServiceOperator() throws Exception ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":214,"lineEnd":214,"lineMapIndex":-1,"methodParents":[],"nodeIndex":444},{"cfgs":[],"code":"testGetResources(TestAuthenticationFactory.createServiceOperator())","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":215,"lineEnd":215,"lineMapIndex":-1,"methodParents":[446],"nodeIndex":445},{"cfgs":[447],"code":"private void testGetResources(Authentication authentication) throws Exception ","dfgs":[452,453,454,459,457,460,461,465,468,447,448,450,451,455,458,463,464,466,467,469,456,462,449,470],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":218,"lineEnd":218,"lineMapIndex":-1,"methodParents":[],"nodeIndex":446},{"cfgs":[448],"code":"Injector injector = createInjector()","dfgs":[448,450],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":219,"lineEnd":219,"lineMapIndex":-1,"methodParents":[525],"nodeIndex":447},{"cfgs":[449],"code":"ResourceProvider resourceProvider = injector.getInstance(AmbariConfigurationResourceProvider.class)","dfgs":[455,458],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":221,"lineEnd":221,"lineMapIndex":-1,"methodParents":[],"nodeIndex":448},{"cfgs":[450],"code":"Predicate predicate = new PredicateBuilder().property(AMBARI_CONFIGURATION_CATEGORY_PROPERTY_ID).equals(CATEGORY_NAME_1).toPredicate()","dfgs":[458,456],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[372],"isDel":false,"lineBeg":223,"lineEnd":226,"lineMapIndex":-1,"methodParents":[676],"nodeIndex":449},{"cfgs":[451],"code":"Request request = createMock(Request.class)","dfgs":[451],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":228,"lineEnd":228,"lineMapIndex":-1,"methodParents":[],"nodeIndex":450},{"cfgs":[452],"code":"expect(request.getPropertyIds()).andReturn(null).anyTimes()","dfgs":[458,456],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":229,"lineEnd":229,"lineMapIndex":-1,"methodParents":[],"nodeIndex":451},{"cfgs":[453],"code":"Map<String, String> properties = new HashMap<>()","dfgs":[453],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":231,"lineEnd":231,"lineMapIndex":-1,"methodParents":[],"nodeIndex":452},{"cfgs":[454],"code":"properties.put(\"property1a\", \"value1\")","dfgs":[454],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":232,"lineEnd":232,"lineMapIndex":-1,"methodParents":[],"nodeIndex":453},{"cfgs":[455],"code":"properties.put(\"property2a\", \"value2\")","dfgs":[456],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":233,"lineEnd":233,"lineMapIndex":-1,"methodParents":[],"nodeIndex":454},{"cfgs":[456],"code":"AmbariConfigurationDAO dao = injector.getInstance(AmbariConfigurationDAO.class)","dfgs":[456],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":235,"lineEnd":235,"lineMapIndex":-1,"methodParents":[],"nodeIndex":455},{"cfgs":[457],"code":"expect(dao.findByCategory(CATEGORY_NAME_1)).andReturn(createEntities(CATEGORY_NAME_1, properties)).once()","dfgs":[459,466,469],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[372],"isDel":false,"lineBeg":236,"lineEnd":236,"lineMapIndex":-1,"methodParents":[700],"nodeIndex":456},{"cfgs":[458],"code":"SecurityContextHolder.getContext().setAuthentication(authentication)","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":240,"lineEnd":240,"lineMapIndex":-1,"methodParents":[],"nodeIndex":457},{"cfgs":[459],"code":"Set<Resource> response = resourceProvider.getResources(request, predicate)","dfgs":[460],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":242,"lineEnd":242,"lineMapIndex":-1,"methodParents":[],"nodeIndex":458},{"cfgs":[460],"code":"verifyAll()","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":244,"lineEnd":244,"lineMapIndex":-1,"methodParents":[],"nodeIndex":459},{"cfgs":[461],"code":"junit.framework.Assert.assertNotNull(response)","dfgs":[461],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":246,"lineEnd":246,"lineMapIndex":-1,"methodParents":[],"nodeIndex":460},{"cfgs":[462],"code":"junit.framework.Assert.assertEquals(1, response.size())","dfgs":[463,462],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":247,"lineEnd":247,"lineMapIndex":-1,"methodParents":[],"nodeIndex":461},{"cfgs":[463],"code":"Resource resource = response.iterator().next()","dfgs":[463],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":249,"lineEnd":249,"lineMapIndex":-1,"methodParents":[],"nodeIndex":462},{"cfgs":[464],"code":"junit.framework.Assert.assertEquals(Resource.Type.AmbariConfiguration, resource.getType())","dfgs":[465,464,466],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":250,"lineEnd":250,"lineMapIndex":-1,"methodParents":[],"nodeIndex":463},{"cfgs":[465],"code":"Map<String, Map<String, Object>> propertiesMap = resource.getPropertiesMap()","dfgs":[465],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":252,"lineEnd":252,"lineMapIndex":-1,"methodParents":[],"nodeIndex":464},{"cfgs":[466],"code":"junit.framework.Assert.assertEquals(2, propertiesMap.size())","dfgs":[466],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":253,"lineEnd":253,"lineMapIndex":-1,"methodParents":[],"nodeIndex":465},{"cfgs":[467],"code":"junit.framework.Assert.assertEquals(CATEGORY_NAME_1, propertiesMap.get(Resource.Type.AmbariConfiguration.name()).get(\"category\"))","dfgs":[468,467],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[372],"isDel":false,"lineBeg":255,"lineEnd":255,"lineMapIndex":-1,"methodParents":[],"nodeIndex":466},{"cfgs":[468],"code":"Map<String, Object> retrievedProperties = propertiesMap.get(Resource.Type.AmbariConfiguration.name() + \"/properties\")","dfgs":[468],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":257,"lineEnd":257,"lineMapIndex":-1,"methodParents":[],"nodeIndex":467},{"cfgs":[469],"code":"junit.framework.Assert.assertEquals(2, retrievedProperties.size())","dfgs":[470],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":258,"lineEnd":258,"lineMapIndex":-1,"methodParents":[],"nodeIndex":468},{"cfgs":[470],"code":"for (Map.Entry<String, String> entry : properties.entrySet())","dfgs":[470],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":260,"lineEnd":260,"lineMapIndex":-1,"methodParents":[],"nodeIndex":469},{"cfgs":[],"code":"junit.framework.Assert.assertEquals(entry.getValue(), retrievedProperties.get(entry.getKey()))","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":261,"lineEnd":261,"lineMapIndex":-1,"methodParents":[],"nodeIndex":470},{"cfgs":[],"code":"public void testUpdateResources_Administrator() throws Exception ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":266,"lineEnd":266,"lineMapIndex":-1,"methodParents":[],"nodeIndex":471},{"cfgs":[],"code":"testUpdateResources(TestAuthenticationFactory.createAdministrator())","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":267,"lineEnd":267,"lineMapIndex":-1,"methodParents":[481],"nodeIndex":472},{"cfgs":[],"code":"public void testUpdateResources_ClusterAdministrator() throws Exception ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":271,"lineEnd":271,"lineMapIndex":-1,"methodParents":[],"nodeIndex":473},{"cfgs":[],"code":"testUpdateResources(TestAuthenticationFactory.createClusterAdministrator())","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":272,"lineEnd":272,"lineMapIndex":-1,"methodParents":[481],"nodeIndex":474},{"cfgs":[],"code":"public void testUpdateResources_ClusterOperator() throws Exception ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":276,"lineEnd":276,"lineMapIndex":-1,"methodParents":[],"nodeIndex":475},{"cfgs":[],"code":"testUpdateResources(TestAuthenticationFactory.createClusterOperator())","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":277,"lineEnd":277,"lineMapIndex":-1,"methodParents":[481],"nodeIndex":476},{"cfgs":[],"code":"public void testUpdateResources_ServiceAdministrator() throws Exception ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":281,"lineEnd":281,"lineMapIndex":-1,"methodParents":[],"nodeIndex":477},{"cfgs":[],"code":"testUpdateResources(TestAuthenticationFactory.createServiceAdministrator())","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":282,"lineEnd":282,"lineMapIndex":-1,"methodParents":[481],"nodeIndex":478},{"cfgs":[],"code":"public void testUpdateResources_ServiceOperator() throws Exception ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":286,"lineEnd":286,"lineMapIndex":-1,"methodParents":[],"nodeIndex":479},{"cfgs":[],"code":"testUpdateResources(TestAuthenticationFactory.createServiceOperator())","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":287,"lineEnd":287,"lineMapIndex":-1,"methodParents":[481],"nodeIndex":480},{"cfgs":[482],"code":"private void testUpdateResources(Authentication authentication) throws Exception ","dfgs":[485,486,487,488,489,496,497,498,499,500,501,502,482,483,490,491,492,493,494,495,484],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":290,"lineEnd":290,"lineMapIndex":-1,"methodParents":[],"nodeIndex":481},{"cfgs":[483],"code":"Injector injector = createInjector()","dfgs":[483,489],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":291,"lineEnd":291,"lineMapIndex":-1,"methodParents":[525],"nodeIndex":482},{"cfgs":[484],"code":"ResourceProvider resourceProvider = injector.getInstance(AmbariConfigurationResourceProvider.class)","dfgs":[500,493],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":293,"lineEnd":293,"lineMapIndex":-1,"methodParents":[],"nodeIndex":483},{"cfgs":[485],"code":"Predicate predicate = new PredicateBuilder().property(AMBARI_CONFIGURATION_CATEGORY_PROPERTY_ID).equals(CATEGORY_NAME_1).toPredicate()","dfgs":[500,489],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[372],"isDel":false,"lineBeg":295,"lineEnd":298,"lineMapIndex":-1,"methodParents":[676],"nodeIndex":484},{"cfgs":[486],"code":"Set<Map<String, Object>> propertySets = new HashSet<>()","dfgs":[489],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":300,"lineEnd":300,"lineMapIndex":-1,"methodParents":[],"nodeIndex":485},{"cfgs":[487],"code":"Map<String, String> properties1 = new HashMap<>()","dfgs":[487],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":302,"lineEnd":302,"lineMapIndex":-1,"methodParents":[],"nodeIndex":486},{"cfgs":[488],"code":"properties1.put(\"property1a\", \"value1\")","dfgs":[488],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":303,"lineEnd":303,"lineMapIndex":-1,"methodParents":[],"nodeIndex":487},{"cfgs":[489],"code":"properties1.put(\"property2a\", \"value2\")","dfgs":[489],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":304,"lineEnd":304,"lineMapIndex":-1,"methodParents":[],"nodeIndex":488},{"cfgs":[490],"code":"propertySets.add(toRequestProperties(CATEGORY_NAME_1, properties1))","dfgs":[502,490,491,494],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[372],"isDel":false,"lineBeg":305,"lineEnd":305,"lineMapIndex":-1,"methodParents":[512],"nodeIndex":489},{"cfgs":[491],"code":"Request request = createMock(Request.class)","dfgs":[491],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":307,"lineEnd":307,"lineMapIndex":-1,"methodParents":[],"nodeIndex":490},{"cfgs":[492],"code":"expect(request.getProperties()).andReturn(propertySets).once()","dfgs":[500,492],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":308,"lineEnd":308,"lineMapIndex":-1,"methodParents":[755],"nodeIndex":491},{"cfgs":[493],"code":"Capture<Map<String, String>> capturedProperties1 = newCapture()","dfgs":[494],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":310,"lineEnd":310,"lineMapIndex":-1,"methodParents":[],"nodeIndex":492},{"cfgs":[494],"code":"AmbariConfigurationDAO dao = injector.getInstance(AmbariConfigurationDAO.class)","dfgs":[495,494],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":312,"lineEnd":312,"lineMapIndex":-1,"methodParents":[],"nodeIndex":493},{"cfgs":[495],"code":"expect(dao.reconcileCategory(eq(CATEGORY_NAME_1), capture(capturedProperties1), eq(false))).andReturn(true).once()","dfgs":[502,496],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[372],"isDel":false,"lineBeg":313,"lineEnd":315,"lineMapIndex":-1,"methodParents":[724],"nodeIndex":494},{"cfgs":[496],"code":"AmbariEventPublisher publisher = injector.getInstance(AmbariEventPublisher.class)","dfgs":[496],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":317,"lineEnd":317,"lineMapIndex":-1,"methodParents":[],"nodeIndex":495},{"cfgs":[497],"code":"publisher.publish(anyObject(AmbariConfigurationChangedEvent.class))","dfgs":[497],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":318,"lineEnd":318,"lineMapIndex":-1,"methodParents":[],"nodeIndex":496},{"cfgs":[498],"code":"expectLastCall().times(1)","dfgs":[498],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":319,"lineEnd":319,"lineMapIndex":-1,"methodParents":[],"nodeIndex":497},{"cfgs":[499],"code":"replayAll()","dfgs":[501],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":321,"lineEnd":321,"lineMapIndex":47,"methodParents":[],"nodeIndex":498},{"cfgs":[500],"code":"SecurityContextHolder.getContext().setAuthentication(authentication)","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":323,"lineEnd":323,"lineMapIndex":-1,"methodParents":[],"nodeIndex":499},{"cfgs":[501],"code":"resourceProvider.updateResources(request, predicate)","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":325,"lineEnd":325,"lineMapIndex":-1,"methodParents":[],"nodeIndex":500},{"cfgs":[502],"code":"verifyAll()","dfgs":[502],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":327,"lineEnd":327,"lineMapIndex":-1,"methodParents":[],"nodeIndex":501},{"cfgs":[],"code":"validateCapturedProperties(properties1, capturedProperties1)","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":329,"lineEnd":329,"lineMapIndex":-1,"methodParents":[518],"nodeIndex":502},{"cfgs":[504],"code":"private List<AmbariConfigurationEntity> createEntities(String categoryName, Map<String, String> properties) ","dfgs":[504,511,505,506,507,508,509,510],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":332,"lineEnd":332,"lineMapIndex":-1,"methodParents":[],"nodeIndex":503},{"cfgs":[505],"code":"List<AmbariConfigurationEntity> entities = new ArrayList<>()","dfgs":[511,510],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":333,"lineEnd":333,"lineMapIndex":-1,"methodParents":[],"nodeIndex":504},{"cfgs":[511,506],"code":"for (Map.Entry<String, String> property : properties.entrySet())","dfgs":[508],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":335,"lineEnd":335,"lineMapIndex":-1,"methodParents":[],"nodeIndex":505},{"cfgs":[507],"code":"AmbariConfigurationEntity entity = new AmbariConfigurationEntity()","dfgs":[507],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":336,"lineEnd":336,"lineMapIndex":89,"methodParents":[],"nodeIndex":506},{"cfgs":[508],"code":"entity.setCategoryName(categoryName)","dfgs":[508],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":337,"lineEnd":337,"lineMapIndex":-1,"methodParents":[665],"nodeIndex":507},{"cfgs":[509],"code":"entity.setPropertyName(property.getKey())","dfgs":[509],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":338,"lineEnd":338,"lineMapIndex":-1,"methodParents":[669],"nodeIndex":508},{"cfgs":[510],"code":"entity.setPropertyValue(property.getValue())","dfgs":[510],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":339,"lineEnd":339,"lineMapIndex":-1,"methodParents":[673],"nodeIndex":509},{"cfgs":[],"code":"entities.add(entity)","dfgs":[511],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":340,"lineEnd":340,"lineMapIndex":-1,"methodParents":[],"nodeIndex":510},{"cfgs":[],"code":"return entities","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":343,"lineEnd":343,"lineMapIndex":-1,"methodParents":[],"nodeIndex":511},{"cfgs":[513],"code":"private Map<String, Object> toRequestProperties(String categoryName1, Map<String, String> properties) ","dfgs":[513,514,517,515,516],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":346,"lineEnd":346,"lineMapIndex":-1,"methodParents":[],"nodeIndex":512},{"cfgs":[514],"code":"Map<String, Object> requestProperties = new HashMap<>()","dfgs":[514],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":347,"lineEnd":347,"lineMapIndex":-1,"methodParents":[],"nodeIndex":513},{"cfgs":[515],"code":"requestProperties.put(AMBARI_CONFIGURATION_CATEGORY_PROPERTY_ID, categoryName1)","dfgs":[517,516],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":348,"lineEnd":348,"lineMapIndex":-1,"methodParents":[],"nodeIndex":514},{"cfgs":[516],"code":"for (Map.Entry<String, String> entry : properties.entrySet())","dfgs":[516],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":349,"lineEnd":349,"lineMapIndex":-1,"methodParents":[],"nodeIndex":515},{"cfgs":[517],"code":"requestProperties.put(AMBARI_CONFIGURATION_PROPERTIES_PROPERTY_ID + \"/\" + entry.getKey(), entry.getValue())","dfgs":[517],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":350,"lineEnd":350,"lineMapIndex":-1,"methodParents":[],"nodeIndex":516},{"cfgs":[],"code":"return requestProperties","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":352,"lineEnd":352,"lineMapIndex":-1,"methodParents":[],"nodeIndex":517},{"cfgs":[519],"code":"private void validateCapturedProperties(Map<String, String> expectedProperties, Capture<Map<String, String>> capturedProperties) ","dfgs":[522,523,521,524,519,520],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":355,"lineEnd":355,"lineMapIndex":-1,"methodParents":[],"nodeIndex":518},{"cfgs":[520],"code":"junit.framework.Assert.assertTrue(capturedProperties.hasCaptured())","dfgs":[521,520],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":356,"lineEnd":356,"lineMapIndex":-1,"methodParents":[],"nodeIndex":519},{"cfgs":[521],"code":"Map<String, String> properties = capturedProperties.getValue()","dfgs":[521],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":358,"lineEnd":358,"lineMapIndex":-1,"methodParents":[],"nodeIndex":520},{"cfgs":[522],"code":"junit.framework.Assert.assertNotNull(properties)","dfgs":[524],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":359,"lineEnd":359,"lineMapIndex":-1,"methodParents":[],"nodeIndex":521},{"cfgs":[523],"code":"expectedProperties = new TreeMap<>(expectedProperties)","dfgs":[524],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":362,"lineEnd":362,"lineMapIndex":-1,"methodParents":[],"nodeIndex":522},{"cfgs":[524],"code":"properties = new TreeMap<>(properties)","dfgs":[524],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":363,"lineEnd":363,"lineMapIndex":-1,"methodParents":[],"nodeIndex":523},{"cfgs":[],"code":"junit.framework.Assert.assertEquals(expectedProperties, properties)","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":364,"lineEnd":364,"lineMapIndex":-1,"methodParents":[],"nodeIndex":524},{"cfgs":[526],"code":"private Injector createInjector() throws Exception ","dfgs":[526],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":367,"lineEnd":367,"lineMapIndex":-1,"methodParents":[],"nodeIndex":525},{"cfgs":[],"code":"return Guice.createInjector(new AbstractModule() {@Overrideprotected void configure() {bind(EntityManager.class).toInstance(createNiceMock(EntityManager.class));bind(AmbariConfigurationDAO.class).toInstance(createMock(AmbariConfigurationDAO.class));bind(AmbariEventPublisher.class).toInstance(createMock(AmbariEventPublisher.class));}})","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":368,"lineEnd":375,"lineMapIndex":-1,"methodParents":[],"nodeIndex":526},{"cfgs":[],"code":"bind(EntityManager.class).toInstance(createNiceMock(EntityManager.class))","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":371,"lineEnd":371,"lineMapIndex":-1,"methodParents":[],"nodeIndex":527},{"cfgs":[],"code":"bind(AmbariConfigurationDAO.class).toInstance(createMock(AmbariConfigurationDAO.class))","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":372,"lineEnd":372,"lineMapIndex":-1,"methodParents":[],"nodeIndex":528},{"cfgs":[],"code":"bind(AmbariEventPublisher.class).toInstance(createMock(AmbariEventPublisher.class))","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProviderTest.java","fieldParents":[],"isDel":false,"lineBeg":373,"lineEnd":373,"lineMapIndex":-1,"methodParents":[],"nodeIndex":529},{"cfgs":[],"code":"import java.util.HashMap","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":false,"lineBeg":17,"lineEnd":17,"lineMapIndex":-1,"methodParents":[],"nodeIndex":530},{"cfgs":[],"code":"import java.util.List","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":false,"lineBeg":18,"lineEnd":18,"lineMapIndex":98,"methodParents":[],"nodeIndex":531},{"cfgs":[],"code":"import org.apache.ambari.server.events.AmbariConfigurationChangedEvent","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":false,"lineBeg":21,"lineEnd":21,"lineMapIndex":102,"methodParents":[],"nodeIndex":532},{"cfgs":[],"code":"import com.google.inject.Inject","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":false,"lineBeg":32,"lineEnd":32,"lineMapIndex":-1,"methodParents":[],"nodeIndex":533},{"cfgs":[],"code":"import com.google.inject.Provider","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":false,"lineBeg":33,"lineEnd":33,"lineMapIndex":103,"methodParents":[],"nodeIndex":534},{"cfgs":[],"code":"import com.google.inject.Singleton","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":false,"lineBeg":34,"lineEnd":34,"lineMapIndex":104,"methodParents":[],"nodeIndex":535},{"cfgs":[],"code":"return instance != null ? instance : loadInstance()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":false,"lineBeg":72,"lineEnd":72,"lineMapIndex":106,"methodParents":[537],"nodeIndex":536},{"cfgs":[539],"code":"private AmbariLdapConfiguration loadInstance() ","dfgs":[544,543,539,540,541,542],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":false,"lineBeg":80,"lineEnd":80,"lineMapIndex":-1,"methodParents":[],"nodeIndex":537},{"cfgs":[],"code":"List<AmbariConfigurationEntity> configEntities","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":false,"lineBeg":81,"lineEnd":81,"lineMapIndex":108,"methodParents":[],"nodeIndex":538},{"cfgs":[540],"code":"configEntities = ambariConfigurationDAOProvider.get().findByCategory(\"ldap-configuration\")","dfgs":[540,541],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":false,"lineBeg":84,"lineEnd":84,"lineMapIndex":114,"methodParents":[700],"nodeIndex":539},{"cfgs":[541,543],"code":"if (configEntities != null)","dfgs":[541],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":false,"lineBeg":86,"lineEnd":86,"lineMapIndex":-1,"methodParents":[],"nodeIndex":540},{"cfgs":[542],"code":"Map<String, Object> properties = toProperties(configEntities)","dfgs":[544,543,542],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":false,"lineBeg":87,"lineEnd":87,"lineMapIndex":113,"methodParents":[545],"nodeIndex":541},{"cfgs":[543],"code":"instance = ldapConfigurationFactory.createLdapConfiguration(properties)","dfgs":[543],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":false,"lineBeg":88,"lineEnd":88,"lineMapIndex":-1,"methodParents":[],"nodeIndex":542},{"cfgs":[544],"code":"LOGGER.info(\"Loaded LDAP configuration instance: [ {} ]\", instance)","dfgs":[544],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":false,"lineBeg":91,"lineEnd":91,"lineMapIndex":118,"methodParents":[],"nodeIndex":543},{"cfgs":[],"code":"return instance","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":false,"lineBeg":93,"lineEnd":93,"lineMapIndex":119,"methodParents":[],"nodeIndex":544},{"cfgs":[546],"code":"private Map<String, Object> toProperties(List<AmbariConfigurationEntity> configEntities) ","dfgs":[546,549,547,548],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":false,"lineBeg":96,"lineEnd":96,"lineMapIndex":-1,"methodParents":[],"nodeIndex":545},{"cfgs":[547],"code":"Map<String, Object> map = new HashMap<>()","dfgs":[549,548],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":false,"lineBeg":97,"lineEnd":97,"lineMapIndex":-1,"methodParents":[],"nodeIndex":546},{"cfgs":[549,548],"code":"for (AmbariConfigurationEntity entity : configEntities)","dfgs":[548],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":false,"lineBeg":99,"lineEnd":99,"lineMapIndex":-1,"methodParents":[],"nodeIndex":547},{"cfgs":[],"code":"map.put(entity.getPropertyName(), entity.getPropertyValue())","dfgs":[549],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":false,"lineBeg":100,"lineEnd":100,"lineMapIndex":-1,"methodParents":[667],"nodeIndex":548},{"cfgs":[],"code":"return map","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":false,"lineBeg":103,"lineEnd":103,"lineMapIndex":-1,"methodParents":[],"nodeIndex":549},{"cfgs":[],"code":"public void ambariLdapConfigChanged(AmbariConfigurationChangedEvent event) ","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":false,"lineBeg":108,"lineEnd":108,"lineMapIndex":-1,"methodParents":[],"nodeIndex":550},{"cfgs":[],"code":"loadInstance()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_AmbariLdapConfigurationProvider.java","fieldParents":[],"isDel":false,"lineBeg":110,"lineEnd":110,"lineMapIndex":121,"methodParents":[537],"nodeIndex":551},{"cfgs":[],"code":"import java.util.Arrays","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":17,"lineEnd":17,"lineMapIndex":123,"methodParents":[],"nodeIndex":552},{"cfgs":[],"code":"import java.util.HashSet","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":21,"lineEnd":21,"lineMapIndex":-1,"methodParents":[],"nodeIndex":553},{"cfgs":[],"code":"import java.util.TreeMap","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":25,"lineEnd":25,"lineMapIndex":-1,"methodParents":[],"nodeIndex":554},{"cfgs":[],"code":"import org.apache.ambari.server.controller.utilities.PropertyHelper","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":38,"lineEnd":38,"lineMapIndex":127,"methodParents":[],"nodeIndex":555},{"cfgs":[],"code":"import org.apache.ambari.server.events.AmbariConfigurationChangedEvent","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":39,"lineEnd":39,"lineMapIndex":126,"methodParents":[],"nodeIndex":556},{"cfgs":[],"code":"import org.apache.commons.collections.CollectionUtils","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":44,"lineEnd":44,"lineMapIndex":-1,"methodParents":[],"nodeIndex":557},{"cfgs":[],"code":"import org.apache.commons.lang.StringUtils","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":45,"lineEnd":45,"lineMapIndex":-1,"methodParents":[],"nodeIndex":558},{"cfgs":[],"code":"import com.google.inject.Inject","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":49,"lineEnd":49,"lineMapIndex":131,"methodParents":[],"nodeIndex":559},{"cfgs":[561],"code":"static final String AMBARI_CONFIGURATION_CATEGORY_PROPERTY_ID = PropertyHelper.getPropertyId(\"AmbariConfiguration\", \"category\")","dfgs":[561],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":58,"lineEnd":58,"lineMapIndex":-1,"methodParents":[],"nodeIndex":560},{"cfgs":[562],"code":"static final String AMBARI_CONFIGURATION_PROPERTIES_PROPERTY_ID = PropertyHelper.getPropertyId(\"AmbariConfiguration\", \"properties\")","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":59,"lineEnd":59,"lineMapIndex":-1,"methodParents":[],"nodeIndex":561},{"cfgs":[563],"code":"private static final Set<String> PROPERTIES = Collections.unmodifiableSet(new HashSet<>(Arrays.asList(AMBARI_CONFIGURATION_CATEGORY_PROPERTY_ID,AMBARI_CONFIGURATION_PROPERTIES_PROPERTY_ID)))","dfgs":[563],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":61,"lineEnd":66,"lineMapIndex":-1,"methodParents":[],"nodeIndex":562},{"cfgs":[564],"code":"private static final Map<Resource.Type, String> PK_PROPERTY_MAP = Collections.unmodifiableMap(Collections.singletonMap(Resource.Type.AmbariConfiguration, AMBARI_CONFIGURATION_CATEGORY_PROPERTY_ID))","dfgs":[564],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":68,"lineEnd":70,"lineMapIndex":155,"methodParents":[],"nodeIndex":563},{"cfgs":[],"code":"private static final Set<String> PK_PROPERTY_IDS = Collections.unmodifiableSet(new HashSet<>(PK_PROPERTY_MAP.values()))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":72,"lineEnd":74,"lineMapIndex":-1,"methodParents":[],"nodeIndex":564},{"cfgs":[566],"code":"Set<RoleAuthorization> authorizations = EnumSet.of(RoleAuthorization.AMBARI_MANAGE_CONFIGURATION)","dfgs":[566],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":85,"lineEnd":85,"lineMapIndex":158,"methodParents":[],"nodeIndex":565},{"cfgs":[567],"code":"setRequiredCreateAuthorizations(authorizations)","dfgs":[567],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":86,"lineEnd":86,"lineMapIndex":-1,"methodParents":[],"nodeIndex":566},{"cfgs":[568],"code":"setRequiredDeleteAuthorizations(authorizations)","dfgs":[568],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":87,"lineEnd":87,"lineMapIndex":-1,"methodParents":[],"nodeIndex":567},{"cfgs":[569],"code":"setRequiredUpdateAuthorizations(authorizations)","dfgs":[569],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":88,"lineEnd":88,"lineMapIndex":-1,"methodParents":[],"nodeIndex":568},{"cfgs":[],"code":"setRequiredGetAuthorizations(authorizations)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":89,"lineEnd":89,"lineMapIndex":-1,"methodParents":[],"nodeIndex":569},{"cfgs":[],"code":"return PK_PROPERTY_IDS","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[564],"isDel":false,"lineBeg":94,"lineEnd":94,"lineMapIndex":-1,"methodParents":[],"nodeIndex":570},{"cfgs":[572],"code":"public RequestStatus createResourcesAuthorized(Request request)throws SystemException, UnsupportedPropertyException, ResourceAlreadyExistsException, NoSuchParentResourceException","dfgs":[572],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":98,"lineEnd":99,"lineMapIndex":-1,"methodParents":[],"nodeIndex":571},{"cfgs":[],"code":"createOrAddProperties(null, request.getProperties(), true)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":101,"lineEnd":101,"lineMapIndex":-1,"methodParents":[599],"nodeIndex":572},{"cfgs":[574],"code":"protected Set<Resource> getResourcesAuthorized(Request request, Predicate predicate) throws SystemException,UnsupportedPropertyException, NoSuchResourceException, NoSuchParentResourceException","dfgs":[574],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":107,"lineEnd":108,"lineMapIndex":-1,"methodParents":[],"nodeIndex":573},{"cfgs":[],"code":"return getResources(new Command<Set<Resource>>() {@Overridepublic Set<Resource> invoke() throws AmbariException {Set<Resource> resources = new HashSet<>();Set<String> requestedIds = getRequestPropertyIds(request, predicate);if (CollectionUtils.isEmpty(requestedIds)) {requestedIds = PROPERTIES;}if (predicate == null) {Set<Resource> _resources = getAmbariConfigurationResources(requestedIds, null);if (!CollectionUtils.isEmpty(_resources)) {resources.addAll(_resources);}} else {for (Map<String, Object> propertyMap : getPropertyMaps(predicate)) {Set<Resource> _resources = getAmbariConfigurationResources(requestedIds, propertyMap);if (!CollectionUtils.isEmpty(_resources)) {resources.addAll(_resources);}}}return resources;}})","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[562],"isDel":false,"lineBeg":110,"lineEnd":136,"lineMapIndex":-1,"methodParents":[],"nodeIndex":574},{"cfgs":[],"code":"Set<Resource> resources = new HashSet<>()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":113,"lineEnd":113,"lineMapIndex":-1,"methodParents":[],"nodeIndex":575},{"cfgs":[],"code":"Set<String> requestedIds = getRequestPropertyIds(request, predicate)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":114,"lineEnd":114,"lineMapIndex":-1,"methodParents":[],"nodeIndex":576},{"cfgs":[],"code":"if (CollectionUtils.isEmpty(requestedIds))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":116,"lineEnd":116,"lineMapIndex":-1,"methodParents":[],"nodeIndex":577},{"cfgs":[],"code":"requestedIds = PROPERTIES","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[562],"isDel":false,"lineBeg":117,"lineEnd":117,"lineMapIndex":-1,"methodParents":[],"nodeIndex":578},{"cfgs":[],"code":"if (predicate == null)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":120,"lineEnd":120,"lineMapIndex":-1,"methodParents":[],"nodeIndex":579},{"cfgs":[],"code":"Set<Resource> _resources = getAmbariConfigurationResources(requestedIds, null)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":121,"lineEnd":121,"lineMapIndex":-1,"methodParents":[634],"nodeIndex":580},{"cfgs":[],"code":"if (!CollectionUtils.isEmpty(_resources))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":122,"lineEnd":122,"lineMapIndex":-1,"methodParents":[],"nodeIndex":581},{"cfgs":[],"code":"resources.addAll(_resources)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":123,"lineEnd":123,"lineMapIndex":-1,"methodParents":[],"nodeIndex":582},{"cfgs":[],"code":"else","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":125,"lineEnd":125,"lineMapIndex":-1,"methodParents":[],"nodeIndex":583},{"cfgs":[],"code":"for (Map<String, Object> propertyMap : getPropertyMaps(predicate))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":126,"lineEnd":126,"lineMapIndex":-1,"methodParents":[],"nodeIndex":584},{"cfgs":[],"code":"Set<Resource> _resources = getAmbariConfigurationResources(requestedIds, propertyMap)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":127,"lineEnd":127,"lineMapIndex":-1,"methodParents":[634],"nodeIndex":585},{"cfgs":[],"code":"if (!CollectionUtils.isEmpty(_resources))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":128,"lineEnd":128,"lineMapIndex":-1,"methodParents":[],"nodeIndex":586},{"cfgs":[],"code":"resources.addAll(_resources)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":129,"lineEnd":129,"lineMapIndex":-1,"methodParents":[],"nodeIndex":587},{"cfgs":[],"code":"return resources","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":134,"lineEnd":134,"lineMapIndex":-1,"methodParents":[],"nodeIndex":588},{"cfgs":[590],"code":"protected RequestStatus deleteResourcesAuthorized(Request request, Predicate predicate) throws SystemException,UnsupportedPropertyException, NoSuchResourceException, NoSuchParentResourceException","dfgs":[590,594,591,592,593],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":141,"lineEnd":142,"lineMapIndex":-1,"methodParents":[],"nodeIndex":589},{"cfgs":[591],"code":"String categoryName = (String) PredicateHelper.getProperties(predicate).get(AMBARI_CONFIGURATION_CATEGORY_PROPERTY_ID)","dfgs":[591],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[560],"isDel":false,"lineBeg":144,"lineEnd":144,"lineMapIndex":186,"methodParents":[],"nodeIndex":590},{"cfgs":[594,592],"code":"if (null == categoryName)","dfgs":[594,592],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":146,"lineEnd":146,"lineMapIndex":187,"methodParents":[],"nodeIndex":591},{"cfgs":[593],"code":"LOGGER.debug(\"Deleting Ambari configuration with id: {}\", categoryName)","dfgs":[593],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":149,"lineEnd":149,"lineMapIndex":188,"methodParents":[],"nodeIndex":592},{"cfgs":[594],"code":"ambariConfigurationDAO.removeByCategory(categoryName)","dfgs":[594],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":151,"lineEnd":151,"lineMapIndex":189,"methodParents":[704],"nodeIndex":593},{"cfgs":[],"code":"publisher.publish(new AmbariConfigurationChangedEvent(categoryName))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":158,"lineEnd":158,"lineMapIndex":190,"methodParents":[],"nodeIndex":594},{"cfgs":[596],"code":"protected RequestStatus updateResourcesAuthorized(Request request, Predicate predicate)throws SystemException, UnsupportedPropertyException, NoSuchResourceException, NoSuchParentResourceException","dfgs":[596,597,598],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":163,"lineEnd":164,"lineMapIndex":-1,"methodParents":[],"nodeIndex":595},{"cfgs":[597],"code":"String categoryName = (String) PredicateHelper.getProperties(predicate).get(AMBARI_CONFIGURATION_CATEGORY_PROPERTY_ID)","dfgs":[597],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[560],"isDel":false,"lineBeg":166,"lineEnd":166,"lineMapIndex":192,"methodParents":[],"nodeIndex":596},{"cfgs":[598],"code":"createOrAddProperties(categoryName, request.getProperties(), false)","dfgs":[598],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":167,"lineEnd":167,"lineMapIndex":-1,"methodParents":[599],"nodeIndex":597},{"cfgs":[],"code":"return getRequestStatus(null)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":169,"lineEnd":169,"lineMapIndex":-1,"methodParents":[],"nodeIndex":598},{"cfgs":[600],"code":"private void createOrAddProperties(String defaultCategoryName, Set<Map<String, Object>> requestProperties, boolean removePropertiesIfNotSpecified)throws SystemException","dfgs":[600,601,602,603,604,605,606,607],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":186,"lineEnd":187,"lineMapIndex":-1,"methodParents":[],"nodeIndex":599},{"cfgs":[601],"code":"if (requestProperties != null)","dfgs":[601],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":189,"lineEnd":189,"lineMapIndex":-1,"methodParents":[],"nodeIndex":600},{"cfgs":[602],"code":"for (Map<String, Object> resourceProperties : requestProperties)","dfgs":[602],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":190,"lineEnd":190,"lineMapIndex":-1,"methodParents":[],"nodeIndex":601},{"cfgs":[603],"code":"Map<String, Map<String, String>> entityMap = parseProperties(defaultCategoryName, resourceProperties)","dfgs":[603,606,607],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":191,"lineEnd":191,"lineMapIndex":-1,"methodParents":[613],"nodeIndex":602},{"cfgs":[604],"code":"if (entityMap != null)","dfgs":[604],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":193,"lineEnd":193,"lineMapIndex":-1,"methodParents":[],"nodeIndex":603},{"cfgs":[605],"code":"for (Map.Entry<String, Map<String, String>> entry : entityMap.entrySet())","dfgs":[605],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":194,"lineEnd":194,"lineMapIndex":-1,"methodParents":[],"nodeIndex":604},{"cfgs":[606],"code":"String categoryName = entry.getKey()","dfgs":[606],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":195,"lineEnd":195,"lineMapIndex":-1,"methodParents":[],"nodeIndex":605},{"cfgs":[607],"code":"if (ambariConfigurationDAO.reconcileCategory(categoryName, entry.getValue(), removePropertiesIfNotSpecified))","dfgs":[607],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":197,"lineEnd":197,"lineMapIndex":-1,"methodParents":[724],"nodeIndex":606},{"cfgs":[],"code":"publisher.publish(new AmbariConfigurationChangedEvent(categoryName))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":199,"lineEnd":199,"lineMapIndex":-1,"methodParents":[],"nodeIndex":607},{"cfgs":[609],"code":"private Resource toResource(String categoryName, Map<String, String> properties, Set<String> requestedIds) ","dfgs":[609,610,611,612],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":207,"lineEnd":207,"lineMapIndex":-1,"methodParents":[],"nodeIndex":608},{"cfgs":[610],"code":"Resource resource = new ResourceImpl(Resource.Type.AmbariConfiguration)","dfgs":[610],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":208,"lineEnd":208,"lineMapIndex":215,"methodParents":[],"nodeIndex":609},{"cfgs":[611],"code":"setResourceProperty(resource, AMBARI_CONFIGURATION_CATEGORY_PROPERTY_ID, categoryName, requestedIds)","dfgs":[611],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[560],"isDel":false,"lineBeg":209,"lineEnd":209,"lineMapIndex":-1,"methodParents":[],"nodeIndex":610},{"cfgs":[612],"code":"setResourceProperty(resource, AMBARI_CONFIGURATION_PROPERTIES_PROPERTY_ID, properties, requestedIds)","dfgs":[612],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[561],"isDel":false,"lineBeg":210,"lineEnd":210,"lineMapIndex":-1,"methodParents":[],"nodeIndex":611},{"cfgs":[],"code":"return resource","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":211,"lineEnd":211,"lineMapIndex":222,"methodParents":[],"nodeIndex":612},{"cfgs":[614],"code":"private Map<String, Map<String, String>> parseProperties(String defaultCategoryName, Map<String, Object> resourceProperties) throws SystemException ","dfgs":[614,615,616,627,628,629,631,633,630,632,617,618,619,620,622,623,626,624,625],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":222,"lineEnd":222,"lineMapIndex":-1,"methodParents":[],"nodeIndex":613},{"cfgs":[615],"code":"String categoryName = null","dfgs":[627],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":223,"lineEnd":223,"lineMapIndex":-1,"methodParents":[],"nodeIndex":614},{"cfgs":[616],"code":"Map<String, String> properties = new HashMap<>()","dfgs":[631,626],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":224,"lineEnd":224,"lineMapIndex":-1,"methodParents":[],"nodeIndex":615},{"cfgs":[627,617],"code":"for (Map.Entry<String, Object> entry : resourceProperties.entrySet())","dfgs":[617],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":226,"lineEnd":226,"lineMapIndex":-1,"methodParents":[],"nodeIndex":616},{"cfgs":[618],"code":"String propertyName = entry.getKey()","dfgs":[618,619,622],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":227,"lineEnd":227,"lineMapIndex":-1,"methodParents":[],"nodeIndex":617},{"cfgs":[619,621],"code":"if (AMBARI_CONFIGURATION_CATEGORY_PROPERTY_ID.equals(propertyName))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[560],"isDel":false,"lineBeg":229,"lineEnd":229,"lineMapIndex":-1,"methodParents":[676],"nodeIndex":618},{"cfgs":[620],"code":"if (entry.getValue() instanceof String)","dfgs":[620],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":230,"lineEnd":230,"lineMapIndex":-1,"methodParents":[],"nodeIndex":619},{"cfgs":[],"code":"categoryName = (String) entry.getValue()","dfgs":[627],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":231,"lineEnd":231,"lineMapIndex":-1,"methodParents":[],"nodeIndex":620},{"cfgs":[622],"code":"else","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":233,"lineEnd":233,"lineMapIndex":-1,"methodParents":[],"nodeIndex":621},{"cfgs":[623],"code":"String propertyCategory = PropertyHelper.getPropertyCategory(entry.getKey())","dfgs":[623,624],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":234,"lineEnd":234,"lineMapIndex":-1,"methodParents":[],"nodeIndex":622},{"cfgs":[624],"code":"if ((propertyCategory != null) && propertyCategory.equals(AMBARI_CONFIGURATION_PROPERTIES_PROPERTY_ID))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[561],"isDel":false,"lineBeg":235,"lineEnd":235,"lineMapIndex":-1,"methodParents":[676],"nodeIndex":623},{"cfgs":[625],"code":"String name = PropertyHelper.getPropertyName(entry.getKey())","dfgs":[626,625],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":236,"lineEnd":236,"lineMapIndex":-1,"methodParents":[],"nodeIndex":624},{"cfgs":[626],"code":"Object value = entry.getValue()","dfgs":[626],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":237,"lineEnd":237,"lineMapIndex":-1,"methodParents":[],"nodeIndex":625},{"cfgs":[],"code":"properties.put(name, (value == null) ? null : value.toString())","dfgs":[631],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":238,"lineEnd":238,"lineMapIndex":-1,"methodParents":[675],"nodeIndex":626},{"cfgs":[628,629],"code":"if (categoryName == null)","dfgs":[629],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":243,"lineEnd":243,"lineMapIndex":-1,"methodParents":[],"nodeIndex":627},{"cfgs":[629],"code":"categoryName = defaultCategoryName","dfgs":[629],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":244,"lineEnd":244,"lineMapIndex":-1,"methodParents":[],"nodeIndex":628},{"cfgs":[630,631],"code":"if (StringUtils.isEmpty(categoryName))","dfgs":[633],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":247,"lineEnd":247,"lineMapIndex":-1,"methodParents":[],"nodeIndex":629},{"cfgs":[631],"code":"throw new SystemException(\"The configuration type must be set\")","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":248,"lineEnd":248,"lineMapIndex":-1,"methodParents":[],"nodeIndex":630},{"cfgs":[632,633],"code":"if (properties.isEmpty())","dfgs":[633],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":251,"lineEnd":251,"lineMapIndex":-1,"methodParents":[],"nodeIndex":631},{"cfgs":[633],"code":"throw new SystemException(\"The configuration properties must be set\")","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":252,"lineEnd":252,"lineMapIndex":-1,"methodParents":[],"nodeIndex":632},{"cfgs":[],"code":"return Collections.singletonMap(categoryName, properties)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":255,"lineEnd":255,"lineMapIndex":-1,"methodParents":[],"nodeIndex":633},{"cfgs":[635],"code":"private Set<Resource> getAmbariConfigurationResources(Set<String> requestedIds, Map<String, Object> propertyMap) ","dfgs":[635,649,636,638,639,637,640,647,646,648,641,642,643,644,645],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":258,"lineEnd":258,"lineMapIndex":-1,"methodParents":[],"nodeIndex":634},{"cfgs":[636],"code":"Set<Resource> resources = new HashSet<>()","dfgs":[649,648],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":259,"lineEnd":259,"lineMapIndex":-1,"methodParents":[],"nodeIndex":635},{"cfgs":[637],"code":"String categoryName = getStringProperty(propertyMap, AMBARI_CONFIGURATION_CATEGORY_PROPERTY_ID)","dfgs":[637,648],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[560],"isDel":false,"lineBeg":261,"lineEnd":261,"lineMapIndex":-1,"methodParents":[650],"nodeIndex":636},{"cfgs":[638],"code":"List<AmbariConfigurationEntity> entities = (categoryName == null)? ambariConfigurationDAO.findAll(): ambariConfigurationDAO.findByCategory(categoryName)","dfgs":[638,648],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":263,"lineEnd":265,"lineMapIndex":178,"methodParents":[],"nodeIndex":637},{"cfgs":[639,648],"code":"if (entities != null)","dfgs":[640],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":267,"lineEnd":267,"lineMapIndex":-1,"methodParents":[],"nodeIndex":638},{"cfgs":[640],"code":"Map<String, Map<String, String>> configurations = new HashMap<>()","dfgs":[647,642],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":268,"lineEnd":268,"lineMapIndex":-1,"methodParents":[],"nodeIndex":639},{"cfgs":[647,641],"code":"for (AmbariConfigurationEntity entity : entities)","dfgs":[641],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":270,"lineEnd":270,"lineMapIndex":-1,"methodParents":[],"nodeIndex":640},{"cfgs":[642],"code":"String category = entity.getCategoryName()","dfgs":[642,646],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":271,"lineEnd":271,"lineMapIndex":-1,"methodParents":[663],"nodeIndex":641},{"cfgs":[643],"code":"Map<String, String> properties = configurations.get(category)","dfgs":[647,643,645],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":272,"lineEnd":272,"lineMapIndex":-1,"methodParents":[],"nodeIndex":642},{"cfgs":[644,646],"code":"if (properties == null)","dfgs":[646],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":274,"lineEnd":274,"lineMapIndex":-1,"methodParents":[],"nodeIndex":643},{"cfgs":[645],"code":"properties = new TreeMap<>()","dfgs":[645],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":275,"lineEnd":275,"lineMapIndex":-1,"methodParents":[],"nodeIndex":644},{"cfgs":[646],"code":"configurations.put(category, properties)","dfgs":[646,647],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":276,"lineEnd":276,"lineMapIndex":-1,"methodParents":[],"nodeIndex":645},{"cfgs":[],"code":"properties.put(entity.getPropertyName(), entity.getPropertyValue())","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":279,"lineEnd":279,"lineMapIndex":-1,"methodParents":[667],"nodeIndex":646},{"cfgs":[648],"code":"for (Map.Entry<String, Map<String, String>> entry : configurations.entrySet())","dfgs":[648],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":282,"lineEnd":282,"lineMapIndex":-1,"methodParents":[],"nodeIndex":647},{"cfgs":[649],"code":"resources.add(toResource(entry.getKey(), entry.getValue(), requestedIds))","dfgs":[649],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":283,"lineEnd":283,"lineMapIndex":-1,"methodParents":[608],"nodeIndex":648},{"cfgs":[],"code":"return resources","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":287,"lineEnd":287,"lineMapIndex":184,"methodParents":[],"nodeIndex":649},{"cfgs":[651],"code":"private String getStringProperty(Map<String, Object> propertyMap, String propertyId) ","dfgs":[651,656,652,653,654,655],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":290,"lineEnd":290,"lineMapIndex":-1,"methodParents":[],"nodeIndex":650},{"cfgs":[652],"code":"String value = null","dfgs":[656],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":291,"lineEnd":291,"lineMapIndex":-1,"methodParents":[],"nodeIndex":651},{"cfgs":[653,656],"code":"if (propertyMap != null)","dfgs":[653],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":293,"lineEnd":293,"lineMapIndex":-1,"methodParents":[],"nodeIndex":652},{"cfgs":[654],"code":"Object o = propertyMap.get(propertyId)","dfgs":[654],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":294,"lineEnd":294,"lineMapIndex":-1,"methodParents":[],"nodeIndex":653},{"cfgs":[655,656],"code":"if (o instanceof String)","dfgs":[655],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":295,"lineEnd":295,"lineMapIndex":-1,"methodParents":[],"nodeIndex":654},{"cfgs":[656],"code":"value = (String) o","dfgs":[656],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":296,"lineEnd":296,"lineMapIndex":-1,"methodParents":[],"nodeIndex":655},{"cfgs":[],"code":"return value","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_AmbariConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":300,"lineEnd":300,"lineMapIndex":-1,"methodParents":[],"nodeIndex":656},{"cfgs":[],"code":"import javax.persistence.IdClass","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[],"isDel":false,"lineBeg":20,"lineEnd":20,"lineMapIndex":262,"methodParents":[],"nodeIndex":657},{"cfgs":[],"code":"import org.apache.commons.lang.builder.EqualsBuilder","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[],"isDel":false,"lineBeg":25,"lineEnd":25,"lineMapIndex":264,"methodParents":[],"nodeIndex":658},{"cfgs":[],"code":"import org.apache.commons.lang.builder.HashCodeBuilder","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[],"isDel":false,"lineBeg":26,"lineEnd":26,"lineMapIndex":-1,"methodParents":[],"nodeIndex":659},{"cfgs":[],"code":"private String categoryName","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[],"isDel":false,"lineBeg":43,"lineEnd":43,"lineMapIndex":-1,"methodParents":[],"nodeIndex":660},{"cfgs":[],"code":"private String propertyName","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[],"isDel":false,"lineBeg":47,"lineEnd":47,"lineMapIndex":-1,"methodParents":[],"nodeIndex":661},{"cfgs":[],"code":"private String propertyValue","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[],"isDel":false,"lineBeg":50,"lineEnd":50,"lineMapIndex":-1,"methodParents":[],"nodeIndex":662},{"cfgs":[664],"code":"public String getCategoryName() ","dfgs":[664],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[],"isDel":false,"lineBeg":52,"lineEnd":52,"lineMapIndex":267,"methodParents":[],"nodeIndex":663},{"cfgs":[],"code":"return categoryName","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[660],"isDel":false,"lineBeg":53,"lineEnd":53,"lineMapIndex":268,"methodParents":[],"nodeIndex":664},{"cfgs":[666],"code":"public void setCategoryName(String category) ","dfgs":[666],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[],"isDel":false,"lineBeg":56,"lineEnd":56,"lineMapIndex":269,"methodParents":[],"nodeIndex":665},{"cfgs":[],"code":"this.categoryName = category","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[660],"isDel":false,"lineBeg":57,"lineEnd":57,"lineMapIndex":270,"methodParents":[],"nodeIndex":666},{"cfgs":[668],"code":"public String getPropertyName() ","dfgs":[668],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[],"isDel":false,"lineBeg":60,"lineEnd":60,"lineMapIndex":271,"methodParents":[],"nodeIndex":667},{"cfgs":[],"code":"return propertyName","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[661],"isDel":false,"lineBeg":61,"lineEnd":61,"lineMapIndex":272,"methodParents":[],"nodeIndex":668},{"cfgs":[670],"code":"public void setPropertyName(String propertyName) ","dfgs":[670],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[],"isDel":false,"lineBeg":64,"lineEnd":64,"lineMapIndex":273,"methodParents":[],"nodeIndex":669},{"cfgs":[],"code":"this.propertyName = propertyName","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[661],"isDel":false,"lineBeg":65,"lineEnd":65,"lineMapIndex":274,"methodParents":[],"nodeIndex":670},{"cfgs":[672],"code":"public String getPropertyValue() ","dfgs":[672],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[],"isDel":false,"lineBeg":68,"lineEnd":68,"lineMapIndex":-1,"methodParents":[],"nodeIndex":671},{"cfgs":[],"code":"return propertyValue","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[662],"isDel":false,"lineBeg":69,"lineEnd":69,"lineMapIndex":-1,"methodParents":[],"nodeIndex":672},{"cfgs":[674],"code":"public void setPropertyValue(String propertyValue) ","dfgs":[674],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[],"isDel":false,"lineBeg":72,"lineEnd":72,"lineMapIndex":-1,"methodParents":[],"nodeIndex":673},{"cfgs":[],"code":"this.propertyValue = propertyValue","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[662],"isDel":false,"lineBeg":73,"lineEnd":73,"lineMapIndex":-1,"methodParents":[],"nodeIndex":674},{"cfgs":[],"code":"return \"AmbariConfigurationEntity{\" +\", category=\" + categoryName +\", name=\" + propertyName +\", value=\" + propertyValue +'}'","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[660],"isDel":false,"lineBeg":78,"lineEnd":82,"lineMapIndex":275,"methodParents":[],"nodeIndex":675},{"cfgs":[677],"code":"public boolean equals(Object o) ","dfgs":[681,677,678,680,679,682],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[],"isDel":false,"lineBeg":86,"lineEnd":86,"lineMapIndex":-1,"methodParents":[],"nodeIndex":676},{"cfgs":[678,679],"code":"if (this == o)","dfgs":[679,682],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[],"isDel":false,"lineBeg":87,"lineEnd":87,"lineMapIndex":-1,"methodParents":[],"nodeIndex":677},{"cfgs":[],"code":"return true","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[],"isDel":false,"lineBeg":88,"lineEnd":88,"lineMapIndex":-1,"methodParents":[],"nodeIndex":678},{"cfgs":[680,681],"code":"if (o == null || getClass() != o.getClass())","dfgs":[681,682],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[],"isDel":false,"lineBeg":91,"lineEnd":91,"lineMapIndex":-1,"methodParents":[],"nodeIndex":679},{"cfgs":[],"code":"return false","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[],"isDel":false,"lineBeg":92,"lineEnd":92,"lineMapIndex":-1,"methodParents":[],"nodeIndex":680},{"cfgs":[682],"code":"AmbariConfigurationEntity that = (AmbariConfigurationEntity) o","dfgs":[682],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[],"isDel":false,"lineBeg":95,"lineEnd":95,"lineMapIndex":-1,"methodParents":[],"nodeIndex":681},{"cfgs":[],"code":"return new EqualsBuilder().append(categoryName, that.categoryName).append(propertyName, that.propertyName).append(propertyValue, that.propertyValue).isEquals()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[660],"isDel":false,"lineBeg":97,"lineEnd":101,"lineMapIndex":-1,"methodParents":[],"nodeIndex":682},{"cfgs":[684],"code":"public int hashCode() ","dfgs":[684],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[],"isDel":false,"lineBeg":105,"lineEnd":105,"lineMapIndex":-1,"methodParents":[],"nodeIndex":683},{"cfgs":[],"code":"return new HashCodeBuilder(17, 37).append(categoryName).append(propertyName).append(propertyValue).toHashCode()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_entities_AmbariConfigurationEntity.java","fieldParents":[660],"isDel":false,"lineBeg":106,"lineEnd":110,"lineMapIndex":-1,"methodParents":[],"nodeIndex":684},{"cfgs":[],"code":"return handleRequest(headers, body, uri, Request.Type.POST, createResource(Resource.Type.AmbariConfiguration,Collections.emptyMap()))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_AmbariConfigurationService.java","fieldParents":[],"isDel":false,"lineBeg":98,"lineEnd":99,"lineMapIndex":276,"methodParents":[],"nodeIndex":685},{"cfgs":[],"code":"return handleRequest(headers, body, uri, Request.Type.GET, createResource(Resource.Type.AmbariConfiguration,Collections.emptyMap()))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_AmbariConfigurationService.java","fieldParents":[],"isDel":false,"lineBeg":125,"lineEnd":126,"lineMapIndex":277,"methodParents":[],"nodeIndex":686},{"cfgs":[688],"code":"public Response getAmbariConfiguration(String body, @Context HttpHeaders headers, @Context UriInfo uri,@PathParam(\"category\") String category)","dfgs":[688],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_AmbariConfigurationService.java","fieldParents":[],"isDel":false,"lineBeg":144,"lineEnd":145,"lineMapIndex":-1,"methodParents":[],"nodeIndex":687},{"cfgs":[],"code":"return handleRequest(headers, body, uri, Request.Type.GET, createResource(Resource.Type.AmbariConfiguration,Collections.singletonMap(Resource.Type.AmbariConfiguration, category)))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_AmbariConfigurationService.java","fieldParents":[],"isDel":false,"lineBeg":146,"lineEnd":147,"lineMapIndex":279,"methodParents":[],"nodeIndex":688},{"cfgs":[690],"code":"public Response updateAmbariConfiguration(String body, @Context HttpHeaders headers, @Context UriInfo uri,@PathParam(\"category\") String category)","dfgs":[690],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_AmbariConfigurationService.java","fieldParents":[],"isDel":false,"lineBeg":169,"lineEnd":170,"lineMapIndex":-1,"methodParents":[],"nodeIndex":689},{"cfgs":[],"code":"return handleRequest(headers, body, uri, Request.Type.PUT, createResource(Resource.Type.AmbariConfiguration,Collections.singletonMap(Resource.Type.AmbariConfiguration, category)))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_AmbariConfigurationService.java","fieldParents":[],"isDel":false,"lineBeg":171,"lineEnd":172,"lineMapIndex":281,"methodParents":[],"nodeIndex":690},{"cfgs":[692],"code":"public Response deleteAmbariConfiguration(String body, @Context HttpHeaders headers, @Context UriInfo uri,@PathParam(\"category\") String category)","dfgs":[692],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_AmbariConfigurationService.java","fieldParents":[],"isDel":false,"lineBeg":187,"lineEnd":188,"lineMapIndex":-1,"methodParents":[],"nodeIndex":691},{"cfgs":[],"code":"return handleRequest(headers, body, uri, Request.Type.DELETE, createResource(Resource.Type.AmbariConfiguration,Collections.singletonMap(Resource.Type.AmbariConfiguration, category)))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_AmbariConfigurationService.java","fieldParents":[],"isDel":false,"lineBeg":189,"lineEnd":190,"lineMapIndex":283,"methodParents":[],"nodeIndex":692},{"cfgs":[],"code":"import java.util.HashMap","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":17,"lineEnd":17,"lineMapIndex":-1,"methodParents":[],"nodeIndex":693},{"cfgs":[],"code":"import java.util.List","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":18,"lineEnd":18,"lineMapIndex":-1,"methodParents":[],"nodeIndex":694},{"cfgs":[],"code":"import java.util.Map","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":19,"lineEnd":19,"lineMapIndex":-1,"methodParents":[],"nodeIndex":695},{"cfgs":[],"code":"import org.apache.ambari.server.orm.RequiresSession","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":27,"lineEnd":27,"lineMapIndex":-1,"methodParents":[],"nodeIndex":696},{"cfgs":[],"code":"import org.apache.ambari.server.orm.entities.AmbariConfigurationEntityPK","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":29,"lineEnd":29,"lineMapIndex":-1,"methodParents":[],"nodeIndex":697},{"cfgs":[],"code":"import org.apache.commons.lang.StringUtils","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":30,"lineEnd":30,"lineMapIndex":-1,"methodParents":[],"nodeIndex":698},{"cfgs":[],"code":"public class AmbariConfigurationDAO extends CrudDAO<AmbariConfigurationEntity, AmbariConfigurationEntityPK> ","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":42,"lineEnd":42,"lineMapIndex":-1,"methodParents":[],"nodeIndex":699},{"cfgs":[701],"code":"public List<AmbariConfigurationEntity> findByCategory(String categoryName) ","dfgs":[702,701,703],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":58,"lineEnd":58,"lineMapIndex":-1,"methodParents":[],"nodeIndex":700},{"cfgs":[702],"code":"TypedQuery<AmbariConfigurationEntity> query = entityManagerProvider.get().createNamedQuery(\"AmbariConfigurationEntity.findByCategory\", AmbariConfigurationEntity.class)","dfgs":[702],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":59,"lineEnd":60,"lineMapIndex":-1,"methodParents":[536],"nodeIndex":701},{"cfgs":[703],"code":"query.setParameter(\"categoryName\", categoryName)","dfgs":[703],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":61,"lineEnd":61,"lineMapIndex":-1,"methodParents":[],"nodeIndex":702},{"cfgs":[],"code":"return daoUtils.selectList(query)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":62,"lineEnd":62,"lineMapIndex":-1,"methodParents":[],"nodeIndex":703},{"cfgs":[705],"code":"public int removeByCategory(String categoryName) ","dfgs":[706,705,707],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":72,"lineEnd":72,"lineMapIndex":-1,"methodParents":[],"nodeIndex":704},{"cfgs":[706],"code":"TypedQuery<AmbariConfigurationEntity> query = entityManagerProvider.get().createNamedQuery(\"AmbariConfigurationEntity.deleteByCategory\", AmbariConfigurationEntity.class)","dfgs":[706],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":73,"lineEnd":74,"lineMapIndex":300,"methodParents":[536],"nodeIndex":705},{"cfgs":[707],"code":"query.setParameter(\"categoryName\", categoryName)","dfgs":[707],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":75,"lineEnd":75,"lineMapIndex":-1,"methodParents":[],"nodeIndex":706},{"cfgs":[],"code":"return query.executeUpdate()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":76,"lineEnd":76,"lineMapIndex":-1,"methodParents":[],"nodeIndex":707},{"cfgs":[709],"code":"AmbariConfigurationEntity foundEntity = findByPK(new AmbariConfigurationEntityPK(entity.getCategoryName(), entity.getPropertyName()))","dfgs":[709,710],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":82,"lineEnd":82,"lineMapIndex":286,"methodParents":[663],"nodeIndex":708},{"cfgs":[710],"code":"if (foundEntity != null)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":83,"lineEnd":83,"lineMapIndex":287,"methodParents":[],"nodeIndex":709},{"cfgs":[711],"code":"String message = String.format(\"Only one configuration entry can exist for the category %s and name %s\", entity.getCategoryName(), entity.getPropertyName())","dfgs":[711],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":84,"lineEnd":84,"lineMapIndex":-1,"methodParents":[663],"nodeIndex":710},{"cfgs":[712],"code":"LOGGER.error(message)","dfgs":[712],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":85,"lineEnd":85,"lineMapIndex":288,"methodParents":[],"nodeIndex":711},{"cfgs":[],"code":"throw new EntityExistsException(message)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":86,"lineEnd":86,"lineMapIndex":289,"methodParents":[],"nodeIndex":712},{"cfgs":[714],"code":"public AmbariConfigurationEntity merge(AmbariConfigurationEntity entity) ","dfgs":[719,723,714,715,717,718,720,716,721,722],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":93,"lineEnd":93,"lineMapIndex":-1,"methodParents":[],"nodeIndex":713},{"cfgs":[715],"code":"AmbariConfigurationEntity foundEntity = findByPK(new AmbariConfigurationEntityPK(entity.getCategoryName(), entity.getPropertyName()))","dfgs":[719,715,720,716],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":94,"lineEnd":94,"lineMapIndex":-1,"methodParents":[663],"nodeIndex":714},{"cfgs":[716,719],"code":"if (foundEntity == null)","dfgs":[720],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":95,"lineEnd":95,"lineMapIndex":291,"methodParents":[],"nodeIndex":715},{"cfgs":[717],"code":"String message = String.format(\"The configuration entry for the category %s and name %s does not exist\", entity.getCategoryName(), entity.getPropertyName())","dfgs":[719,717,720],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":96,"lineEnd":96,"lineMapIndex":292,"methodParents":[663],"nodeIndex":716},{"cfgs":[718],"code":"LOGGER.debug(message)","dfgs":[718],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":97,"lineEnd":97,"lineMapIndex":293,"methodParents":[],"nodeIndex":717},{"cfgs":[719],"code":"throw new EntityNotFoundException(message)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":98,"lineEnd":98,"lineMapIndex":294,"methodParents":[],"nodeIndex":718},{"cfgs":[720],"code":"AmbariConfigurationEntity updatedEntity = entity","dfgs":[723],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":101,"lineEnd":101,"lineMapIndex":-1,"methodParents":[],"nodeIndex":719},{"cfgs":[721,723],"code":"if (!StringUtils.equals(foundEntity.getPropertyValue(), entity.getPropertyValue()))","dfgs":[721],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":103,"lineEnd":103,"lineMapIndex":-1,"methodParents":[671],"nodeIndex":720},{"cfgs":[722],"code":"updatedEntity = super.merge(entity)","dfgs":[723],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":105,"lineEnd":105,"lineMapIndex":295,"methodParents":[713],"nodeIndex":721},{"cfgs":[723],"code":"entityManagerProvider.get().flush()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":106,"lineEnd":106,"lineMapIndex":296,"methodParents":[536],"nodeIndex":722},{"cfgs":[],"code":"return updatedEntity","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":109,"lineEnd":109,"lineMapIndex":-1,"methodParents":[],"nodeIndex":723},{"cfgs":[725],"code":"public boolean reconcileCategory(String categoryName, Map<String, String> properties, boolean removeIfNotProvided) ","dfgs":[725,727,751,753,726,728,730,750,729,743,731,744,745,752,742,746,747,748,749,732,733,739,734,738,741,735,736,737,740],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":128,"lineEnd":128,"lineMapIndex":-1,"methodParents":[],"nodeIndex":724},{"cfgs":[726],"code":"boolean changesDetected = false","dfgs":[753],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":129,"lineEnd":129,"lineMapIndex":-1,"methodParents":[],"nodeIndex":725},{"cfgs":[727],"code":"List<AmbariConfigurationEntity> existingEntities = findByCategory(categoryName)","dfgs":[730,746,749,737,740],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":130,"lineEnd":130,"lineMapIndex":-1,"methodParents":[700],"nodeIndex":726},{"cfgs":[728],"code":"Map<String, String> propertiesToProcess = new HashMap<>()","dfgs":[729,743,733],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":131,"lineEnd":131,"lineMapIndex":-1,"methodParents":[],"nodeIndex":727},{"cfgs":[729,730],"code":"if (properties != null)","dfgs":[729],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":133,"lineEnd":133,"lineMapIndex":-1,"methodParents":[],"nodeIndex":728},{"cfgs":[730],"code":"propertiesToProcess.putAll(properties)","dfgs":[743,733],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":134,"lineEnd":134,"lineMapIndex":-1,"methodParents":[],"nodeIndex":729},{"cfgs":[731,743],"code":"if (existingEntities != null)","dfgs":[731],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":137,"lineEnd":137,"lineMapIndex":-1,"methodParents":[],"nodeIndex":730},{"cfgs":[743,732],"code":"for (AmbariConfigurationEntity entity : existingEntities)","dfgs":[732],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":138,"lineEnd":138,"lineMapIndex":-1,"methodParents":[],"nodeIndex":731},{"cfgs":[733],"code":"String propertyName = entity.getPropertyName()","dfgs":[733,740,735],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":139,"lineEnd":139,"lineMapIndex":298,"methodParents":[667],"nodeIndex":732},{"cfgs":[734,742,739],"code":"if (propertiesToProcess.containsKey(propertyName))","dfgs":[742,734],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":141,"lineEnd":141,"lineMapIndex":-1,"methodParents":[],"nodeIndex":733},{"cfgs":[735],"code":"String newPropertyValue = propertiesToProcess.get(propertyName)","dfgs":[742,735],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":142,"lineEnd":142,"lineMapIndex":299,"methodParents":[],"nodeIndex":734},{"cfgs":[736,742],"code":"if (!StringUtils.equals(newPropertyValue, entity.getPropertyValue()))","dfgs":[736],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":143,"lineEnd":143,"lineMapIndex":-1,"methodParents":[671],"nodeIndex":735},{"cfgs":[737],"code":"entity.setPropertyValue(newPropertyValue)","dfgs":[737],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":145,"lineEnd":145,"lineMapIndex":-1,"methodParents":[673],"nodeIndex":736},{"cfgs":[738],"code":"merge(entity)","dfgs":[749,740],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":146,"lineEnd":146,"lineMapIndex":-1,"methodParents":[713],"nodeIndex":737},{"cfgs":[742],"code":"changesDetected = true","dfgs":[753],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":147,"lineEnd":147,"lineMapIndex":-1,"methodParents":[],"nodeIndex":738},{"cfgs":[740],"code":"if (removeIfNotProvided)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":149,"lineEnd":149,"lineMapIndex":-1,"methodParents":[],"nodeIndex":739},{"cfgs":[741],"code":"remove(entity)","dfgs":[749],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":151,"lineEnd":151,"lineMapIndex":-1,"methodParents":[],"nodeIndex":740},{"cfgs":[742],"code":"changesDetected = true","dfgs":[753],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":152,"lineEnd":152,"lineMapIndex":-1,"methodParents":[],"nodeIndex":741},{"cfgs":[],"code":"propertiesToProcess.remove(propertyName)","dfgs":[743],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":156,"lineEnd":156,"lineMapIndex":-1,"methodParents":[],"nodeIndex":742},{"cfgs":[744,753,751],"code":"if (!propertiesToProcess.isEmpty())","dfgs":[744],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":161,"lineEnd":161,"lineMapIndex":-1,"methodParents":[],"nodeIndex":743},{"cfgs":[750,745],"code":"for (Map.Entry<String, String> property : propertiesToProcess.entrySet())","dfgs":[747],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":162,"lineEnd":162,"lineMapIndex":-1,"methodParents":[],"nodeIndex":744},{"cfgs":[746],"code":"AmbariConfigurationEntity entity = new AmbariConfigurationEntity()","dfgs":[746],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":163,"lineEnd":163,"lineMapIndex":-1,"methodParents":[],"nodeIndex":745},{"cfgs":[747],"code":"entity.setCategoryName(categoryName)","dfgs":[747],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":164,"lineEnd":164,"lineMapIndex":301,"methodParents":[665],"nodeIndex":746},{"cfgs":[748],"code":"entity.setPropertyName(property.getKey())","dfgs":[748],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":165,"lineEnd":165,"lineMapIndex":-1,"methodParents":[669],"nodeIndex":747},{"cfgs":[749],"code":"entity.setPropertyValue(property.getValue())","dfgs":[749],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":166,"lineEnd":166,"lineMapIndex":-1,"methodParents":[673],"nodeIndex":748},{"cfgs":[],"code":"create(entity)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":167,"lineEnd":167,"lineMapIndex":-1,"methodParents":[708],"nodeIndex":749},{"cfgs":[753,751],"code":"changesDetected = true","dfgs":[753],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":170,"lineEnd":170,"lineMapIndex":-1,"methodParents":[],"nodeIndex":750},{"cfgs":[752],"code":"if (changesDetected)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":173,"lineEnd":173,"lineMapIndex":-1,"methodParents":[],"nodeIndex":751},{"cfgs":[753],"code":"entityManagerProvider.get().flush()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":174,"lineEnd":174,"lineMapIndex":303,"methodParents":[536],"nodeIndex":752},{"cfgs":[],"code":"return changesDetected","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_orm_dao_AmbariConfigurationDAO.java","fieldParents":[],"isDel":false,"lineBeg":177,"lineEnd":177,"lineMapIndex":304,"methodParents":[],"nodeIndex":753},{"cfgs":[],"code":"String getCategoryName()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_AmbariConfigurationRequestSwagger.java","fieldParents":[],"isDel":false,"lineBeg":32,"lineEnd":32,"lineMapIndex":-1,"methodParents":[],"nodeIndex":754},{"cfgs":[],"code":"Map<String, Object> getProperties()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_AmbariConfigurationRequestSwagger.java","fieldParents":[],"isDel":false,"lineBeg":35,"lineEnd":35,"lineMapIndex":305,"methodParents":[],"nodeIndex":755},{"cfgs":[],"code":"AmbariLdapConfiguration ambariLdapConfiguration = ambariLdapConfigurationFactory.createLdapConfiguration(ldapConfigurationRequest.getAmbariConfiguration().getProperties())","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_LdapConfigurationService.java","fieldParents":[],"isDel":false,"lineBeg":96,"lineEnd":97,"lineMapIndex":310,"methodParents":[],"nodeIndex":756},{"cfgs":[],"code":"if (null == ldapConfigurationRequest.getAmbariConfiguration()|| ldapConfigurationRequest.getAmbariConfiguration().getProperties() != null)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_LdapConfigurationService.java","fieldParents":[],"isDel":false,"lineBeg":156,"lineEnd":157,"lineMapIndex":311,"methodParents":[],"nodeIndex":757},{"cfgs":[],"code":"AMBARI_CONFIGURATION_CHANGED","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_events_AmbariEvent.java","fieldParents":[],"isDel":false,"lineBeg":148,"lineEnd":148,"lineMapIndex":312,"methodParents":[],"nodeIndex":758},{"cfgs":[760],"code":"protected static final String AMBARI_CONFIGURATION_TABLE = \"ambari_configuration\"","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_UpgradeCatalog300.java","fieldParents":[],"isDel":false,"lineBeg":76,"lineEnd":76,"lineMapIndex":316,"methodParents":[],"nodeIndex":759},{"cfgs":[761],"code":"protected static final String AMBARI_CONFIGURATION_CATEGORY_NAME_COLUMN = \"category_name\"","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_UpgradeCatalog300.java","fieldParents":[],"isDel":false,"lineBeg":77,"lineEnd":77,"lineMapIndex":315,"methodParents":[],"nodeIndex":760},{"cfgs":[762],"code":"protected static final String AMBARI_CONFIGURATION_PROPERTY_NAME_COLUMN = \"property_name\"","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_UpgradeCatalog300.java","fieldParents":[],"isDel":false,"lineBeg":78,"lineEnd":78,"lineMapIndex":314,"methodParents":[],"nodeIndex":761},{"cfgs":[],"code":"protected static final String AMBARI_CONFIGURATION_PROPERTY_VALUE_COLUMN = \"property_value\"","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_UpgradeCatalog300.java","fieldParents":[],"isDel":false,"lineBeg":79,"lineEnd":79,"lineMapIndex":313,"methodParents":[],"nodeIndex":762},{"cfgs":[],"code":"addAmbariConfigurationTable()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_UpgradeCatalog300.java","fieldParents":[],"isDel":false,"lineBeg":126,"lineEnd":126,"lineMapIndex":-1,"methodParents":[764],"nodeIndex":763},{"cfgs":[765],"code":"protected void addAmbariConfigurationTable() throws SQLException ","dfgs":[765,766,767,768,769,770],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_UpgradeCatalog300.java","fieldParents":[],"isDel":false,"lineBeg":138,"lineEnd":138,"lineMapIndex":-1,"methodParents":[],"nodeIndex":764},{"cfgs":[766],"code":"List<DBAccessor.DBColumnInfo> columns = new ArrayList<>()","dfgs":[766],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_UpgradeCatalog300.java","fieldParents":[],"isDel":false,"lineBeg":139,"lineEnd":139,"lineMapIndex":-1,"methodParents":[],"nodeIndex":765},{"cfgs":[767],"code":"columns.add(new DBAccessor.DBColumnInfo(AMBARI_CONFIGURATION_CATEGORY_NAME_COLUMN, String.class, 100, null, false))","dfgs":[767,770],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_UpgradeCatalog300.java","fieldParents":[760],"isDel":false,"lineBeg":140,"lineEnd":140,"lineMapIndex":-1,"methodParents":[],"nodeIndex":766},{"cfgs":[768],"code":"columns.add(new DBAccessor.DBColumnInfo(AMBARI_CONFIGURATION_PROPERTY_NAME_COLUMN, String.class, 100, null, false))","dfgs":[768,770],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_UpgradeCatalog300.java","fieldParents":[761],"isDel":false,"lineBeg":141,"lineEnd":141,"lineMapIndex":-1,"methodParents":[],"nodeIndex":767},{"cfgs":[769],"code":"columns.add(new DBAccessor.DBColumnInfo(AMBARI_CONFIGURATION_PROPERTY_VALUE_COLUMN, String.class, 255, null, true))","dfgs":[769],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_UpgradeCatalog300.java","fieldParents":[762],"isDel":false,"lineBeg":142,"lineEnd":142,"lineMapIndex":-1,"methodParents":[],"nodeIndex":768},{"cfgs":[770],"code":"dbAccessor.createTable(AMBARI_CONFIGURATION_TABLE, columns)","dfgs":[770],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_UpgradeCatalog300.java","fieldParents":[759],"isDel":false,"lineBeg":144,"lineEnd":144,"lineMapIndex":-1,"methodParents":[],"nodeIndex":769},{"cfgs":[],"code":"dbAccessor.addPKConstraint(AMBARI_CONFIGURATION_TABLE, \"PK_ambari_configuration\", AMBARI_CONFIGURATION_CATEGORY_NAME_COLUMN, AMBARI_CONFIGURATION_PROPERTY_NAME_COLUMN)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_UpgradeCatalog300.java","fieldParents":[759],"isDel":false,"lineBeg":145,"lineEnd":145,"lineMapIndex":-1,"methodParents":[],"nodeIndex":770},{"cfgs":[],"code":"import org.apache.ambari.server.ldap.LdapModule","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_SchemaUpgradeHelper.java","fieldParents":[],"isDel":false,"lineBeg":37,"lineEnd":37,"lineMapIndex":-1,"methodParents":[],"nodeIndex":771},{"cfgs":[],"code":"Injector injector = Guice.createInjector(new UpgradeHelperModule(), new AuditLoggerModule(), new LdapModule())","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_SchemaUpgradeHelper.java","fieldParents":[],"isDel":false,"lineBeg":377,"lineEnd":377,"lineMapIndex":317,"methodParents":[],"nodeIndex":772},{"cfgs":[],"code":"import static org.apache.ambari.server.upgrade.UpgradeCatalog300.AMBARI_CONFIGURATION_CATEGORY_NAME_COLUMN","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":20,"lineEnd":20,"lineMapIndex":-1,"methodParents":[],"nodeIndex":773},{"cfgs":[],"code":"import static org.apache.ambari.server.upgrade.UpgradeCatalog300.AMBARI_CONFIGURATION_PROPERTY_NAME_COLUMN","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":21,"lineEnd":21,"lineMapIndex":-1,"methodParents":[],"nodeIndex":774},{"cfgs":[],"code":"import static org.apache.ambari.server.upgrade.UpgradeCatalog300.AMBARI_CONFIGURATION_PROPERTY_VALUE_COLUMN","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":22,"lineEnd":22,"lineMapIndex":-1,"methodParents":[],"nodeIndex":775},{"cfgs":[],"code":"import static org.apache.ambari.server.upgrade.UpgradeCatalog300.AMBARI_CONFIGURATION_TABLE","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":23,"lineEnd":23,"lineMapIndex":-1,"methodParents":[],"nodeIndex":776},{"cfgs":[],"code":"import java.util.List","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":49,"lineEnd":49,"lineMapIndex":-1,"methodParents":[],"nodeIndex":777},{"cfgs":[779],"code":"Capture<List<DBAccessor.DBColumnInfo>> ambariConfigurationTableColumns = newCapture()","dfgs":[779],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":195,"lineEnd":195,"lineMapIndex":-1,"methodParents":[],"nodeIndex":778},{"cfgs":[780],"code":"dbAccessor.createTable(eq(AMBARI_CONFIGURATION_TABLE), capture(ambariConfigurationTableColumns))","dfgs":[781,780,783],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":197,"lineEnd":197,"lineMapIndex":-1,"methodParents":[],"nodeIndex":779},{"cfgs":[781],"code":"expectLastCall().once()","dfgs":[781,782],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":198,"lineEnd":198,"lineMapIndex":-1,"methodParents":[],"nodeIndex":780},{"cfgs":[782],"code":"dbAccessor.addPKConstraint(AMBARI_CONFIGURATION_TABLE, \"PK_ambari_configuration\", AMBARI_CONFIGURATION_CATEGORY_NAME_COLUMN, AMBARI_CONFIGURATION_PROPERTY_NAME_COLUMN)","dfgs":[782,788,793],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":199,"lineEnd":199,"lineMapIndex":-1,"methodParents":[],"nodeIndex":781},{"cfgs":[783],"code":"expectLastCall().once()","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":200,"lineEnd":200,"lineMapIndex":-1,"methodParents":[],"nodeIndex":782},{"cfgs":[784],"code":"Assert.assertTrue(ambariConfigurationTableColumns.hasCaptured())","dfgs":[785,784],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":215,"lineEnd":215,"lineMapIndex":-1,"methodParents":[],"nodeIndex":783},{"cfgs":[785],"code":"List<DBAccessor.DBColumnInfo> columns = ambariConfigurationTableColumns.getValue()","dfgs":[785],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":216,"lineEnd":216,"lineMapIndex":-1,"methodParents":[],"nodeIndex":784},{"cfgs":[786],"code":"Assert.assertEquals(3, columns.size())","dfgs":[786,789,794,799,804],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":217,"lineEnd":217,"lineMapIndex":-1,"methodParents":[],"nodeIndex":785},{"cfgs":[787],"code":"for (DBAccessor.DBColumnInfo column : columns)","dfgs":[787],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":219,"lineEnd":219,"lineMapIndex":-1,"methodParents":[],"nodeIndex":786},{"cfgs":[788],"code":"String columnName = column.getName()","dfgs":[788,789,794,799],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":220,"lineEnd":220,"lineMapIndex":-1,"methodParents":[],"nodeIndex":787},{"cfgs":[789,793],"code":"if (AMBARI_CONFIGURATION_CATEGORY_NAME_COLUMN.equals(columnName))","dfgs":[793],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":222,"lineEnd":222,"lineMapIndex":-1,"methodParents":[676],"nodeIndex":788},{"cfgs":[790],"code":"Assert.assertEquals(String.class, column.getType())","dfgs":[790,794,799],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":223,"lineEnd":223,"lineMapIndex":-1,"methodParents":[],"nodeIndex":789},{"cfgs":[791],"code":"Assert.assertEquals(Integer.valueOf(100), column.getLength())","dfgs":[791,795,800],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":224,"lineEnd":224,"lineMapIndex":-1,"methodParents":[],"nodeIndex":790},{"cfgs":[792],"code":"Assert.assertEquals(null, column.getDefaultValue())","dfgs":[792],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":225,"lineEnd":225,"lineMapIndex":-1,"methodParents":[],"nodeIndex":791},{"cfgs":[],"code":"Assert.assertFalse(column.isNullable())","dfgs":[794,799,804],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":226,"lineEnd":226,"lineMapIndex":-1,"methodParents":[],"nodeIndex":792},{"cfgs":[794,798],"code":"if (AMBARI_CONFIGURATION_PROPERTY_NAME_COLUMN.equals(columnName))","dfgs":[798],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":227,"lineEnd":227,"lineMapIndex":-1,"methodParents":[676],"nodeIndex":793},{"cfgs":[795],"code":"Assert.assertEquals(String.class, column.getType())","dfgs":[795,799],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":228,"lineEnd":228,"lineMapIndex":-1,"methodParents":[],"nodeIndex":794},{"cfgs":[796],"code":"Assert.assertEquals(Integer.valueOf(100), column.getLength())","dfgs":[796,800],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":229,"lineEnd":229,"lineMapIndex":-1,"methodParents":[],"nodeIndex":795},{"cfgs":[797],"code":"Assert.assertEquals(null, column.getDefaultValue())","dfgs":[797],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":230,"lineEnd":230,"lineMapIndex":-1,"methodParents":[],"nodeIndex":796},{"cfgs":[],"code":"Assert.assertFalse(column.isNullable())","dfgs":[799,804],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":231,"lineEnd":231,"lineMapIndex":-1,"methodParents":[],"nodeIndex":797},{"cfgs":[799,803],"code":"if (AMBARI_CONFIGURATION_PROPERTY_VALUE_COLUMN.equals(columnName))","dfgs":[804],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":232,"lineEnd":232,"lineMapIndex":-1,"methodParents":[676],"nodeIndex":798},{"cfgs":[800],"code":"Assert.assertEquals(String.class, column.getType())","dfgs":[800],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":233,"lineEnd":233,"lineMapIndex":-1,"methodParents":[],"nodeIndex":799},{"cfgs":[801],"code":"Assert.assertEquals(Integer.valueOf(255), column.getLength())","dfgs":[801],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":234,"lineEnd":234,"lineMapIndex":-1,"methodParents":[],"nodeIndex":800},{"cfgs":[802],"code":"Assert.assertEquals(null, column.getDefaultValue())","dfgs":[802],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":235,"lineEnd":235,"lineMapIndex":-1,"methodParents":[],"nodeIndex":801},{"cfgs":[],"code":"Assert.assertTrue(column.isNullable())","dfgs":[804],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":236,"lineEnd":236,"lineMapIndex":-1,"methodParents":[],"nodeIndex":802},{"cfgs":[804],"code":"else","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":237,"lineEnd":237,"lineMapIndex":-1,"methodParents":[],"nodeIndex":803},{"cfgs":[],"code":"Assert.fail(\"Unexpected column name: \" + columnName)","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog300Test.java","fieldParents":[],"isDel":false,"lineBeg":238,"lineEnd":238,"lineMapIndex":-1,"methodParents":[],"nodeIndex":804},{"cfgs":[],"code":"import org.apache.ambari.server.events.AmbariConfigurationChangedEvent","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_ads_LdapConnectionTemplateFactory.java","fieldParents":[],"isDel":false,"lineBeg":21,"lineEnd":21,"lineMapIndex":318,"methodParents":[],"nodeIndex":805},{"cfgs":[],"code":"public void onConfigChange(AmbariConfigurationChangedEvent event) throws AmbariLdapException ","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_service_ads_LdapConnectionTemplateFactory.java","fieldParents":[],"isDel":false,"lineBeg":106,"lineEnd":106,"lineMapIndex":-1,"methodParents":[],"nodeIndex":806},{"cfgs":[],"code":"private Map<String, Object> properties = null","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_AmbariConfiguration.java","fieldParents":[],"isDel":false,"lineBeg":29,"lineEnd":29,"lineMapIndex":325,"methodParents":[],"nodeIndex":807},{"cfgs":[809],"code":"public Map<String, Object> getProperties() ","dfgs":[809],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_AmbariConfiguration.java","fieldParents":[],"isDel":false,"lineBeg":39,"lineEnd":39,"lineMapIndex":326,"methodParents":[],"nodeIndex":808},{"cfgs":[],"code":"return properties","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_AmbariConfiguration.java","fieldParents":[807],"isDel":false,"lineBeg":40,"lineEnd":40,"lineMapIndex":327,"methodParents":[],"nodeIndex":809},{"cfgs":[811],"code":"public void setProperties(Map<String, Object> data) ","dfgs":[811],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_AmbariConfiguration.java","fieldParents":[],"isDel":false,"lineBeg":43,"lineEnd":43,"lineMapIndex":328,"methodParents":[],"nodeIndex":810},{"cfgs":[],"code":"this.properties = data","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_ldap_AmbariConfiguration.java","fieldParents":[807],"isDel":false,"lineBeg":44,"lineEnd":44,"lineMapIndex":329,"methodParents":[],"nodeIndex":811},{"cfgs":[],"code":"import org.apache.commons.lang.builder.EqualsBuilder","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_domain_AmbariLdapConfiguration.java","fieldParents":[],"isDel":false,"lineBeg":22,"lineEnd":22,"lineMapIndex":342,"methodParents":[],"nodeIndex":812},{"cfgs":[],"code":"import org.apache.commons.lang.builder.HashCodeBuilder","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_domain_AmbariLdapConfiguration.java","fieldParents":[],"isDel":false,"lineBeg":23,"lineEnd":23,"lineMapIndex":343,"methodParents":[],"nodeIndex":813},{"cfgs":[815,816],"code":"if (this == o)","dfgs":[816,818],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_domain_AmbariLdapConfiguration.java","fieldParents":[],"isDel":false,"lineBeg":182,"lineEnd":182,"lineMapIndex":344,"methodParents":[],"nodeIndex":814},{"cfgs":[],"code":"return true","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_domain_AmbariLdapConfiguration.java","fieldParents":[],"isDel":false,"lineBeg":183,"lineEnd":183,"lineMapIndex":-1,"methodParents":[],"nodeIndex":815},{"cfgs":[817,818],"code":"if (o == null || getClass() != o.getClass())","dfgs":[818],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_domain_AmbariLdapConfiguration.java","fieldParents":[],"isDel":false,"lineBeg":186,"lineEnd":186,"lineMapIndex":345,"methodParents":[],"nodeIndex":816},{"cfgs":[],"code":"return false","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_domain_AmbariLdapConfiguration.java","fieldParents":[],"isDel":false,"lineBeg":187,"lineEnd":187,"lineMapIndex":-1,"methodParents":[],"nodeIndex":817},{"cfgs":[],"code":"return new EqualsBuilder().append(configurationMap, that.configurationMap).isEquals()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_domain_AmbariLdapConfiguration.java","fieldParents":[],"isDel":false,"lineBeg":192,"lineEnd":194,"lineMapIndex":346,"methodParents":[],"nodeIndex":818},{"cfgs":[],"code":"return new HashCodeBuilder(17, 37).append(configurationMap).toHashCode()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_ldap_domain_AmbariLdapConfiguration.java","fieldParents":[],"isDel":false,"lineBeg":199,"lineEnd":201,"lineMapIndex":347,"methodParents":[],"nodeIndex":819}]