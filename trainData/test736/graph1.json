[{"cfgs": [], "code": "return super.createQuery(tokens)", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AggCombinerExecutionNode.java", "fieldParents": [], "isDel": true, "lineBeg": 92, "lineEnd": 92, "lineMapIndex": -1, "methodParents": [0], "nodeIndex": 0, "rootcause": false, "commits": ["404648169b687102afb1ac93aacf116bf0962320"]}, {"cfgs": [2], "code": "ColumnOp oneIfNotNull = ColumnOp.whenthenelse(Arrays.asList(ColumnOp.notnull(op),ConstantColumn.valueOf(1),ConstantColumn.valueOf(0)))", "dfgs": [2], "fName": "src_main_java_org_verdictdb_core_rewriter_query_AggQueryRewriter.java", "fieldParents": [], "isDel": true, "lineBeg": 564, "lineEnd": 568, "lineMapIndex": 59, "methodParents": [3], "nodeIndex": 1, "rootcause": false, "commits": ["3c5189b1884d3b4507f3c45360d2e9e960befed0", "b01262fb15aeb43a0c62326d49ec38a9f8994d8e", "0a521d296ae569c2dd474aa6796a2aa3e7ad07f4"]}, {"cfgs": [], "code": "ColumnOp oneIfNotNull = ColumnOp.whenthenelse(Arrays.asList(ColumnOp.notnull(op),ConstantColumn.valueOf(1),ConstantColumn.valueOf(0)))", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_rewriter_query_AggQueryRewriter.java", "fieldParents": [], "isDel": true, "lineBeg": 663, "lineEnd": 667, "lineMapIndex": 60, "methodParents": [3], "nodeIndex": 2, "rootcause": false, "commits": ["3c5189b1884d3b4507f3c45360d2e9e960befed0", "b01262fb15aeb43a0c62326d49ec38a9f8994d8e", "0a521d296ae569c2dd474aa6796a2aa3e7ad07f4"]}, {"cfgs": [4], "code": "public static ColumnOp whenthenelse(List<UnnamedColumn> cols) ", "dfgs": [4], "fName": "src_main_java_org_verdictdb_core_sqlobject_ColumnOp.java", "fieldParents": [], "isDel": true, "lineBeg": 238, "lineEnd": 238, "lineMapIndex": 61, "methodParents": [], "nodeIndex": 3, "rootcause": false, "commits": ["b01262fb15aeb43a0c62326d49ec38a9f8994d8e"]}, {"cfgs": [], "code": "return new ColumnOp(\"whenthenelse\", cols)", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_sqlobject_ColumnOp.java", "fieldParents": [], "isDel": true, "lineBeg": 239, "lineEnd": 239, "lineMapIndex": 62, "methodParents": [], "nodeIndex": 4, "rootcause": false, "commits": ["b01262fb15aeb43a0c62326d49ec38a9f8994d8e"]}, {"cfgs": [6], "code": "stmt.execute(\"create schema if not exists \\\"verdictdb_temp\\\";\")", "dfgs": [6], "fName": "src_test_java_org_verdictdb_core_querying_AsyncAggScaleTest.java", "fieldParents": [], "isDel": true, "lineBeg": 124, "lineEnd": 124, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 5, "rootcause": false, "commits": ["35e26f84de118703019e83705a9c8d09c28321da"]}, {"cfgs": [], "code": "stmt.execute(\"drop schema \\\"verdictdb_temp\\\" cascade;\")", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_querying_AsyncAggScaleTest.java", "fieldParents": [], "isDel": true, "lineBeg": 129, "lineEnd": 129, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 6, "rootcause": false, "commits": ["35e26f84de118703019e83705a9c8d09c28321da"]}, {"cfgs": [8], "code": "public List<Integer> getNodeGroupIDs() ", "dfgs": [8], "fName": "src_main_java_org_verdictdb_core_querying_QueryExecutionPlan.java", "fieldParents": [], "isDel": true, "lineBeg": 245, "lineEnd": 245, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 7, "rootcause": false, "commits": ["55a72bae8a116c877e63fc17bb78a2fa6c5306db"]}, {"cfgs": [], "code": "return Arrays.asList(0)", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_QueryExecutionPlan.java", "fieldParents": [], "isDel": true, "lineBeg": 246, "lineEnd": 246, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 8, "rootcause": false, "commits": ["55a72bae8a116c877e63fc17bb78a2fa6c5306db"]}, {"cfgs": [10], "code": "public List<ExecutableNode> getNodesInGroup(int groupId) ", "dfgs": [10, 11, 12, 19, 13, 17, 18, 14, 15], "fName": "src_main_java_org_verdictdb_core_querying_QueryExecutionPlan.java", "fieldParents": [], "isDel": true, "lineBeg": 250, "lineEnd": 250, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 9, "rootcause": false, "commits": ["55a72bae8a116c877e63fc17bb78a2fa6c5306db"]}, {"cfgs": [11], "code": "List<ExecutableNode> nodes = new ArrayList<>()", "dfgs": [19, 15], "fName": "src_main_java_org_verdictdb_core_querying_QueryExecutionPlan.java", "fieldParents": [], "isDel": true, "lineBeg": 251, "lineEnd": 251, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 10, "rootcause": false, "commits": ["55a72bae8a116c877e63fc17bb78a2fa6c5306db"]}, {"cfgs": [12], "code": "List<BaseQueryNode> pool = new LinkedList<>()", "dfgs": [12], "fName": "src_main_java_org_verdictdb_core_querying_QueryExecutionPlan.java", "fieldParents": [], "isDel": true, "lineBeg": 252, "lineEnd": 252, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 11, "rootcause": false, "commits": ["55a72bae8a116c877e63fc17bb78a2fa6c5306db"]}, {"cfgs": [13], "code": "pool.add(root)", "dfgs": [13], "fName": "src_main_java_org_verdictdb_core_querying_QueryExecutionPlan.java", "fieldParents": [], "isDel": true, "lineBeg": 253, "lineEnd": 253, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 12, "rootcause": false, "commits": ["55a72bae8a116c877e63fc17bb78a2fa6c5306db"]}, {"cfgs": [14, 19], "code": "while (!pool.isEmpty())", "dfgs": [14], "fName": "src_main_java_org_verdictdb_core_querying_QueryExecutionPlan.java", "fieldParents": [], "isDel": true, "lineBeg": 254, "lineEnd": 254, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 13, "rootcause": false, "commits": ["55a72bae8a116c877e63fc17bb78a2fa6c5306db"]}, {"cfgs": [15], "code": "BaseQueryNode n = pool.remove(0)", "dfgs": [18, 15], "fName": "src_main_java_org_verdictdb_core_querying_QueryExecutionPlan.java", "fieldParents": [], "isDel": true, "lineBeg": 255, "lineEnd": 255, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 14, "rootcause": false, "commits": ["55a72bae8a116c877e63fc17bb78a2fa6c5306db"]}, {"cfgs": [17], "code": "if (nodes.contains(n))", "dfgs": [19, 17], "fName": "src_main_java_org_verdictdb_core_querying_QueryExecutionPlan.java", "fieldParents": [], "isDel": true, "lineBeg": 256, "lineEnd": 256, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 15, "rootcause": false, "commits": ["55a72bae8a116c877e63fc17bb78a2fa6c5306db"]}, {"cfgs": [], "code": "continue", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_QueryExecutionPlan.java", "fieldParents": [], "isDel": true, "lineBeg": 257, "lineEnd": 257, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 16, "rootcause": false, "commits": ["55a72bae8a116c877e63fc17bb78a2fa6c5306db"]}, {"cfgs": [18], "code": "nodes.add(n)", "dfgs": [19, 18], "fName": "src_main_java_org_verdictdb_core_querying_QueryExecutionPlan.java", "fieldParents": [], "isDel": true, "lineBeg": 259, "lineEnd": 259, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 17, "rootcause": false, "commits": ["55a72bae8a116c877e63fc17bb78a2fa6c5306db"]}, {"cfgs": [], "code": "pool.addAll(n.getDependents())", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_QueryExecutionPlan.java", "fieldParents": [], "isDel": true, "lineBeg": 260, "lineEnd": 260, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 18, "rootcause": false, "commits": ["55a72bae8a116c877e63fc17bb78a2fa6c5306db"]}, {"cfgs": [], "code": "return nodes", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_QueryExecutionPlan.java", "fieldParents": [], "isDel": true, "lineBeg": 262, "lineEnd": 262, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 19, "rootcause": false, "commits": ["55a72bae8a116c877e63fc17bb78a2fa6c5306db"]}, {"cfgs": [21], "code": "public ExecutableNode getReportingNode() ", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_QueryExecutionPlan.java", "fieldParents": [], "isDel": true, "lineBeg": 266, "lineEnd": 266, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 20, "rootcause": false, "commits": ["55a72bae8a116c877e63fc17bb78a2fa6c5306db"]}, {"cfgs": [], "code": "return root", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_QueryExecutionPlan.java", "fieldParents": [], "isDel": true, "lineBeg": 267, "lineEnd": 267, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 21, "rootcause": false, "commits": ["55a72bae8a116c877e63fc17bb78a2fa6c5306db"]}, {"cfgs": [23], "code": "String sql = \"case \"", "dfgs": [25, 24], "fName": "src_main_java_org_verdictdb_sqlreader_SelectQueryToSql.java", "fieldParents": [], "isDel": true, "lineBeg": 118, "lineEnd": 118, "lineMapIndex": 63, "methodParents": [], "nodeIndex": 22, "rootcause": false, "commits": ["b01262fb15aeb43a0c62326d49ec38a9f8994d8e"]}, {"cfgs": [24, 25], "code": "for (int i=0; i<columnOp.getOperands().size()-1;i=i+2)", "dfgs": [24, 25], "fName": "src_main_java_org_verdictdb_sqlreader_SelectQueryToSql.java", "fieldParents": [], "isDel": true, "lineBeg": 119, "lineEnd": 119, "lineMapIndex": 64, "methodParents": [], "nodeIndex": 23, "rootcause": false, "commits": ["b01262fb15aeb43a0c62326d49ec38a9f8994d8e"]}, {"cfgs": [], "code": "sql = sql + \"when \" + withParentheses(columnOp.getOperand(0)) + \" then \" + withParentheses(columnOp.getOperand(1))", "dfgs": [25], "fName": "src_main_java_org_verdictdb_sqlreader_SelectQueryToSql.java", "fieldParents": [], "isDel": true, "lineBeg": 120, "lineEnd": 120, "lineMapIndex": 65, "methodParents": [], "nodeIndex": 24, "rootcause": false, "commits": ["b01262fb15aeb43a0c62326d49ec38a9f8994d8e"]}, {"cfgs": [], "code": "sql = sql + \" else \" + withParentheses(columnOp.getOperand(columnOp.getOperands().size()-1)) + \" end\"", "dfgs": [], "fName": "src_main_java_org_verdictdb_sqlreader_SelectQueryToSql.java", "fieldParents": [], "isDel": true, "lineBeg": 122, "lineEnd": 122, "lineMapIndex": 66, "methodParents": [], "nodeIndex": 25, "rootcause": false, "commits": ["b01262fb15aeb43a0c62326d49ec38a9f8994d8e"]}, {"cfgs": [], "code": "import java.util.*", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": true, "lineBeg": 11, "lineEnd": 11, "lineMapIndex": 68, "methodParents": [], "nodeIndex": 26, "rootcause": false, "commits": ["b01262fb15aeb43a0c62326d49ec38a9f8994d8e"]}, {"cfgs": [], "code": "import org.verdictdb.core.connection.DbmsQueryResult", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": true, "lineBeg": 16, "lineEnd": 16, "lineMapIndex": 72, "methodParents": [], "nodeIndex": 27, "rootcause": false, "commits": ["404648169b687102afb1ac93aacf116bf0962320"]}, {"cfgs": [], "code": "import org.verdictdb.core.execution.ExecutionInfoToken", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": true, "lineBeg": 17, "lineEnd": 17, "lineMapIndex": 72, "methodParents": [], "nodeIndex": 28, "rootcause": false, "commits": ["035ad3ce418f504f799cd6c128de1d71e50e23a9"]}, {"cfgs": [], "code": "import org.verdictdb.core.rewriter.aggresult.AggNameAndType", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": true, "lineBeg": 20, "lineEnd": 20, "lineMapIndex": 73, "methodParents": [], "nodeIndex": 29, "rootcause": false, "commits": ["15330aef9a19ec93d28bf400626b88e337a44bc7"]}, {"cfgs": [], "code": "import org.verdictdb.core.scrambling.ScrambleMeta", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": true, "lineBeg": 21, "lineEnd": 21, "lineMapIndex": 73, "methodParents": [], "nodeIndex": 30, "rootcause": false, "commits": ["55a72bae8a116c877e63fc17bb78a2fa6c5306db"]}, {"cfgs": [], "code": "int tableNum = 1", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": true, "lineBeg": 53, "lineEnd": 53, "lineMapIndex": 76, "methodParents": [], "nodeIndex": 31, "rootcause": false, "commits": ["15330aef9a19ec93d28bf400626b88e337a44bc7"]}, {"cfgs": [33], "code": "public static AsyncAggExecutionNode create(TempIdCreator idCreator,List<BaseQueryNode> individualAggs,List<BaseQueryNode> combiners) throws VerdictDBValueException", "dfgs": [33], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": true, "lineBeg": 69, "lineEnd": 72, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 32, "rootcause": false, "commits": ["404648169b687102afb1ac93aacf116bf0962320", "15330aef9a19ec93d28bf400626b88e337a44bc7"]}, {"cfgs": [], "code": "node.addDependency(c)", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": true, "lineBeg": 84, "lineEnd": 84, "lineMapIndex": 78, "methodParents": [], "nodeIndex": 33, "rootcause": false, "commits": ["0fdaa836eac9599803118e27839998c0a02255d6"]}, {"cfgs": [], "code": "import org.verdictdb.core.querying.AggExecutionNode", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": true, "lineBeg": 9, "lineEnd": 9, "lineMapIndex": 188, "methodParents": [], "nodeIndex": 34, "rootcause": false, "commits": ["b01262fb15aeb43a0c62326d49ec38a9f8994d8e"]}, {"cfgs": [], "code": "import org.verdictdb.core.querying.QueryExecutionPlan", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": true, "lineBeg": 10, "lineEnd": 10, "lineMapIndex": 189, "methodParents": [], "nodeIndex": 35, "rootcause": false, "commits": ["b01262fb15aeb43a0c62326d49ec38a9f8994d8e"]}, {"cfgs": [], "code": "import org.verdictdb.core.querying.ola.AsyncAggExecutionNode", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": true, "lineBeg": 11, "lineEnd": 11, "lineMapIndex": 190, "methodParents": [], "nodeIndex": 36, "rootcause": false, "commits": ["b01262fb15aeb43a0c62326d49ec38a9f8994d8e"]}, {"cfgs": [], "code": "import org.verdictdb.core.querying.ola.AsyncQueryExecutionPlan", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": true, "lineBeg": 12, "lineEnd": 12, "lineMapIndex": 191, "methodParents": [], "nodeIndex": 37, "rootcause": false, "commits": ["b01262fb15aeb43a0c62326d49ec38a9f8994d8e"]}, {"cfgs": [], "code": "import org.verdictdb.core.querying.ola.Dimension", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": true, "lineBeg": 13, "lineEnd": 13, "lineMapIndex": 192, "methodParents": [], "nodeIndex": 38, "rootcause": false, "commits": ["b01262fb15aeb43a0c62326d49ec38a9f8994d8e"]}, {"cfgs": [], "code": "import org.verdictdb.core.querying.ola.HyperTableCube", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": true, "lineBeg": 14, "lineEnd": 14, "lineMapIndex": 193, "methodParents": [], "nodeIndex": 39, "rootcause": false, "commits": ["b01262fb15aeb43a0c62326d49ec38a9f8994d8e"]}, {"cfgs": [], "code": "import org.verdictdb.core.scrambling.ScrambleMeta", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": true, "lineBeg": 15, "lineEnd": 15, "lineMapIndex": 194, "methodParents": [], "nodeIndex": 40, "rootcause": false, "commits": ["b01262fb15aeb43a0c62326d49ec38a9f8994d8e"]}, {"cfgs": [], "code": "import org.verdictdb.core.scrambling.ScrambleMetaForTable", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": true, "lineBeg": 16, "lineEnd": 16, "lineMapIndex": 195, "methodParents": [], "nodeIndex": 41, "rootcause": false, "commits": ["b01262fb15aeb43a0c62326d49ec38a9f8994d8e"]}, {"cfgs": [], "code": "import org.verdictdb.core.scrambling.UniformScrambler", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": true, "lineBeg": 17, "lineEnd": 17, "lineMapIndex": 196, "methodParents": [], "nodeIndex": 42, "rootcause": false, "commits": ["b01262fb15aeb43a0c62326d49ec38a9f8994d8e"]}, {"cfgs": [], "code": "import org.verdictdb.core.sqlobject.AbstractRelation", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": true, "lineBeg": 18, "lineEnd": 18, "lineMapIndex": 197, "methodParents": [], "nodeIndex": 43, "rootcause": false, "commits": ["b01262fb15aeb43a0c62326d49ec38a9f8994d8e"]}, {"cfgs": [], "code": "import org.verdictdb.core.sqlobject.SelectQuery", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": true, "lineBeg": 20, "lineEnd": 20, "lineMapIndex": 199, "methodParents": [], "nodeIndex": 44, "rootcause": false, "commits": ["b01262fb15aeb43a0c62326d49ec38a9f8994d8e"]}, {"cfgs": [], "code": "import org.verdictdb.exception.VerdictDBException", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": true, "lineBeg": 21, "lineEnd": 21, "lineMapIndex": 200, "methodParents": [], "nodeIndex": 45, "rootcause": false, "commits": ["bd849b8eaea2ba64ba1164b0f2191dbab809a2c9"]}, {"cfgs": [], "code": "import org.verdictdb.sqlreader.NonValidatingSQLParser", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": true, "lineBeg": 22, "lineEnd": 22, "lineMapIndex": 200, "methodParents": [], "nodeIndex": 46, "rootcause": false, "commits": ["b01262fb15aeb43a0c62326d49ec38a9f8994d8e"]}, {"cfgs": [], "code": "import org.verdictdb.sqlreader.QueryToSql", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": true, "lineBeg": 23, "lineEnd": 23, "lineMapIndex": 201, "methodParents": [], "nodeIndex": 47, "rootcause": false, "commits": ["b01262fb15aeb43a0c62326d49ec38a9f8994d8e"]}, {"cfgs": [49], "code": "queryExecutionPlan.cleanUp()", "dfgs": [50], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": true, "lineBeg": 123, "lineEnd": 123, "lineMapIndex": 204, "methodParents": [], "nodeIndex": 48, "rootcause": false, "commits": ["bd849b8eaea2ba64ba1164b0f2191dbab809a2c9"]}, {"cfgs": [50], "code": "Dimension d1 = new Dimension(\"originalSchema\", \"originalTable_scrambled\", 0, 0)", "dfgs": [50], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": true, "lineBeg": 125, "lineEnd": 125, "lineMapIndex": 204, "methodParents": [], "nodeIndex": 49, "rootcause": false, "commits": ["bd849b8eaea2ba64ba1164b0f2191dbab809a2c9"]}, {"cfgs": [51], "code": "assertEquals(new HyperTableCube(Arrays.asList(d1)), ((AggExecutionNode)queryExecutionPlan.getRootNode().getDependents().get(0).getDependents().get(0)).getCubes().get(0))", "dfgs": [51], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": true, "lineBeg": 126, "lineEnd": 126, "lineMapIndex": 204, "methodParents": [], "nodeIndex": 50, "rootcause": false, "commits": ["b01262fb15aeb43a0c62326d49ec38a9f8994d8e"]}, {"cfgs": [], "code": "((AsyncAggExecutionNode)queryExecutionPlan.getRoot().getDependents().get(0)).setScrambleMeta(meta)", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": true, "lineBeg": 128, "lineEnd": 128, "lineMapIndex": 205, "methodParents": [], "nodeIndex": 51, "rootcause": false, "commits": ["b01262fb15aeb43a0c62326d49ec38a9f8994d8e"]}, {"cfgs": [], "code": "List<HyperTableCube> cubes = new ArrayList<>()", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AggCombinerExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 27, "lineEnd": 27, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 52, "rootcause": false, "commits": []}, {"cfgs": [54], "code": "for (ExecutionInfoToken token:tokens)", "dfgs": [54], "fName": "src_main_java_org_verdictdb_core_querying_ola_AggCombinerExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 89, "lineEnd": 89, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 53, "rootcause": false, "commits": []}, {"cfgs": [], "code": "cubes.addAll((List<HyperTableCube>) token.getValue(\"hyperTableCube\"))", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AggCombinerExecutionNode.java", "fieldParents": [52], "isDel": false, "lineBeg": 90, "lineEnd": 90, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 54, "rootcause": false, "commits": []}, {"cfgs": [56], "code": "ExecutionInfoToken token = super.createToken(result)", "dfgs": [56], "fName": "src_main_java_org_verdictdb_core_querying_ola_AggCombinerExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 97, "lineEnd": 97, "lineMapIndex": -1, "methodParents": [55], "nodeIndex": 55, "rootcause": false, "commits": []}, {"cfgs": [57], "code": "token.setKeyValue(\"hyperTableCube\", cubes)", "dfgs": [57], "fName": "src_main_java_org_verdictdb_core_querying_ola_AggCombinerExecutionNode.java", "fieldParents": [52], "isDel": false, "lineBeg": 98, "lineEnd": 98, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 56, "rootcause": false, "commits": []}, {"cfgs": [58], "code": "token.setKeyValue(\"dependent\", this)", "dfgs": [58], "fName": "src_main_java_org_verdictdb_core_querying_ola_AggCombinerExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 99, "lineEnd": 99, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 57, "rootcause": false, "commits": []}, {"cfgs": [], "code": "return token", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AggCombinerExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 100, "lineEnd": 100, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 58, "rootcause": false, "commits": []}, {"cfgs": [60], "code": "ColumnOp oneIfNotNull = ColumnOp.whenthenelse(Arrays.asList(ColumnOp.notnull(op),ConstantColumn.valueOf(1),ConstantColumn.valueOf(0)))", "dfgs": [60], "fName": "src_main_java_org_verdictdb_core_rewriter_query_AggQueryRewriter.java", "fieldParents": [], "isDel": false, "lineBeg": 564, "lineEnd": 568, "lineMapIndex": 1, "methodParents": [61], "nodeIndex": 59, "rootcause": false, "commits": []}, {"cfgs": [], "code": "ColumnOp oneIfNotNull = ColumnOp.whenthenelse(Arrays.asList(ColumnOp.notnull(op),ConstantColumn.valueOf(1),ConstantColumn.valueOf(0)))", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_rewriter_query_AggQueryRewriter.java", "fieldParents": [], "isDel": false, "lineBeg": 663, "lineEnd": 667, "lineMapIndex": 2, "methodParents": [61], "nodeIndex": 60, "rootcause": false, "commits": []}, {"cfgs": [62], "code": "public static ColumnOp whenthenelse(List<UnnamedColumn> cols) ", "dfgs": [62], "fName": "src_main_java_org_verdictdb_core_sqlobject_ColumnOp.java", "fieldParents": [], "isDel": false, "lineBeg": 238, "lineEnd": 238, "lineMapIndex": 3, "methodParents": [], "nodeIndex": 61, "rootcause": false, "commits": []}, {"cfgs": [], "code": "return new ColumnOp(\"whenthenelse\", cols)", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_sqlobject_ColumnOp.java", "fieldParents": [], "isDel": false, "lineBeg": 239, "lineEnd": 239, "lineMapIndex": 4, "methodParents": [], "nodeIndex": 62, "rootcause": false, "commits": []}, {"cfgs": [64], "code": "String sql = \"case \"", "dfgs": [66, 65], "fName": "src_main_java_org_verdictdb_sqlreader_SelectQueryToSql.java", "fieldParents": [], "isDel": false, "lineBeg": 118, "lineEnd": 118, "lineMapIndex": 22, "methodParents": [], "nodeIndex": 63, "rootcause": false, "commits": []}, {"cfgs": [65, 66], "code": "for (int i=0; i<columnOp.getOperands().size()-1;i=i+2)", "dfgs": [65, 66], "fName": "src_main_java_org_verdictdb_sqlreader_SelectQueryToSql.java", "fieldParents": [], "isDel": false, "lineBeg": 119, "lineEnd": 119, "lineMapIndex": 23, "methodParents": [], "nodeIndex": 64, "rootcause": false, "commits": []}, {"cfgs": [], "code": "sql = sql + \"when \" + withParentheses(columnOp.getOperand(0)) + \" then \" + withParentheses(columnOp.getOperand(1))", "dfgs": [66], "fName": "src_main_java_org_verdictdb_sqlreader_SelectQueryToSql.java", "fieldParents": [], "isDel": false, "lineBeg": 120, "lineEnd": 120, "lineMapIndex": 24, "methodParents": [], "nodeIndex": 65, "rootcause": false, "commits": []}, {"cfgs": [67], "code": "sql = sql + \" else \" + withParentheses(columnOp.getOperand(columnOp.getOperands().size()-1)) + \" end\"", "dfgs": [67], "fName": "src_main_java_org_verdictdb_sqlreader_SelectQueryToSql.java", "fieldParents": [], "isDel": false, "lineBeg": 122, "lineEnd": 122, "lineMapIndex": 25, "methodParents": [], "nodeIndex": 66, "rootcause": false, "commits": []}, {"cfgs": [], "code": "return sql", "dfgs": [], "fName": "src_main_java_org_verdictdb_sqlreader_SelectQueryToSql.java", "fieldParents": [], "isDel": false, "lineBeg": 123, "lineEnd": 123, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 67, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import java.util.*", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 11, "lineEnd": 11, "lineMapIndex": 26, "methodParents": [], "nodeIndex": 68, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import com.google.common.base.Optional", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 13, "lineEnd": 13, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 69, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import org.apache.commons.lang3.tuple.ImmutablePair", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 14, "lineEnd": 14, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 70, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import org.apache.commons.lang3.tuple.Pair", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 15, "lineEnd": 15, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 71, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import org.verdictdb.core.querying.*", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 19, "lineEnd": 19, "lineMapIndex": 28, "methodParents": [], "nodeIndex": 72, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import org.verdictdb.core.scrambling.ScrambleMetaForTable", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 22, "lineEnd": 22, "lineMapIndex": 30, "methodParents": [], "nodeIndex": 73, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import org.verdictdb.core.sqlobject.*", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 23, "lineEnd": 23, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 74, "rootcause": false, "commits": []}, {"cfgs": [], "code": "public class AsyncAggExecutionNode extends ProjectionNode ", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 39, "lineEnd": 39, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 75, "rootcause": false, "commits": []}, {"cfgs": [77], "code": "List<Pair<Integer, String>> multipleTierTableTierInfo = new ArrayList<>()", "dfgs": [77], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 59, "lineEnd": 59, "lineMapIndex": 31, "methodParents": [], "nodeIndex": 76, "rootcause": false, "commits": []}, {"cfgs": [], "code": "super(null, null)", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 66, "lineEnd": 66, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 77, "rootcause": false, "commits": []}, {"cfgs": [79], "code": "Pair<List<ColumnOp>, SqlConvertable> aggColumnsAndQuery = createBaseQueryForReplacement()", "dfgs": [81, 80, 84, 87], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 95, "lineEnd": 95, "lineMapIndex": 33, "methodParents": [98], "nodeIndex": 78, "rootcause": false, "commits": []}, {"cfgs": [80], "code": "HashMap<List<Integer>, Double> scaleFactor = new HashMap<>()", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 98, "lineEnd": 98, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 79, "rootcause": false, "commits": []}, {"cfgs": [81], "code": "List<HyperTableCube> cubes = (List<HyperTableCube>) savedToken.getValue(\"hyperTableCube\")", "dfgs": [81], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 99, "lineEnd": 99, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 80, "rootcause": false, "commits": []}, {"cfgs": [82], "code": "scaleFactor = calculateScaleFactor(cubes)", "dfgs": [82, 91], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 100, "lineEnd": 100, "lineMapIndex": -1, "methodParents": [125], "nodeIndex": 81, "rootcause": false, "commits": []}, {"cfgs": [83, 86], "code": "if (scaleFactor.size()==1)", "dfgs": [83, 90], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 102, "lineEnd": 102, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 82, "rootcause": false, "commits": []}, {"cfgs": [84], "code": "Double s = (Double) (scaleFactor.values().toArray())[0]", "dfgs": [85], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 104, "lineEnd": 104, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 83, "rootcause": false, "commits": []}, {"cfgs": [97, 85], "code": "for (ColumnOp col : aggColumnsAndQuery.getLeft())", "dfgs": [97, 85], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 105, "lineEnd": 105, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 84, "rootcause": false, "commits": []}, {"cfgs": [], "code": "col.setOperand(0, ConstantColumn.valueOf(s))", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 106, "lineEnd": 106, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 85, "rootcause": false, "commits": []}, {"cfgs": [87], "code": "else", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 109, "lineEnd": 109, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 86, "rootcause": false, "commits": []}, {"cfgs": [97, 88], "code": "for (ColumnOp col : aggColumnsAndQuery.getLeft())", "dfgs": [97, 88], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 111, "lineEnd": 111, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 87, "rootcause": false, "commits": []}, {"cfgs": [89], "code": "col.setOpType(\"whenthenelse\")", "dfgs": [96, 93], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 112, "lineEnd": 112, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 88, "rootcause": false, "commits": []}, {"cfgs": [90], "code": "List<UnnamedColumn> operands = new ArrayList<>()", "dfgs": [95, 92], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 113, "lineEnd": 113, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 89, "rootcause": false, "commits": []}, {"cfgs": [95, 91], "code": "for (Map.Entry<List<Integer>, Double> entry:scaleFactor.entrySet())", "dfgs": [91], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 114, "lineEnd": 114, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 90, "rootcause": false, "commits": []}, {"cfgs": [92], "code": "UnnamedColumn condition = generateCaseCondition(entry.getKey())", "dfgs": [92, 93], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 115, "lineEnd": 115, "lineMapIndex": -1, "methodParents": [168], "nodeIndex": 91, "rootcause": false, "commits": []}, {"cfgs": [93], "code": "operands.add(condition)", "dfgs": [94], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 116, "lineEnd": 116, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 92, "rootcause": false, "commits": []}, {"cfgs": [94], "code": "ColumnOp multiply = new ColumnOp(\"multiply\", Arrays.asList(ConstantColumn.valueOf(entry.getValue()),col.getOperand(1)))", "dfgs": [96, 95, 94], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 117, "lineEnd": 120, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 93, "rootcause": false, "commits": []}, {"cfgs": [], "code": "operands.add(multiply)", "dfgs": [95], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 121, "lineEnd": 121, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 94, "rootcause": false, "commits": []}, {"cfgs": [96], "code": "operands.add(ConstantColumn.valueOf(0))", "dfgs": [96], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 123, "lineEnd": 123, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 95, "rootcause": false, "commits": []}, {"cfgs": [], "code": "col.setOperand(operands)", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 124, "lineEnd": 124, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 96, "rootcause": false, "commits": []}, {"cfgs": [], "code": "return aggColumnsAndQuery.getRight()", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 128, "lineEnd": 128, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 97, "rootcause": false, "commits": []}, {"cfgs": [99], "code": "Pair<List<ColumnOp>, SqlConvertable> createBaseQueryForReplacement() ", "dfgs": [99, 100, 124, 102, 123, 101, 103, 113, 104, 114, 105, 106, 107, 108, 115, 109, 110, 112, 116, 118, 117, 119, 120, 122], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 175, "lineEnd": 175, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 98, "rootcause": false, "commits": []}, {"cfgs": [100], "code": "List<ColumnOp> aggColumnlist = new ArrayList<>()", "dfgs": [124, 109, 119], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 176, "lineEnd": 176, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 99, "rootcause": false, "commits": []}, {"cfgs": [101], "code": "BaseQueryNode dependent = (BaseQueryNode) savedToken.getValue(\"dependent\")", "dfgs": [101, 123], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 177, "lineEnd": 177, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 100, "rootcause": false, "commits": []}, {"cfgs": [102], "code": "List<SelectItem> newSelectList = dependent.getSelectQuery().deepcopy().getSelectList()", "dfgs": [102, 123, 103, 114], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 178, "lineEnd": 178, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 101, "rootcause": false, "commits": []}, {"cfgs": [103, 113], "code": "if (dependent instanceof AggExecutionNode)", "dfgs": [113], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 179, "lineEnd": 179, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 102, "rootcause": false, "commits": []}, {"cfgs": [123, 104], "code": "for (SelectItem selectItem : newSelectList)", "dfgs": [123, 104, 105], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 180, "lineEnd": 180, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 103, "rootcause": false, "commits": []}, {"cfgs": [105], "code": "if (selectItem instanceof AliasedColumn)", "dfgs": [105], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 182, "lineEnd": 182, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 104, "rootcause": false, "commits": []}, {"cfgs": [106], "code": "int index = newSelectList.indexOf(selectItem)", "dfgs": [106, 110, 112, 108], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 183, "lineEnd": 183, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 105, "rootcause": false, "commits": []}, {"cfgs": [107], "code": "UnnamedColumn col = ((AliasedColumn) selectItem).getColumn()", "dfgs": [107], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 184, "lineEnd": 184, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 106, "rootcause": false, "commits": []}, {"cfgs": [108, 111], "code": "if (AsyncAggExecutionNode.isAggregateColumn(col))", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 185, "lineEnd": 185, "lineMapIndex": -1, "methodParents": [177], "nodeIndex": 107, "rootcause": false, "commits": []}, {"cfgs": [109], "code": "ColumnOp aggColumn = new ColumnOp(\"multiply\", Arrays.<UnnamedColumn>asList(ConstantColumn.valueOf(1.0), new BaseColumn(\"to_scale_query\", ((AliasedColumn) selectItem).getAliasName())))", "dfgs": [109], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 186, "lineEnd": 188, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 108, "rootcause": false, "commits": []}, {"cfgs": [110], "code": "aggColumnlist.add(aggColumn)", "dfgs": [124, 110], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 189, "lineEnd": 189, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 109, "rootcause": false, "commits": []}, {"cfgs": [], "code": "newSelectList.set(index, new AliasedColumn(aggColumn, ((AliasedColumn) selectItem).getAliasName()))", "dfgs": [123], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 190, "lineEnd": 190, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 110, "rootcause": false, "commits": []}, {"cfgs": [112], "code": "else", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 191, "lineEnd": 191, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 111, "rootcause": false, "commits": []}, {"cfgs": [], "code": "newSelectList.set(index, new AliasedColumn(new BaseColumn(\"to_scale_query\", ((AliasedColumn) selectItem).getAliasName()),((AliasedColumn) selectItem).getAliasName()))", "dfgs": [123], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 192, "lineEnd": 193, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 112, "rootcause": false, "commits": []}, {"cfgs": [114, 123], "code": "if (dependent instanceof AggCombinerExecutionNode)", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 197, "lineEnd": 197, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 113, "rootcause": false, "commits": []}, {"cfgs": [123, 115], "code": "for (SelectItem selectItem : newSelectList)", "dfgs": [123, 115, 116], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 198, "lineEnd": 198, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 114, "rootcause": false, "commits": []}, {"cfgs": [116], "code": "if (selectItem instanceof AliasedColumn)", "dfgs": [116], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 199, "lineEnd": 199, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 115, "rootcause": false, "commits": []}, {"cfgs": [117], "code": "int index = newSelectList.indexOf(selectItem)", "dfgs": [120, 117, 122, 118], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 200, "lineEnd": 200, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 116, "rootcause": false, "commits": []}, {"cfgs": [118, 121], "code": "if (((AliasedColumn) selectItem).getAliasName().matches(\"s[0-9]+\") || ((AliasedColumn) selectItem).getAliasName().matches(\"c[0-9]+\"))", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 201, "lineEnd": 201, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 117, "rootcause": false, "commits": []}, {"cfgs": [119], "code": "ColumnOp aggColumn = new ColumnOp(\"multiply\", Arrays.<UnnamedColumn>asList(ConstantColumn.valueOf(1.0), new BaseColumn(\"to_scale_query\", ((AliasedColumn) selectItem).getAliasName())))", "dfgs": [119], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 202, "lineEnd": 204, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 118, "rootcause": false, "commits": []}, {"cfgs": [120], "code": "aggColumnlist.add(aggColumn)", "dfgs": [124, 120], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 205, "lineEnd": 205, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 119, "rootcause": false, "commits": []}, {"cfgs": [], "code": "newSelectList.set(index, new AliasedColumn(aggColumn, ((AliasedColumn) selectItem).getAliasName()))", "dfgs": [123], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 206, "lineEnd": 206, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 120, "rootcause": false, "commits": []}, {"cfgs": [122], "code": "else", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 207, "lineEnd": 207, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 121, "rootcause": false, "commits": []}, {"cfgs": [], "code": "newSelectList.set(index, new AliasedColumn(new BaseColumn(\"to_scale_query\", ((AliasedColumn) selectItem).getAliasName()),((AliasedColumn) selectItem).getAliasName()))", "dfgs": [123], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 208, "lineEnd": 209, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 122, "rootcause": false, "commits": []}, {"cfgs": [124], "code": "SelectQuery query = SelectQuery.create(newSelectList,new BaseTable((String) savedToken.getValue(\"schemaName\"), (String) savedToken.getValue(\"tableName\"), \"to_scale_query\"))", "dfgs": [124], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 215, "lineEnd": 216, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 123, "rootcause": false, "commits": []}, {"cfgs": [], "code": "return new ImmutablePair<>(aggColumnlist, (SqlConvertable) query)", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 217, "lineEnd": 217, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 124, "rootcause": false, "commits": []}, {"cfgs": [126], "code": "public HashMap<List<Integer>, Double> calculateScaleFactor(List<HyperTableCube> cubes) ", "dfgs": [127, 128, 129, 137, 151, 126, 130, 136, 138, 139, 131, 132, 133, 134, 140, 141, 148, 135, 142, 143, 144, 145, 147, 146], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 222, "lineEnd": 222, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 125, "rootcause": false, "commits": []}, {"cfgs": [127], "code": "ScrambleMeta scrambleMeta = this.getScrambleMeta()", "dfgs": [136, 131, 135], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 223, "lineEnd": 223, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 126, "rootcause": false, "commits": []}, {"cfgs": [128], "code": "List<ScrambleMetaForTable> metaForTablesList = new ArrayList<>()", "dfgs": [132, 146], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 224, "lineEnd": 224, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 127, "rootcause": false, "commits": []}, {"cfgs": [129], "code": "List<Integer> blockCountList = new ArrayList<>()", "dfgs": [131], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 225, "lineEnd": 225, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 128, "rootcause": false, "commits": []}, {"cfgs": [130], "code": "List<Pair<Integer, Integer>> scrambleTableTierInfo = new ArrayList<>()", "dfgs": [136, 133], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 226, "lineEnd": 226, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 129, "rootcause": false, "commits": []}, {"cfgs": [136, 131], "code": "for (Dimension d : cubes.get(0).getDimensions())", "dfgs": [140, 131, 133], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 227, "lineEnd": 227, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 130, "rootcause": false, "commits": []}, {"cfgs": [132], "code": "blockCountList.add(scrambleMeta.getAggregationBlockCount(d.getSchemaName(), d.getTableName()))", "dfgs": [132], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 228, "lineEnd": 228, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 131, "rootcause": false, "commits": []}, {"cfgs": [133], "code": "metaForTablesList.add(scrambleMeta.getMetaForTable(d.getSchemaName(), d.getTableName()))", "dfgs": [133, 146], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 229, "lineEnd": 229, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 132, "rootcause": false, "commits": []}, {"cfgs": [134], "code": "scrambleTableTierInfo.add(new ImmutablePair<>(cubes.get(0).getDimensions().indexOf(d),scrambleMeta.getMetaForTable(d.getSchemaName(), d.getTableName()).getNumberOfTiers()))", "dfgs": [136, 140, 134, 135], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 230, "lineEnd": 231, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 133, "rootcause": false, "commits": []}, {"cfgs": [135], "code": "if (scrambleMeta.getMetaForTable(d.getSchemaName(), d.getTableName()).getNumberOfTiers() > 1)", "dfgs": [135], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 232, "lineEnd": 232, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 134, "rootcause": false, "commits": []}, {"cfgs": [], "code": "multipleTierTableTierInfo.add(new ImmutablePair<>(cubes.get(0).getDimensions().indexOf(d),scrambleMeta.getMetaForTable(d.getSchemaName(), d.getTableName()).getTierColumn()))", "dfgs": [136, 140], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [76], "isDel": false, "lineBeg": 233, "lineEnd": 234, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 135, "rootcause": false, "commits": []}, {"cfgs": [137], "code": "List<List<Integer>> tierPermuation = generateTierPermuation(scrambleTableTierInfo)", "dfgs": [138], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 238, "lineEnd": 238, "lineMapIndex": -1, "methodParents": [152], "nodeIndex": 136, "rootcause": false, "commits": []}, {"cfgs": [138], "code": "HashMap<List<Integer>, Double> scaleFactor = new HashMap<>()", "dfgs": [151], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 239, "lineEnd": 239, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 137, "rootcause": false, "commits": []}, {"cfgs": [151, 139], "code": "for (List<Integer> tierlist : tierPermuation)", "dfgs": [151, 142], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 240, "lineEnd": 240, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 138, "rootcause": false, "commits": []}, {"cfgs": [140], "code": "double total = 0", "dfgs": [151, 148], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 241, "lineEnd": 241, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 139, "rootcause": false, "commits": []}, {"cfgs": [141, 149], "code": "for (HyperTableCube cube : cubes)", "dfgs": [144], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 242, "lineEnd": 242, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 140, "rootcause": false, "commits": []}, {"cfgs": [142], "code": "double scale = 1", "dfgs": [148, 147], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 243, "lineEnd": 243, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 141, "rootcause": false, "commits": []}, {"cfgs": [143, 148], "code": "for (int i = 0; i < tierlist.size(); i++)", "dfgs": [151, 143], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 244, "lineEnd": 244, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 142, "rootcause": false, "commits": []}, {"cfgs": [144], "code": "int tier = tierlist.get(i)", "dfgs": [144, 146], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 245, "lineEnd": 245, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 143, "rootcause": false, "commits": []}, {"cfgs": [145], "code": "Dimension d = cube.getDimensions().get(i)", "dfgs": [145, 146], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 246, "lineEnd": 246, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 144, "rootcause": false, "commits": []}, {"cfgs": [146], "code": "int blockIndex = d.getEnd()", "dfgs": [146], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 247, "lineEnd": 247, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 145, "rootcause": false, "commits": []}, {"cfgs": [147], "code": "double prob = d.getBegin() == 0 ? metaForTablesList.get(i).getCumulativeProbabilityDistribution(tier).get(d.getEnd()): metaForTablesList.get(i).getCumulativeProbabilityDistribution(tier).get(d.getEnd()) -metaForTablesList.get(i).getCumulativeProbabilityDistribution(tier).get(d.getBegin() - 1)", "dfgs": [147], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 248, "lineEnd": 250, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 146, "rootcause": false, "commits": []}, {"cfgs": [], "code": "scale = scale * prob", "dfgs": [148], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 251, "lineEnd": 251, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 147, "rootcause": false, "commits": []}, {"cfgs": [], "code": "total += scale", "dfgs": [151], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 253, "lineEnd": 253, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 148, "rootcause": false, "commits": []}, {"cfgs": [150], "code": "if (total == 0)", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 255, "lineEnd": 255, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 149, "rootcause": false, "commits": []}, {"cfgs": [], "code": "else", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 256, "lineEnd": 256, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 150, "rootcause": false, "commits": []}, {"cfgs": [], "code": "return scaleFactor", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 258, "lineEnd": 258, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 151, "rootcause": false, "commits": []}, {"cfgs": [153], "code": "List<List<Integer>> generateTierPermuation(List<Pair<Integer, Integer>> scrambleTableTierInfo) ", "dfgs": [153, 154, 155, 157, 161, 162, 167, 156, 159, 160, 163, 164, 165, 166], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 262, "lineEnd": 262, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 152, "rootcause": false, "commits": []}, {"cfgs": [154, 158], "code": "if (scrambleTableTierInfo.size() == 1)", "dfgs": [155, 159], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 263, "lineEnd": 263, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 153, "rootcause": false, "commits": []}, {"cfgs": [155], "code": "List<List<Integer>> res = new ArrayList<>()", "dfgs": [157, 156], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 264, "lineEnd": 264, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 154, "rootcause": false, "commits": []}, {"cfgs": [156, 157], "code": "for (int tier = 0; tier < scrambleTableTierInfo.get(0).getRight(); tier++)", "dfgs": [156], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 265, "lineEnd": 265, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 155, "rootcause": false, "commits": []}, {"cfgs": [], "code": "res.add(Arrays.asList(tier))", "dfgs": [157], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 266, "lineEnd": 266, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 156, "rootcause": false, "commits": []}, {"cfgs": [], "code": "return res", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 268, "lineEnd": 268, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 157, "rootcause": false, "commits": []}, {"cfgs": [159], "code": "else", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 269, "lineEnd": 269, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 158, "rootcause": false, "commits": []}, {"cfgs": [160], "code": "List<Pair<Integer, Integer>> next = scrambleTableTierInfo.subList(1, scrambleTableTierInfo.size())", "dfgs": [160, 162], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 270, "lineEnd": 270, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 159, "rootcause": false, "commits": []}, {"cfgs": [161], "code": "List<List<Integer>> subres = generateTierPermuation(next)", "dfgs": [163], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 271, "lineEnd": 271, "lineMapIndex": -1, "methodParents": [152], "nodeIndex": 160, "rootcause": false, "commits": []}, {"cfgs": [162], "code": "List<List<Integer>> res = new ArrayList<>()", "dfgs": [167, 166], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 272, "lineEnd": 272, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 161, "rootcause": false, "commits": []}, {"cfgs": [163, 167], "code": "for (int tier = 0; tier < scrambleTableTierInfo.get(0).getRight(); tier++)", "dfgs": [165], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 273, "lineEnd": 273, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 162, "rootcause": false, "commits": []}, {"cfgs": [164], "code": "for (List<Integer> tierlist : subres)", "dfgs": [164], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 274, "lineEnd": 274, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 163, "rootcause": false, "commits": []}, {"cfgs": [165], "code": "List<Integer> newTierlist = tierlist", "dfgs": [165], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 275, "lineEnd": 275, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 164, "rootcause": false, "commits": []}, {"cfgs": [166], "code": "newTierlist.add(0, tier)", "dfgs": [166], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 276, "lineEnd": 276, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 165, "rootcause": false, "commits": []}, {"cfgs": [], "code": "res.add(newTierlist)", "dfgs": [167], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 277, "lineEnd": 277, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 166, "rootcause": false, "commits": []}, {"cfgs": [], "code": "return res", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 280, "lineEnd": 280, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 167, "rootcause": false, "commits": []}, {"cfgs": [169], "code": "UnnamedColumn generateCaseCondition(List<Integer> tierlist) ", "dfgs": [170, 169, 171, 172, 176, 173, 174], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 284, "lineEnd": 284, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 168, "rootcause": false, "commits": []}, {"cfgs": [170], "code": "Optional<ColumnOp> col = Optional.absent()", "dfgs": [176, 173, 174], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 285, "lineEnd": 285, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 169, "rootcause": false, "commits": []}, {"cfgs": [171, 176], "code": "for (int i=0;i<multipleTierTableTierInfo.size();i++)", "dfgs": [171], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [76], "isDel": false, "lineBeg": 286, "lineEnd": 286, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 170, "rootcause": false, "commits": []}, {"cfgs": [172], "code": "BaseColumn tierColumn = new BaseColumn(\"to_scale_query\", multipleTierTableTierInfo.get(i).getRight())", "dfgs": [172], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [76], "isDel": false, "lineBeg": 287, "lineEnd": 287, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 171, "rootcause": false, "commits": []}, {"cfgs": [173], "code": "ColumnOp equation = new ColumnOp(\"equal\", Arrays.asList(tierColumn,ConstantColumn.valueOf(tierlist.get(multipleTierTableTierInfo.get(i).getLeft()))))", "dfgs": [176, 173, 174], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [76], "isDel": false, "lineBeg": 288, "lineEnd": 289, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 172, "rootcause": false, "commits": []}, {"cfgs": [174, 175], "code": "if (col.isPresent())", "dfgs": [174], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 290, "lineEnd": 290, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 173, "rootcause": false, "commits": []}, {"cfgs": [], "code": "col = Optional.of(new ColumnOp(\"equal\", Arrays.<UnnamedColumn>asList(equation, col.get())))", "dfgs": [176], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 291, "lineEnd": 291, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 174, "rootcause": false, "commits": []}, {"cfgs": [], "code": "else", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 293, "lineEnd": 293, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 175, "rootcause": false, "commits": []}, {"cfgs": [], "code": "return col.get()", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 295, "lineEnd": 295, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 176, "rootcause": false, "commits": []}, {"cfgs": [178], "code": "public static boolean isAggregateColumn(UnnamedColumn sel) ", "dfgs": [178, 187, 179, 180, 182, 181, 183, 185, 184], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 299, "lineEnd": 299, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 177, "rootcause": false, "commits": []}, {"cfgs": [179], "code": "List<SelectItem> itemToCheck = new ArrayList<>()", "dfgs": [179], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 300, "lineEnd": 300, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 178, "rootcause": false, "commits": []}, {"cfgs": [180], "code": "itemToCheck.add(sel)", "dfgs": [180], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 301, "lineEnd": 301, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 179, "rootcause": false, "commits": []}, {"cfgs": [181, 187], "code": "while (!itemToCheck.isEmpty())", "dfgs": [181], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 302, "lineEnd": 302, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 180, "rootcause": false, "commits": []}, {"cfgs": [182], "code": "SelectItem s = itemToCheck.get(0)", "dfgs": [182, 183], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 303, "lineEnd": 303, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 181, "rootcause": false, "commits": []}, {"cfgs": [183], "code": "itemToCheck.remove(0)", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 304, "lineEnd": 304, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 182, "rootcause": false, "commits": []}, {"cfgs": [184], "code": "if (s instanceof ColumnOp)", "dfgs": [184], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 305, "lineEnd": 305, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 183, "rootcause": false, "commits": []}, {"cfgs": [185, 186], "code": "if (((ColumnOp) s).getOpType().equals(\"count\") || ((ColumnOp) s).getOpType().equals(\"sum\"))", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 306, "lineEnd": 306, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 184, "rootcause": false, "commits": []}, {"cfgs": [], "code": "return true", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 307, "lineEnd": 307, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 185, "rootcause": false, "commits": []}, {"cfgs": [], "code": "else", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 309, "lineEnd": 309, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 186, "rootcause": false, "commits": []}, {"cfgs": [], "code": "return false", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_ola_AsyncAggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 312, "lineEnd": 312, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 187, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import org.verdictdb.core.querying.AggExecutionNode", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": false, "lineBeg": 9, "lineEnd": 9, "lineMapIndex": 34, "methodParents": [], "nodeIndex": 188, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import org.verdictdb.core.querying.QueryExecutionPlan", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": false, "lineBeg": 10, "lineEnd": 10, "lineMapIndex": 35, "methodParents": [], "nodeIndex": 189, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import org.verdictdb.core.querying.ola.AsyncAggExecutionNode", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": false, "lineBeg": 11, "lineEnd": 11, "lineMapIndex": 36, "methodParents": [], "nodeIndex": 190, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import org.verdictdb.core.querying.ola.AsyncQueryExecutionPlan", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": false, "lineBeg": 12, "lineEnd": 12, "lineMapIndex": 37, "methodParents": [], "nodeIndex": 191, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import org.verdictdb.core.querying.ola.Dimension", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": false, "lineBeg": 13, "lineEnd": 13, "lineMapIndex": 38, "methodParents": [], "nodeIndex": 192, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import org.verdictdb.core.querying.ola.HyperTableCube", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": false, "lineBeg": 14, "lineEnd": 14, "lineMapIndex": 39, "methodParents": [], "nodeIndex": 193, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import org.verdictdb.core.scrambling.ScrambleMeta", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": false, "lineBeg": 15, "lineEnd": 15, "lineMapIndex": 40, "methodParents": [], "nodeIndex": 194, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import org.verdictdb.core.scrambling.ScrambleMetaForTable", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": false, "lineBeg": 16, "lineEnd": 16, "lineMapIndex": 41, "methodParents": [], "nodeIndex": 195, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import org.verdictdb.core.scrambling.UniformScrambler", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": false, "lineBeg": 17, "lineEnd": 17, "lineMapIndex": 42, "methodParents": [], "nodeIndex": 196, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import org.verdictdb.core.sqlobject.AbstractRelation", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": false, "lineBeg": 18, "lineEnd": 18, "lineMapIndex": 43, "methodParents": [], "nodeIndex": 197, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import org.verdictdb.core.sqlobject.CreateTableAsSelectQuery", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": false, "lineBeg": 19, "lineEnd": 19, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 198, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import org.verdictdb.core.sqlobject.SelectQuery", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": false, "lineBeg": 20, "lineEnd": 20, "lineMapIndex": 44, "methodParents": [], "nodeIndex": 199, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import org.verdictdb.sqlreader.NonValidatingSQLParser", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": false, "lineBeg": 22, "lineEnd": 22, "lineMapIndex": 46, "methodParents": [], "nodeIndex": 200, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import org.verdictdb.sqlreader.QueryToSql", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": false, "lineBeg": 23, "lineEnd": 23, "lineMapIndex": 47, "methodParents": [], "nodeIndex": 201, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import org.verdictdb.sqlreader.RelationStandardizer", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": false, "lineBeg": 24, "lineEnd": 24, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 202, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import org.verdictdb.sqlsyntax.H2Syntax", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": false, "lineBeg": 25, "lineEnd": 25, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 203, "rootcause": false, "commits": []}, {"cfgs": [205], "code": "assertEquals(new HyperTableCube(Arrays.asList(d1)), ((AggExecutionNode)queryExecutionPlan.getRootNode().getDependents().get(0).getDependents().get(0)).getCubes().get(0))", "dfgs": [205], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": false, "lineBeg": 126, "lineEnd": 126, "lineMapIndex": 50, "methodParents": [], "nodeIndex": 204, "rootcause": false, "commits": []}, {"cfgs": [206], "code": "((AsyncAggExecutionNode)queryExecutionPlan.getRoot().getDependents().get(0)).setScrambleMeta(meta)", "dfgs": [206], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": false, "lineBeg": 128, "lineEnd": 128, "lineMapIndex": 51, "methodParents": [], "nodeIndex": 205, "rootcause": false, "commits": []}, {"cfgs": [], "code": "ExecutablePlanRunner.runTillEnd(new JdbcConnection(conn, new H2Syntax()), queryExecutionPlan)", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_execution_AsyncAggMultipleTiersScaleTest.java", "fieldParents": [], "isDel": false, "lineBeg": 130, "lineEnd": 130, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 206, "rootcause": false, "commits": []}, {"cfgs": [], "code": "token.setKeyValue(\"dependent\", this)", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_querying_AggExecutionNode.java", "fieldParents": [], "isDel": false, "lineBeg": 40, "lineEnd": 40, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 207, "rootcause": false, "commits": []}]