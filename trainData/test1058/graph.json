[{"cfgs":[],"code":"import com.google.common.collect.Sets","dfgs":[],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":22,"lineEnd":22,"lineMapIndex":-1,"methodParents":[],"nodeIndex":0},{"cfgs":[],"code":"import java.util.Set","dfgs":[],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":24,"lineEnd":24,"lineMapIndex":-1,"methodParents":[],"nodeIndex":1},{"cfgs":[],"code":"import java.util.regex.Matcher","dfgs":[],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":25,"lineEnd":25,"lineMapIndex":-1,"methodParents":[],"nodeIndex":2},{"cfgs":[],"code":"import java.util.regex.Pattern","dfgs":[],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":26,"lineEnd":26,"lineMapIndex":-1,"methodParents":[],"nodeIndex":3},{"cfgs":[],"code":"private Pattern stringToIntKeysPattern","dfgs":[],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":31,"lineEnd":31,"lineMapIndex":45,"methodParents":[],"nodeIndex":4},{"cfgs":[],"code":"private Pattern numsAndCharsPattern","dfgs":[],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":32,"lineEnd":32,"lineMapIndex":-1,"methodParents":[],"nodeIndex":5},{"cfgs":[],"code":"private Pattern lwPattern","dfgs":[],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":33,"lineEnd":33,"lineMapIndex":-1,"methodParents":[],"nodeIndex":6},{"cfgs":[8],"code":"this.lwPattern = buildLWPattern(constraints.getSpecialChars())","dfgs":[8],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[6],"isDel":true,"lineBeg":38,"lineEnd":38,"lineMapIndex":-1,"methodParents":[19],"nodeIndex":7},{"cfgs":[9],"code":"this.stringToIntKeysPattern = buildStringToIntPattern(constraints.getStringMapping().keySet())","dfgs":[],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[4],"isDel":true,"lineBeg":39,"lineEnd":39,"lineMapIndex":46,"methodParents":[12],"nodeIndex":8},{"cfgs":[],"code":"this.numsAndCharsPattern = Pattern.compile(\"[#\\\\?/\\\\*0-9]\")","dfgs":[],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[5],"isDel":true,"lineBeg":40,"lineEnd":40,"lineMapIndex":-1,"methodParents":[],"nodeIndex":9},{"cfgs":[11],"code":"String unsupportedChars = removeValidChars(expression.asString()).toUpperCase()","dfgs":[11],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":46,"lineEnd":46,"lineMapIndex":47,"methodParents":[14],"nodeIndex":10},{"cfgs":[],"code":"throw new RuntimeException(String.format(\"Expression contains unsupported chars: %s\", unsupportedChars))","dfgs":[],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":67,"lineEnd":67,"lineMapIndex":48,"methodParents":[],"nodeIndex":11},{"cfgs":[13],"code":"Pattern buildStringToIntPattern(Set<String> strings)","dfgs":[13],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":128,"lineEnd":128,"lineMapIndex":-1,"methodParents":[],"nodeIndex":12},{"cfgs":[],"code":"return buildWordsPattern(strings)","dfgs":[],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":129,"lineEnd":129,"lineMapIndex":-1,"methodParents":[25],"nodeIndex":13},{"cfgs":[15],"code":"String removeValidChars(String exp)","dfgs":[15,18,16,17],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":133,"lineEnd":133,"lineMapIndex":-1,"methodParents":[],"nodeIndex":14},{"cfgs":[16],"code":"Matcher numsAndCharsMatcher = numsAndCharsPattern.matcher(exp)","dfgs":[16],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[5],"isDel":true,"lineBeg":134,"lineEnd":134,"lineMapIndex":-1,"methodParents":[],"nodeIndex":15},{"cfgs":[17],"code":"Matcher stringToIntKeysMatcher = stringToIntKeysPattern.matcher(numsAndCharsMatcher.replaceAll(\"\"))","dfgs":[17],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[4],"isDel":true,"lineBeg":135,"lineEnd":135,"lineMapIndex":-1,"methodParents":[],"nodeIndex":16},{"cfgs":[18],"code":"Matcher specialWordsMatcher = lwPattern.matcher(stringToIntKeysMatcher.replaceAll(\"\"))","dfgs":[18],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[6],"isDel":true,"lineBeg":136,"lineEnd":136,"lineMapIndex":-1,"methodParents":[],"nodeIndex":17},{"cfgs":[],"code":"return specialWordsMatcher.replaceAll(\"\").replaceAll(\"\\\\s+\", \"\").replaceAll(\",\", \"\").replaceAll(\"-\", \"\")","dfgs":[],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":137,"lineEnd":137,"lineMapIndex":-1,"methodParents":[],"nodeIndex":18},{"cfgs":[20],"code":"Pattern buildLWPattern(Set<SpecialChar> specialChars)","dfgs":[20,21,24,22,23],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":141,"lineEnd":141,"lineMapIndex":-1,"methodParents":[],"nodeIndex":19},{"cfgs":[21],"code":"Set<String> scs = Sets.newHashSet()","dfgs":[24,23],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":142,"lineEnd":142,"lineMapIndex":-1,"methodParents":[],"nodeIndex":20},{"cfgs":[24,22],"code":"for(SpecialChar sc : new SpecialChar[]{SpecialChar.L, SpecialChar.LW, SpecialChar.W})","dfgs":[22],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":143,"lineEnd":143,"lineMapIndex":-1,"methodParents":[],"nodeIndex":21},{"cfgs":[23],"code":"if(specialChars.contains(sc))","dfgs":[23],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":144,"lineEnd":144,"lineMapIndex":-1,"methodParents":[],"nodeIndex":22},{"cfgs":[],"code":"scs.add(sc.name())","dfgs":[24],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":145,"lineEnd":145,"lineMapIndex":-1,"methodParents":[],"nodeIndex":23},{"cfgs":[],"code":"return buildWordsPattern(scs)","dfgs":[],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":148,"lineEnd":148,"lineMapIndex":-1,"methodParents":[25],"nodeIndex":24},{"cfgs":[26],"code":"Pattern buildWordsPattern(Set<String> words)","dfgs":[26,27,34,28,35,33,29,30,32],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":152,"lineEnd":152,"lineMapIndex":-1,"methodParents":[],"nodeIndex":25},{"cfgs":[27],"code":"StringBuilder builder = new StringBuilder(\"\\\\b(\")","dfgs":[34,33,30],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":153,"lineEnd":153,"lineMapIndex":-1,"methodParents":[],"nodeIndex":26},{"cfgs":[28],"code":"boolean first = true","dfgs":[29],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":154,"lineEnd":154,"lineMapIndex":-1,"methodParents":[],"nodeIndex":27},{"cfgs":[34,29],"code":"for(String word : words)","dfgs":[33],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":155,"lineEnd":155,"lineMapIndex":-1,"methodParents":[],"nodeIndex":28},{"cfgs":[30,31],"code":"if(!first)","dfgs":[],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":156,"lineEnd":156,"lineMapIndex":-1,"methodParents":[],"nodeIndex":29},{"cfgs":[33],"code":"builder.append(\"|\")","dfgs":[33],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":157,"lineEnd":157,"lineMapIndex":-1,"methodParents":[],"nodeIndex":30},{"cfgs":[32],"code":"else","dfgs":[],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":158,"lineEnd":158,"lineMapIndex":-1,"methodParents":[],"nodeIndex":31},{"cfgs":[33],"code":"first=false","dfgs":[],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":159,"lineEnd":159,"lineMapIndex":-1,"methodParents":[],"nodeIndex":32},{"cfgs":[],"code":"builder.append(word)","dfgs":[34],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":161,"lineEnd":161,"lineMapIndex":-1,"methodParents":[],"nodeIndex":33},{"cfgs":[35],"code":"builder.append(\")\\\\b\")","dfgs":[35],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":163,"lineEnd":163,"lineMapIndex":-1,"methodParents":[],"nodeIndex":34},{"cfgs":[],"code":"return Pattern.compile(builder.toString())","dfgs":[],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":164,"lineEnd":164,"lineMapIndex":-1,"methodParents":[],"nodeIndex":35},{"cfgs":[37,38],"code":"if(fieldValue instanceof IntegerFieldValue)","dfgs":[37],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":184,"lineEnd":184,"lineMapIndex":-1,"methodParents":[],"nodeIndex":36},{"cfgs":[],"code":"return ((IntegerFieldValue)fieldValue).getValue()==-1","dfgs":[],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":185,"lineEnd":185,"lineMapIndex":49,"methodParents":[],"nodeIndex":37},{"cfgs":[],"code":"return false","dfgs":[],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":187,"lineEnd":187,"lineMapIndex":-1,"methodParents":[],"nodeIndex":38},{"cfgs":[40],"code":"boolean isSpecialCharNotL(FieldValue fieldValue)","dfgs":[42,40,41],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":190,"lineEnd":190,"lineMapIndex":50,"methodParents":[],"nodeIndex":39},{"cfgs":[41,42],"code":"if(fieldValue instanceof SpecialCharFieldValue)","dfgs":[41],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":191,"lineEnd":191,"lineMapIndex":-1,"methodParents":[],"nodeIndex":40},{"cfgs":[],"code":"return !SpecialChar.L.equals(fieldValue.getValue())","dfgs":[],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":192,"lineEnd":192,"lineMapIndex":51,"methodParents":[],"nodeIndex":41},{"cfgs":[],"code":"return false","dfgs":[],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":true,"lineBeg":194,"lineEnd":194,"lineMapIndex":-1,"methodParents":[],"nodeIndex":42},{"cfgs":[],"code":"throw new IllegalArgumentException(e)","dfgs":[],"fName":"src_main_java_com_cronutils_parser_FieldParser.java","fieldParents":[],"isDel":true,"lineBeg":209,"lineEnd":209,"lineMapIndex":54,"methodParents":[],"nodeIndex":43},{"cfgs":[],"code":"import com.cronutils.StringValidations","dfgs":[],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":false,"lineBeg":15,"lineEnd":15,"lineMapIndex":-1,"methodParents":[],"nodeIndex":44},{"cfgs":[],"code":"private StringValidations stringValidations","dfgs":[],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":false,"lineBeg":27,"lineEnd":27,"lineMapIndex":4,"methodParents":[],"nodeIndex":45},{"cfgs":[],"code":"this.stringValidations = new StringValidations(constraints)","dfgs":[],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[45],"isDel":false,"lineBeg":32,"lineEnd":32,"lineMapIndex":8,"methodParents":[],"nodeIndex":46},{"cfgs":[48],"code":"String unsupportedChars = stringValidations.removeValidChars(expression.asString())","dfgs":[48],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[45],"isDel":false,"lineBeg":38,"lineEnd":38,"lineMapIndex":10,"methodParents":[],"nodeIndex":47},{"cfgs":[],"code":"throw new IllegalArgumentException(String.format(\"Invalid chars in expression! Expression: %s Invalid chars: %s\", expression.asString(), unsupportedChars))","dfgs":[],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":false,"lineBeg":59,"lineEnd":59,"lineMapIndex":11,"methodParents":[],"nodeIndex":48},{"cfgs":[],"code":"return fieldValue instanceof IntegerFieldValue && ((IntegerFieldValue) fieldValue).getValue() == -1","dfgs":[],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":false,"lineBeg":138,"lineEnd":138,"lineMapIndex":37,"methodParents":[],"nodeIndex":49},{"cfgs":[51],"code":"boolean isSpecialCharNotL(FieldValue fieldValue) ","dfgs":[51],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":false,"lineBeg":141,"lineEnd":141,"lineMapIndex":39,"methodParents":[],"nodeIndex":50},{"cfgs":[],"code":"return fieldValue instanceof SpecialCharFieldValue && !SpecialChar.L.equals(fieldValue.getValue())","dfgs":[],"fName":"src_main_java_com_cronutils_model_field_expression_visitor_ValidationFieldExpressionVisitor.java","fieldParents":[],"isDel":false,"lineBeg":142,"lineEnd":142,"lineMapIndex":41,"methodParents":[],"nodeIndex":51},{"cfgs":[],"code":"import com.cronutils.StringValidations","dfgs":[],"fName":"src_main_java_com_cronutils_parser_FieldParser.java","fieldParents":[],"isDel":false,"lineBeg":15,"lineEnd":15,"lineMapIndex":-1,"methodParents":[],"nodeIndex":52},{"cfgs":[54],"code":"String invalidChars = new StringValidations(fieldConstraints).removeValidChars(exp)","dfgs":[],"fName":"src_main_java_com_cronutils_parser_FieldParser.java","fieldParents":[],"isDel":false,"lineBeg":210,"lineEnd":210,"lineMapIndex":-1,"methodParents":[],"nodeIndex":53},{"cfgs":[],"code":"throw new IllegalArgumentException(String.format(\"Invalid chars in expression! Expression: %s Invalid chars: %s\", exp, invalidChars))","dfgs":[],"fName":"src_main_java_com_cronutils_parser_FieldParser.java","fieldParents":[],"isDel":false,"lineBeg":211,"lineEnd":211,"lineMapIndex":43,"methodParents":[],"nodeIndex":54},{"cfgs":[],"code":"public void testRegressionDifferentMessageForException()","dfgs":[],"fName":"src_test_java_com_cronutils_parser_CronParserQuartzIntegrationTest.java","fieldParents":[],"isDel":false,"lineBeg":217,"lineEnd":217,"lineMapIndex":-1,"methodParents":[],"nodeIndex":55},{"cfgs":[57],"code":"boolean asserted = false","dfgs":[62],"fName":"src_test_java_com_cronutils_parser_CronParserQuartzIntegrationTest.java","fieldParents":[],"isDel":false,"lineBeg":218,"lineEnd":218,"lineMapIndex":-1,"methodParents":[],"nodeIndex":56},{"cfgs":[58],"code":"try","dfgs":[],"fName":"src_test_java_com_cronutils_parser_CronParserQuartzIntegrationTest.java","fieldParents":[],"isDel":false,"lineBeg":219,"lineEnd":219,"lineMapIndex":-1,"methodParents":[],"nodeIndex":57},{"cfgs":[62,59],"code":"ExecutionTime.forCron(parser.parse(\"* * * * $ ?\"))","dfgs":[62,60],"fName":"src_test_java_com_cronutils_parser_CronParserQuartzIntegrationTest.java","fieldParents":[],"isDel":false,"lineBeg":220,"lineEnd":220,"lineMapIndex":-1,"methodParents":[],"nodeIndex":58},{"cfgs":[60],"code":"catch (IllegalArgumentException e)","dfgs":[],"fName":"src_test_java_com_cronutils_parser_CronParserQuartzIntegrationTest.java","fieldParents":[],"isDel":false,"lineBeg":221,"lineEnd":221,"lineMapIndex":-1,"methodParents":[],"nodeIndex":59},{"cfgs":[61],"code":"assertEquals(\"Invalid chars in expression! Expression: $ Invalid chars: $\", e.getMessage())","dfgs":[62],"fName":"src_test_java_com_cronutils_parser_CronParserQuartzIntegrationTest.java","fieldParents":[],"isDel":false,"lineBeg":222,"lineEnd":222,"lineMapIndex":-1,"methodParents":[],"nodeIndex":60},{"cfgs":[62],"code":"asserted = true","dfgs":[62],"fName":"src_test_java_com_cronutils_parser_CronParserQuartzIntegrationTest.java","fieldParents":[],"isDel":false,"lineBeg":223,"lineEnd":223,"lineMapIndex":-1,"methodParents":[],"nodeIndex":61},{"cfgs":[],"code":"assertTrue(asserted)","dfgs":[],"fName":"src_test_java_com_cronutils_parser_CronParserQuartzIntegrationTest.java","fieldParents":[],"isDel":false,"lineBeg":225,"lineEnd":225,"lineMapIndex":-1,"methodParents":[],"nodeIndex":62}]