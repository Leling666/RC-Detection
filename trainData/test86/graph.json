[{"cfgs":[],"code":"import static org.junit.Assert.assertEquals","dfgs":[],"fName":"common_src_test_core_org_apache_hadoop_io_TestIOUtils.java","fieldParents":[],"isDel":false,"lineBeg":21,"lineEnd":21,"lineMapIndex":-1,"methodParents":[],"nodeIndex":0},{"cfgs":[],"code":"import static org.junit.Assert.fail","dfgs":[],"fName":"common_src_test_core_org_apache_hadoop_io_TestIOUtils.java","fieldParents":[],"isDel":false,"lineBeg":22,"lineEnd":22,"lineMapIndex":-1,"methodParents":[],"nodeIndex":1},{"cfgs":[],"code":"public void testCopyBytesWithCountShouldCloseStreamsWhenCloseIsTrue()throws Exception","dfgs":[],"fName":"common_src_test_core_org_apache_hadoop_io_TestIOUtils.java","fieldParents":[],"isDel":false,"lineBeg":73,"lineEnd":74,"lineMapIndex":-1,"methodParents":[],"nodeIndex":2},{"cfgs":[4],"code":"InputStream inputStream = Mockito.mock(InputStream.class)","dfgs":[4,5],"fName":"common_src_test_core_org_apache_hadoop_io_TestIOUtils.java","fieldParents":[],"isDel":false,"lineBeg":75,"lineEnd":75,"lineMapIndex":-1,"methodParents":[],"nodeIndex":3},{"cfgs":[5],"code":"OutputStream outputStream = Mockito.mock(OutputStream.class)","dfgs":[6,5],"fName":"common_src_test_core_org_apache_hadoop_io_TestIOUtils.java","fieldParents":[],"isDel":false,"lineBeg":76,"lineEnd":76,"lineMapIndex":-1,"methodParents":[],"nodeIndex":4},{"cfgs":[6],"code":"Mockito.doReturn(-1).when(inputStream).read(new byte[4096], 0, 1)","dfgs":[6,7],"fName":"common_src_test_core_org_apache_hadoop_io_TestIOUtils.java","fieldParents":[],"isDel":false,"lineBeg":77,"lineEnd":77,"lineMapIndex":-1,"methodParents":[],"nodeIndex":5},{"cfgs":[7],"code":"IOUtils.copyBytes(inputStream, outputStream, (long) 1, true)","dfgs":[7,8],"fName":"common_src_test_core_org_apache_hadoop_io_TestIOUtils.java","fieldParents":[],"isDel":false,"lineBeg":78,"lineEnd":78,"lineMapIndex":-1,"methodParents":[28],"nodeIndex":6},{"cfgs":[8],"code":"Mockito.verify(inputStream, Mockito.atLeastOnce()).close()","dfgs":[8],"fName":"common_src_test_core_org_apache_hadoop_io_TestIOUtils.java","fieldParents":[],"isDel":false,"lineBeg":79,"lineEnd":79,"lineMapIndex":-1,"methodParents":[],"nodeIndex":7},{"cfgs":[],"code":"Mockito.verify(outputStream, Mockito.atLeastOnce()).close()","dfgs":[],"fName":"common_src_test_core_org_apache_hadoop_io_TestIOUtils.java","fieldParents":[],"isDel":false,"lineBeg":80,"lineEnd":80,"lineMapIndex":-1,"methodParents":[],"nodeIndex":8},{"cfgs":[],"code":"public void testCopyBytesWithCountShouldNotCloseStreamsWhenCloseIsFalse()throws Exception","dfgs":[],"fName":"common_src_test_core_org_apache_hadoop_io_TestIOUtils.java","fieldParents":[],"isDel":false,"lineBeg":84,"lineEnd":85,"lineMapIndex":-1,"methodParents":[],"nodeIndex":9},{"cfgs":[11],"code":"InputStream inputStream = Mockito.mock(InputStream.class)","dfgs":[11,12],"fName":"common_src_test_core_org_apache_hadoop_io_TestIOUtils.java","fieldParents":[],"isDel":false,"lineBeg":86,"lineEnd":86,"lineMapIndex":-1,"methodParents":[],"nodeIndex":10},{"cfgs":[12],"code":"OutputStream outputStream = Mockito.mock(OutputStream.class)","dfgs":[13,12],"fName":"common_src_test_core_org_apache_hadoop_io_TestIOUtils.java","fieldParents":[],"isDel":false,"lineBeg":87,"lineEnd":87,"lineMapIndex":-1,"methodParents":[],"nodeIndex":11},{"cfgs":[13],"code":"Mockito.doReturn(-1).when(inputStream).read(new byte[4096], 0, 1)","dfgs":[13,14],"fName":"common_src_test_core_org_apache_hadoop_io_TestIOUtils.java","fieldParents":[],"isDel":false,"lineBeg":88,"lineEnd":88,"lineMapIndex":-1,"methodParents":[],"nodeIndex":12},{"cfgs":[14],"code":"IOUtils.copyBytes(inputStream, outputStream, (long) 1, false)","dfgs":[14,15],"fName":"common_src_test_core_org_apache_hadoop_io_TestIOUtils.java","fieldParents":[],"isDel":false,"lineBeg":89,"lineEnd":89,"lineMapIndex":-1,"methodParents":[28],"nodeIndex":13},{"cfgs":[15],"code":"Mockito.verify(inputStream, Mockito.atMost(0)).close()","dfgs":[15],"fName":"common_src_test_core_org_apache_hadoop_io_TestIOUtils.java","fieldParents":[],"isDel":false,"lineBeg":90,"lineEnd":90,"lineMapIndex":-1,"methodParents":[],"nodeIndex":14},{"cfgs":[],"code":"Mockito.verify(outputStream, Mockito.atMost(0)).close()","dfgs":[],"fName":"common_src_test_core_org_apache_hadoop_io_TestIOUtils.java","fieldParents":[],"isDel":false,"lineBeg":91,"lineEnd":91,"lineMapIndex":-1,"methodParents":[],"nodeIndex":15},{"cfgs":[],"code":"public void testCopyBytesWithCountShouldThrowOutTheStreamClosureExceptions()throws Exception","dfgs":[],"fName":"common_src_test_core_org_apache_hadoop_io_TestIOUtils.java","fieldParents":[],"isDel":false,"lineBeg":95,"lineEnd":96,"lineMapIndex":-1,"methodParents":[],"nodeIndex":16},{"cfgs":[18],"code":"InputStream inputStream = Mockito.mock(InputStream.class)","dfgs":[18,19],"fName":"common_src_test_core_org_apache_hadoop_io_TestIOUtils.java","fieldParents":[],"isDel":false,"lineBeg":97,"lineEnd":97,"lineMapIndex":-1,"methodParents":[],"nodeIndex":17},{"cfgs":[19],"code":"OutputStream outputStream = Mockito.mock(OutputStream.class)","dfgs":[20,19],"fName":"common_src_test_core_org_apache_hadoop_io_TestIOUtils.java","fieldParents":[],"isDel":false,"lineBeg":98,"lineEnd":98,"lineMapIndex":-1,"methodParents":[],"nodeIndex":18},{"cfgs":[20],"code":"Mockito.doReturn(-1).when(inputStream).read(new byte[4096], 0, 1)","dfgs":[20,22],"fName":"common_src_test_core_org_apache_hadoop_io_TestIOUtils.java","fieldParents":[],"isDel":false,"lineBeg":99,"lineEnd":99,"lineMapIndex":-1,"methodParents":[],"nodeIndex":19},{"cfgs":[21],"code":"Mockito.doThrow(new IOException(\"Exception in closing the stream\")).when(outputStream).close()","dfgs":[22,26],"fName":"common_src_test_core_org_apache_hadoop_io_TestIOUtils.java","fieldParents":[],"isDel":false,"lineBeg":100,"lineEnd":101,"lineMapIndex":-1,"methodParents":[],"nodeIndex":20},{"cfgs":[22],"code":"try ","dfgs":[],"fName":"common_src_test_core_org_apache_hadoop_io_TestIOUtils.java","fieldParents":[],"isDel":false,"lineBeg":102,"lineEnd":102,"lineMapIndex":-1,"methodParents":[],"nodeIndex":21},{"cfgs":[23],"code":"IOUtils.copyBytes(inputStream, outputStream, (long) 1, true)","dfgs":[26,27],"fName":"common_src_test_core_org_apache_hadoop_io_TestIOUtils.java","fieldParents":[],"isDel":false,"lineBeg":103,"lineEnd":103,"lineMapIndex":-1,"methodParents":[28],"nodeIndex":22},{"cfgs":[26,24],"code":"fail(\"Should throw out the exception\")","dfgs":[25],"fName":"common_src_test_core_org_apache_hadoop_io_TestIOUtils.java","fieldParents":[],"isDel":false,"lineBeg":104,"lineEnd":104,"lineMapIndex":-1,"methodParents":[],"nodeIndex":23},{"cfgs":[25],"code":"catch (IOException e)","dfgs":[],"fName":"common_src_test_core_org_apache_hadoop_io_TestIOUtils.java","fieldParents":[],"isDel":false,"lineBeg":105,"lineEnd":105,"lineMapIndex":-1,"methodParents":[],"nodeIndex":24},{"cfgs":[26],"code":"assertEquals(\"Not throwing the expected exception.\",\"Exception in closing the stream\", e.getMessage())","dfgs":[],"fName":"common_src_test_core_org_apache_hadoop_io_TestIOUtils.java","fieldParents":[],"isDel":false,"lineBeg":106,"lineEnd":107,"lineMapIndex":-1,"methodParents":[],"nodeIndex":25},{"cfgs":[27],"code":"Mockito.verify(inputStream, Mockito.atLeastOnce()).close()","dfgs":[27],"fName":"common_src_test_core_org_apache_hadoop_io_TestIOUtils.java","fieldParents":[],"isDel":false,"lineBeg":109,"lineEnd":109,"lineMapIndex":-1,"methodParents":[],"nodeIndex":26},{"cfgs":[],"code":"Mockito.verify(outputStream, Mockito.atLeastOnce()).close()","dfgs":[],"fName":"common_src_test_core_org_apache_hadoop_io_TestIOUtils.java","fieldParents":[],"isDel":false,"lineBeg":110,"lineEnd":110,"lineMapIndex":-1,"methodParents":[],"nodeIndex":27},{"cfgs":[29],"code":"if (close)","dfgs":[],"fName":"common_src_java_org_apache_hadoop_io_IOUtils.java","fieldParents":[],"isDel":false,"lineBeg":139,"lineEnd":139,"lineMapIndex":-1,"methodParents":[],"nodeIndex":28},{"cfgs":[30],"code":"out.close()","dfgs":[],"fName":"common_src_java_org_apache_hadoop_io_IOUtils.java","fieldParents":[],"isDel":false,"lineBeg":140,"lineEnd":140,"lineMapIndex":-1,"methodParents":[],"nodeIndex":29},{"cfgs":[31],"code":"out = null","dfgs":[],"fName":"common_src_java_org_apache_hadoop_io_IOUtils.java","fieldParents":[],"isDel":false,"lineBeg":141,"lineEnd":141,"lineMapIndex":-1,"methodParents":[],"nodeIndex":30},{"cfgs":[32],"code":"in.close()","dfgs":[],"fName":"common_src_java_org_apache_hadoop_io_IOUtils.java","fieldParents":[],"isDel":false,"lineBeg":142,"lineEnd":142,"lineMapIndex":-1,"methodParents":[],"nodeIndex":31},{"cfgs":[],"code":"in = null","dfgs":[],"fName":"common_src_java_org_apache_hadoop_io_IOUtils.java","fieldParents":[],"isDel":false,"lineBeg":143,"lineEnd":143,"lineMapIndex":-1,"methodParents":[],"nodeIndex":32}]