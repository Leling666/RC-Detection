[{"cfgs":[],"code":"static void println(String s) ","dfgs":[],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":true,"lineBeg":787,"lineEnd":787,"lineMapIndex":-1,"methodParents":[],"nodeIndex":0},{"cfgs":[],"code":"public void reproduceDruidBugOrig() ","dfgs":[],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":false,"lineBeg":780,"lineEnd":780,"lineMapIndex":-1,"methodParents":[],"nodeIndex":1},{"cfgs":[3],"code":"final int k = 16384","dfgs":[3],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":false,"lineBeg":781,"lineEnd":781,"lineMapIndex":-1,"methodParents":[],"nodeIndex":2},{"cfgs":[4],"code":"final UpdateSketch usk = UpdateSketch.builder().setNominalEntries(k).build()","dfgs":[6,5,9],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":false,"lineBeg":782,"lineEnd":782,"lineMapIndex":-1,"methodParents":[],"nodeIndex":3},{"cfgs":[5,6],"code":"for (int i = 0; i < 100000; i++)","dfgs":[5],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":false,"lineBeg":783,"lineEnd":783,"lineMapIndex":-1,"methodParents":[],"nodeIndex":4},{"cfgs":[],"code":"usk.update(Integer.toString(i))","dfgs":[6],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":false,"lineBeg":784,"lineEnd":784,"lineMapIndex":-1,"methodParents":[31],"nodeIndex":5},{"cfgs":[7],"code":"usk.rebuild()","dfgs":[7],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":false,"lineBeg":786,"lineEnd":786,"lineMapIndex":-1,"methodParents":[],"nodeIndex":6},{"cfgs":[8],"code":"final Sketch s = usk.compact()","dfgs":[8],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":false,"lineBeg":787,"lineEnd":787,"lineMapIndex":-1,"methodParents":[],"nodeIndex":7},{"cfgs":[9],"code":"System.out.println(s)","dfgs":[11,12],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":false,"lineBeg":788,"lineEnd":788,"lineMapIndex":-1,"methodParents":[30],"nodeIndex":8},{"cfgs":[10],"code":"final WritableMemory mem = WritableMemory.wrap(new byte[getMaxUnionBytes(k)])","dfgs":[10],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":false,"lineBeg":790,"lineEnd":790,"lineMapIndex":-1,"methodParents":[],"nodeIndex":9},{"cfgs":[11],"code":"SetOperation.builder().setNominalEntries(k).build(Family.UNION, mem)","dfgs":[11],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":false,"lineBeg":791,"lineEnd":791,"lineMapIndex":-1,"methodParents":[],"nodeIndex":10},{"cfgs":[12],"code":"System.out.println(((Union)SetOperation.wrap(mem)).getResult())","dfgs":[13,12],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":false,"lineBeg":792,"lineEnd":792,"lineMapIndex":-1,"methodParents":[30],"nodeIndex":11},{"cfgs":[13],"code":"((Union)SetOperation.wrap(mem)).update(s)","dfgs":[13],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":false,"lineBeg":794,"lineEnd":794,"lineMapIndex":-1,"methodParents":[31],"nodeIndex":12},{"cfgs":[],"code":"System.out.println(((Union)SetOperation.wrap(mem)).getResult())","dfgs":[],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":false,"lineBeg":795,"lineEnd":795,"lineMapIndex":-1,"methodParents":[30],"nodeIndex":13},{"cfgs":[],"code":"public void checkForDruidBug() ","dfgs":[],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":false,"lineBeg":800,"lineEnd":800,"lineMapIndex":-1,"methodParents":[],"nodeIndex":14},{"cfgs":[16],"code":"final int k = 16384","dfgs":[16],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":false,"lineBeg":801,"lineEnd":801,"lineMapIndex":-1,"methodParents":[],"nodeIndex":15},{"cfgs":[17],"code":"final UpdateSketch usk = UpdateSketch.builder().setNominalEntries(k).build()","dfgs":[19,18,21],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":false,"lineBeg":802,"lineEnd":802,"lineMapIndex":-1,"methodParents":[],"nodeIndex":16},{"cfgs":[18,19],"code":"for (int i = 0; i < 100000; i++)","dfgs":[18],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":false,"lineBeg":803,"lineEnd":803,"lineMapIndex":-1,"methodParents":[],"nodeIndex":17},{"cfgs":[],"code":"usk.update(Integer.toString(i))","dfgs":[19],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":false,"lineBeg":804,"lineEnd":804,"lineMapIndex":-1,"methodParents":[31],"nodeIndex":18},{"cfgs":[20],"code":"usk.rebuild()","dfgs":[20],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":false,"lineBeg":806,"lineEnd":806,"lineMapIndex":-1,"methodParents":[],"nodeIndex":19},{"cfgs":[21],"code":"final Sketch s = usk.compact()","dfgs":[23],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":false,"lineBeg":809,"lineEnd":809,"lineMapIndex":-1,"methodParents":[],"nodeIndex":20},{"cfgs":[22],"code":"final WritableMemory mem = WritableMemory.wrap(new byte[getMaxUnionBytes(k)])","dfgs":[25,22],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":false,"lineBeg":813,"lineEnd":813,"lineMapIndex":-1,"methodParents":[],"nodeIndex":21},{"cfgs":[23],"code":"Union union1 = SetOperation.builder().setNominalEntries(k).buildUnion(mem)","dfgs":[23],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":false,"lineBeg":814,"lineEnd":814,"lineMapIndex":-1,"methodParents":[],"nodeIndex":22},{"cfgs":[24],"code":"union1.update(s)","dfgs":[24],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":false,"lineBeg":816,"lineEnd":816,"lineMapIndex":-1,"methodParents":[31],"nodeIndex":23},{"cfgs":[25],"code":"CompactSketch csk = union1.getResult()","dfgs":[25],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":false,"lineBeg":820,"lineEnd":820,"lineMapIndex":-1,"methodParents":[],"nodeIndex":24},{"cfgs":[26],"code":"assertTrue(csk.getTheta() < 0.2)","dfgs":[26],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":false,"lineBeg":822,"lineEnd":822,"lineMapIndex":-1,"methodParents":[],"nodeIndex":25},{"cfgs":[27],"code":"assertEquals(csk.getRetainedEntries(), 16384)","dfgs":[28,27],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":false,"lineBeg":823,"lineEnd":823,"lineMapIndex":-1,"methodParents":[],"nodeIndex":26},{"cfgs":[28],"code":"final double est = csk.getEstimate()","dfgs":[28],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":false,"lineBeg":824,"lineEnd":824,"lineMapIndex":-1,"methodParents":[],"nodeIndex":27},{"cfgs":[29],"code":"assertTrue(est > 98663.0)","dfgs":[29],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":false,"lineBeg":825,"lineEnd":825,"lineMapIndex":-1,"methodParents":[],"nodeIndex":28},{"cfgs":[],"code":"assertTrue(est < 101530.0)","dfgs":[],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":false,"lineBeg":826,"lineEnd":826,"lineMapIndex":-1,"methodParents":[],"nodeIndex":29},{"cfgs":[],"code":"System.out.println(s)","dfgs":[],"fName":"src_test_java_com_yahoo_sketches_theta_DirectUnionTest.java","fieldParents":[],"isDel":false,"lineBeg":838,"lineEnd":838,"lineMapIndex":-1,"methodParents":[30],"nodeIndex":30},{"cfgs":[32],"code":"if (gadget_.hasMemory())","dfgs":[32],"fName":"src_main_java_com_yahoo_sketches_theta_UnionImpl.java","fieldParents":[],"isDel":false,"lineBeg":304,"lineEnd":304,"lineMapIndex":-1,"methodParents":[],"nodeIndex":31},{"cfgs":[33],"code":"final WritableMemory wmem = (WritableMemory)gadget_.getMemory()","dfgs":[33],"fName":"src_main_java_com_yahoo_sketches_theta_UnionImpl.java","fieldParents":[],"isDel":false,"lineBeg":305,"lineEnd":305,"lineMapIndex":-1,"methodParents":[],"nodeIndex":32},{"cfgs":[34],"code":"PreambleUtil.insertUnionThetaLong(wmem, unionThetaLong_)","dfgs":[35,37],"fName":"src_main_java_com_yahoo_sketches_theta_UnionImpl.java","fieldParents":[],"isDel":false,"lineBeg":306,"lineEnd":306,"lineMapIndex":-1,"methodParents":[],"nodeIndex":33},{"cfgs":[35,36],"code":"if (unionEmpty_)","dfgs":[],"fName":"src_main_java_com_yahoo_sketches_theta_UnionImpl.java","fieldParents":[],"isDel":false,"lineBeg":307,"lineEnd":307,"lineMapIndex":-1,"methodParents":[],"nodeIndex":34},{"cfgs":[],"code":"PreambleUtil.setEmpty(wmem)","dfgs":[],"fName":"src_main_java_com_yahoo_sketches_theta_UnionImpl.java","fieldParents":[],"isDel":false,"lineBeg":308,"lineEnd":308,"lineMapIndex":-1,"methodParents":[],"nodeIndex":35},{"cfgs":[37],"code":"else","dfgs":[],"fName":"src_main_java_com_yahoo_sketches_theta_UnionImpl.java","fieldParents":[],"isDel":false,"lineBeg":309,"lineEnd":309,"lineMapIndex":-1,"methodParents":[],"nodeIndex":36},{"cfgs":[],"code":"PreambleUtil.clearEmpty(wmem)","dfgs":[],"fName":"src_main_java_com_yahoo_sketches_theta_UnionImpl.java","fieldParents":[],"isDel":false,"lineBeg":310,"lineEnd":310,"lineMapIndex":-1,"methodParents":[],"nodeIndex":37}]