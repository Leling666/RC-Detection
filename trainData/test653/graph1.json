[{"cfgs": [], "code": "throw new VerdictDBValueException(\"No token is passed.\")", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_scrambling_TableSizeCountNode.java", "fieldParents": [], "isDel": true, "lineBeg": 48, "lineEnd": 48, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 0, "rootcause": false, "commits": ["2ee24b86f96842db09e245411e83aa6bd8faa2f2"]}, {"cfgs": [], "code": "public List<ExecutableNodeBase> getStatisticsNode(String oldSchemaName,String oldTableName,UnnamedColumn predicate,String columnMetaTokenKey,String partitionMetaTokenKey,String primarykeyMetaTokenKey)", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_scrambling_UniformScramblingMethod.java", "fieldParents": [], "isDel": true, "lineBeg": 68, "lineEnd": 74, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 1, "rootcause": false, "commits": ["46433007c79d434661ef1ccd76b5b739b8075d4e", "77b816aeb7418e8b42ac098a821e37e350f3778d", "5bac4cd0989831915cbc6a1b70dfe67894125763", "d60ecf9aa1097f506b9ea881a093de5caf5f8d95"]}, {"cfgs": [], "code": "List<ExecutableNodeBase> nodes = method.getStatisticsNode(oldSchemaName, oldTableName, predicate, columnMetaTokenKey,partitionMetaTokenKey, primaryMetaTokenKey)", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethodTest.java", "fieldParents": [], "isDel": true, "lineBeg": 193, "lineEnd": 195, "lineMapIndex": 75, "methodParents": [], "nodeIndex": 2, "rootcause": false, "commits": ["77b816aeb7418e8b42ac098a821e37e350f3778d", "5bac4cd0989831915cbc6a1b70dfe67894125763"]}, {"cfgs": [4], "code": "ExecutableNodeBase columnMetaDataNode =ColumnMetadataRetrievalNode.create(oldSchemaName, oldTableName, COLUMN_METADATA_KEY)", "dfgs": [4], "fName": "src_main_java_org_verdictdb_core_scrambling_ScramblingPlan.java", "fieldParents": [], "isDel": true, "lineBeg": 91, "lineEnd": 92, "lineMapIndex": 77, "methodParents": [], "nodeIndex": 3, "rootcause": false, "commits": ["d60ecf9aa1097f506b9ea881a093de5caf5f8d95", "c7c82bd6031cf5c6d3f9088879c265170f092cc9"]}, {"cfgs": [], "code": "List<ExecutableNodeBase> statsNodes =method.getStatisticsNode(oldSchemaName,oldTableName,predicate,COLUMN_METADATA_KEY,PARTITION_METADATA_KEY,PRIMARYKEY_METADATA_KEY)", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_scrambling_ScramblingPlan.java", "fieldParents": [], "isDel": true, "lineBeg": 100, "lineEnd": 107, "lineMapIndex": 77, "methodParents": [], "nodeIndex": 4, "rootcause": false, "commits": ["5bac4cd0989831915cbc6a1b70dfe67894125763", "d60ecf9aa1097f506b9ea881a093de5caf5f8d95", "20872694ddb3c66e389f07623f3bfceac5199de7"]}, {"cfgs": [], "code": "public List<ExecutableNodeBase> getStatisticsNode(String oldSchemaName,String oldTableName,UnnamedColumn predicate,String columnMetaTokenKey,String partitionMetaTokenKey,String primarykeyMetaTokenKey)", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_scrambling_HashScramblingMethod.java", "fieldParents": [], "isDel": true, "lineBeg": 50, "lineEnd": 56, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 5, "rootcause": false, "commits": ["46433007c79d434661ef1ccd76b5b739b8075d4e", "2ee24b86f96842db09e245411e83aa6bd8faa2f2", "5bac4cd0989831915cbc6a1b70dfe67894125763"]}, {"cfgs": [], "code": "import org.verdictdb.core.sqlobject.UnnamedColumn", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_scrambling_TableSizeCountNode.java", "fieldParents": [], "isDel": false, "lineBeg": 15, "lineEnd": 15, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 6, "rootcause": false, "commits": []}, {"cfgs": [9], "code": "private UnnamedColumn predicate = null", "dfgs": [9], "fName": "src_main_java_org_verdictdb_core_scrambling_TableSizeCountNode.java", "fieldParents": [], "isDel": false, "lineBeg": 27, "lineEnd": 27, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 7, "rootcause": false, "commits": []}, {"cfgs": [], "code": "public TableSizeCountNode(String schemaName, String tableName, UnnamedColumn predicate) ", "dfgs": [10, 11, 12, 9], "fName": "src_main_java_org_verdictdb_core_scrambling_TableSizeCountNode.java", "fieldParents": [], "isDel": false, "lineBeg": 37, "lineEnd": 37, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 8, "rootcause": false, "commits": []}, {"cfgs": [10], "code": "super(-1, null)", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_scrambling_TableSizeCountNode.java", "fieldParents": [], "isDel": false, "lineBeg": 38, "lineEnd": 38, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 9, "rootcause": false, "commits": []}, {"cfgs": [11], "code": "this.schemaName = schemaName", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_scrambling_TableSizeCountNode.java", "fieldParents": [], "isDel": false, "lineBeg": 39, "lineEnd": 39, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 10, "rootcause": false, "commits": []}, {"cfgs": [12], "code": "this.tableName = tableName", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_scrambling_TableSizeCountNode.java", "fieldParents": [], "isDel": false, "lineBeg": 40, "lineEnd": 40, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 11, "rootcause": false, "commits": []}, {"cfgs": [], "code": "this.predicate = predicate", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_scrambling_TableSizeCountNode.java", "fieldParents": [7], "isDel": false, "lineBeg": 41, "lineEnd": 41, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 12, "rootcause": false, "commits": []}, {"cfgs": [14, 15], "code": "if (predicate == null)", "dfgs": [16], "fName": "src_main_java_org_verdictdb_core_scrambling_TableSizeCountNode.java", "fieldParents": [7], "isDel": false, "lineBeg": 57, "lineEnd": 57, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 13, "rootcause": false, "commits": []}, {"cfgs": [], "code": "selectQuery =SelectQuery.create(selectList, new BaseTable(schemaName, tableName, tableSourceAlias))", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_scrambling_TableSizeCountNode.java", "fieldParents": [], "isDel": false, "lineBeg": 58, "lineEnd": 59, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 14, "rootcause": false, "commits": []}, {"cfgs": [16], "code": "else", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_scrambling_TableSizeCountNode.java", "fieldParents": [], "isDel": false, "lineBeg": 60, "lineEnd": 60, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 15, "rootcause": false, "commits": []}, {"cfgs": [], "code": "selectQuery =SelectQuery.create(selectList,new BaseTable(schemaName, tableName, tableSourceAlias),predicate)", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_scrambling_TableSizeCountNode.java", "fieldParents": [7], "isDel": false, "lineBeg": 61, "lineEnd": 65, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 16, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import org.verdictdb.core.querying.ExecutableNodeBase", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 22, "lineEnd": 22, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 17, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import org.verdictdb.core.sqlobject.BaseColumn", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 23, "lineEnd": 23, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 18, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import org.verdictdb.core.sqlobject.ColumnOp", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 24, "lineEnd": 24, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 19, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import org.verdictdb.core.sqlobject.ConstantColumn", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 25, "lineEnd": 25, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 20, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import org.verdictdb.core.sqlobject.UnnamedColumn", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 27, "lineEnd": 27, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 21, "rootcause": false, "commits": []}, {"cfgs": [], "code": "public void testUniformMethodStatisticsWithPredicate() throws VerdictDBException ", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 81, "lineEnd": 81, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 22, "rootcause": false, "commits": []}, {"cfgs": [24], "code": "String oldSchemaName = \"oldschema\"", "dfgs": [31], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 82, "lineEnd": 82, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 23, "rootcause": false, "commits": []}, {"cfgs": [25], "code": "String oldTableName = \"oldtable\"", "dfgs": [31], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 83, "lineEnd": 83, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 24, "rootcause": false, "commits": []}, {"cfgs": [26], "code": "int blockSize = 2", "dfgs": [26], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 84, "lineEnd": 84, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 25, "rootcause": false, "commits": []}, {"cfgs": [27], "code": "ScramblingMethod method = new UniformScramblingMethod(blockSize)", "dfgs": [31], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 85, "lineEnd": 85, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 26, "rootcause": false, "commits": []}, {"cfgs": [28], "code": "Map<String, String> options = new HashMap<>()", "dfgs": [28], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 86, "lineEnd": 86, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 27, "rootcause": false, "commits": []}, {"cfgs": [29], "code": "options.put(\"tierColumnName\", \"tiercolumn\")", "dfgs": [29], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 87, "lineEnd": 87, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 28, "rootcause": false, "commits": []}, {"cfgs": [30], "code": "options.put(\"blockColumnName\", \"blockcolumn\")", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 88, "lineEnd": 88, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 29, "rootcause": false, "commits": []}, {"cfgs": [31], "code": "UnnamedColumn predicate = ColumnOp.greaterequal(new BaseColumn(\"t\", \"id\"),ConstantColumn.valueOf(2))", "dfgs": [31], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 89, "lineEnd": 91, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 30, "rootcause": false, "commits": []}, {"cfgs": [32], "code": "List<ExecutableNodeBase> statNodes = method.getStatisticsNode(oldSchemaName, oldTableName, predicate, null, null, null)", "dfgs": [32], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 93, "lineEnd": 94, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 31, "rootcause": false, "commits": []}, {"cfgs": [33], "code": "ExecutableNodeBase statNode = statNodes.get(0)", "dfgs": [35], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 95, "lineEnd": 95, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 32, "rootcause": false, "commits": []}, {"cfgs": [34], "code": "List<ExecutionInfoToken> tokens = new ArrayList<>()", "dfgs": [34], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 98, "lineEnd": 98, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 33, "rootcause": false, "commits": []}, {"cfgs": [35], "code": "tokens.add(new ExecutionInfoToken())", "dfgs": [35], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 99, "lineEnd": 99, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 34, "rootcause": false, "commits": []}, {"cfgs": [36], "code": "SqlConvertible query = statNode.createQuery(tokens)", "dfgs": [36], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 101, "lineEnd": 101, "lineMapIndex": -1, "methodParents": [13], "nodeIndex": 35, "rootcause": false, "commits": []}, {"cfgs": [37], "code": "String sql = QueryToSql.convert(new MysqlSyntax(), query)", "dfgs": [37], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 102, "lineEnd": 102, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 36, "rootcause": false, "commits": []}, {"cfgs": [], "code": "assertEquals(\"select count(*) as `verdictdbtotalcount` \" +\"from `oldschema`.`oldtable` as t \" +\"where t.`id` >= 2\",sql)", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 103, "lineEnd": 107, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 37, "rootcause": false, "commits": []}, {"cfgs": [], "code": "public void testScramblingNodeCreationWithPredicate() throws VerdictDBException, SQLException ", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 112, "lineEnd": 112, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 38, "rootcause": false, "commits": []}, {"cfgs": [40], "code": "String newSchemaName = \"newschema\"", "dfgs": [52], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 113, "lineEnd": 113, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 39, "rootcause": false, "commits": []}, {"cfgs": [41], "code": "String newTableName = \"newtable\"", "dfgs": [52], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 114, "lineEnd": 114, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 40, "rootcause": false, "commits": []}, {"cfgs": [42], "code": "String oldSchemaName = \"oldschema\"", "dfgs": [52], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 115, "lineEnd": 115, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 41, "rootcause": false, "commits": []}, {"cfgs": [43], "code": "String oldTableName = \"oldtable\"", "dfgs": [52], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 116, "lineEnd": 116, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 42, "rootcause": false, "commits": []}, {"cfgs": [44], "code": "int blockSize = 2", "dfgs": [44], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 117, "lineEnd": 117, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 43, "rootcause": false, "commits": []}, {"cfgs": [45], "code": "ScramblingMethod method = new UniformScramblingMethod(blockSize)", "dfgs": [52], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 118, "lineEnd": 118, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 44, "rootcause": false, "commits": []}, {"cfgs": [46], "code": "Map<String, String> options = new HashMap<>()", "dfgs": [46], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 119, "lineEnd": 119, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 45, "rootcause": false, "commits": []}, {"cfgs": [47], "code": "options.put(\"tierColumnName\", \"tiercolumn\")", "dfgs": [47], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 120, "lineEnd": 120, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 46, "rootcause": false, "commits": []}, {"cfgs": [48], "code": "options.put(\"blockColumnName\", \"blockcolumn\")", "dfgs": [52], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 121, "lineEnd": 121, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 47, "rootcause": false, "commits": []}, {"cfgs": [49], "code": "String sql = \"select count(*) as `verdictdbtotalcount` from `oldschema`.`oldtable` as t\"+ \" where id >= 2\"", "dfgs": [50], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 125, "lineEnd": 126, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 48, "rootcause": false, "commits": []}, {"cfgs": [50], "code": "DbmsConnection conn = JdbcConnection.create(mysqlConn)", "dfgs": [50, 70], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 127, "lineEnd": 127, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 49, "rootcause": false, "commits": []}, {"cfgs": [51], "code": "DbmsQueryResult queryResult = conn.execute(sql)", "dfgs": [55], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 128, "lineEnd": 128, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 50, "rootcause": false, "commits": []}, {"cfgs": [52], "code": "UnnamedColumn predicate = ColumnOp.greaterequal(new BaseColumn(\"t\", \"id\"),ConstantColumn.valueOf(2))", "dfgs": [52], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 130, "lineEnd": 132, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 51, "rootcause": false, "commits": []}, {"cfgs": [53], "code": "ScramblingNode node = ScramblingNode.create(newSchemaName, newTableName,oldSchemaName, oldTableName,method, predicate, options)", "dfgs": [58, 59, 66], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 134, "lineEnd": 137, "lineMapIndex": -1, "methodParents": [77], "nodeIndex": 52, "rootcause": false, "commits": []}, {"cfgs": [54], "code": "List<ExecutionInfoToken> tokens = new ArrayList<>()", "dfgs": [56], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 140, "lineEnd": 140, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 53, "rootcause": false, "commits": []}, {"cfgs": [55], "code": "ExecutionInfoToken e = new ExecutionInfoToken()", "dfgs": [55], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 141, "lineEnd": 141, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 54, "rootcause": false, "commits": []}, {"cfgs": [56], "code": "e.setKeyValue(TableSizeCountNode.class.getSimpleName(), queryResult)", "dfgs": [56], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 142, "lineEnd": 142, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 55, "rootcause": false, "commits": []}, {"cfgs": [57], "code": "tokens.add(e)", "dfgs": [60], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 143, "lineEnd": 143, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 56, "rootcause": false, "commits": []}, {"cfgs": [58], "code": "e = new ExecutionInfoToken()", "dfgs": [58], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 145, "lineEnd": 145, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 57, "rootcause": false, "commits": []}, {"cfgs": [59], "code": "e.setKeyValue(\"schemaName\", newSchemaName)", "dfgs": [59], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 146, "lineEnd": 146, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 58, "rootcause": false, "commits": []}, {"cfgs": [60], "code": "e.setKeyValue(\"tableName\", newTableName)", "dfgs": [60], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 147, "lineEnd": 147, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 59, "rootcause": false, "commits": []}, {"cfgs": [61], "code": "tokens.add(e)", "dfgs": [65], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 148, "lineEnd": 148, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 60, "rootcause": false, "commits": []}, {"cfgs": [62], "code": "e = new ExecutionInfoToken()", "dfgs": [64], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 150, "lineEnd": 150, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 61, "rootcause": false, "commits": []}, {"cfgs": [63], "code": "List<Pair<String, String>> columnNamesAndTypes = new ArrayList<>()", "dfgs": [63], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 151, "lineEnd": 151, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 62, "rootcause": false, "commits": []}, {"cfgs": [64], "code": "columnNamesAndTypes.add(Pair.of(\"id\", \"smallint\"))", "dfgs": [64], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 152, "lineEnd": 152, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 63, "rootcause": false, "commits": []}, {"cfgs": [65], "code": "e.setKeyValue(ScramblingPlan.COLUMN_METADATA_KEY, columnNamesAndTypes)", "dfgs": [65], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 153, "lineEnd": 153, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 64, "rootcause": false, "commits": []}, {"cfgs": [66], "code": "tokens.add(e)", "dfgs": [66], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 154, "lineEnd": 154, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 65, "rootcause": false, "commits": []}, {"cfgs": [67], "code": "SqlConvertible query = node.createQuery(tokens)", "dfgs": [67], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 156, "lineEnd": 156, "lineMapIndex": -1, "methodParents": [13], "nodeIndex": 66, "rootcause": false, "commits": []}, {"cfgs": [68], "code": "sql = QueryToSql.convert(new MysqlSyntax(), query)", "dfgs": [69], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 157, "lineEnd": 157, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 67, "rootcause": false, "commits": []}, {"cfgs": [69], "code": "String expected = \"create table `newschema`.`newtable` \"+ \"partition by list columns (`blockcolumn`) (\"+ \"partition p0 values in (0), \"+ \"partition p1 values in (1)) \"+ \"select t.`id`, 0 as `tiercolumn`, \"+ \"cast(floor(rand() * 2) as unsigned) as `blockcolumn` \"+ \"from `oldschema`.`oldtable` as t \"+ \"where t.`id` >= 2\"", "dfgs": [69], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 158, "lineEnd": 165, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 68, "rootcause": false, "commits": []}, {"cfgs": [70], "code": "assertEquals(expected, sql)", "dfgs": [71], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 166, "lineEnd": 166, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 69, "rootcause": false, "commits": []}, {"cfgs": [71], "code": "mysqlConn.createStatement().execute(\"drop table if exists newschema.newtable\")", "dfgs": [71], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 167, "lineEnd": 167, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 70, "rootcause": false, "commits": []}, {"cfgs": [], "code": "mysqlConn.createStatement().execute(sql)", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_scrambling_UniformScramblingNodeTest.java", "fieldParents": [], "isDel": false, "lineBeg": 168, "lineEnd": 168, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 71, "rootcause": false, "commits": []}, {"cfgs": [73], "code": "public List<ExecutableNodeBase> getStatisticsNode(String oldSchemaName,String oldTableName,UnnamedColumn predicate,String columnMetaTokenKey,String partitionMetaTokenKey,String primarykeyMetaTokenKey)", "dfgs": [73], "fName": "src_main_java_org_verdictdb_core_scrambling_UniformScramblingMethod.java", "fieldParents": [], "isDel": false, "lineBeg": 68, "lineEnd": 74, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 72, "rootcause": false, "commits": []}, {"cfgs": [], "code": "TableSizeCountNode countNode = new TableSizeCountNode(oldSchemaName, oldTableName, predicate)", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_scrambling_UniformScramblingMethod.java", "fieldParents": [], "isDel": false, "lineBeg": 75, "lineEnd": 75, "lineMapIndex": -1, "methodParents": [8], "nodeIndex": 73, "rootcause": false, "commits": []}, {"cfgs": [75], "code": "UnnamedColumn predicate = null", "dfgs": [75], "fName": "src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethodTest.java", "fieldParents": [], "isDel": false, "lineBeg": 189, "lineEnd": 189, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 74, "rootcause": false, "commits": []}, {"cfgs": [], "code": "List<ExecutableNodeBase> nodes = method.getStatisticsNode(oldSchemaName, oldTableName, predicate, columnMetaTokenKey,partitionMetaTokenKey, primaryMetaTokenKey)", "dfgs": [], "fName": "src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethodTest.java", "fieldParents": [], "isDel": false, "lineBeg": 193, "lineEnd": 195, "lineMapIndex": 2, "methodParents": [], "nodeIndex": 75, "rootcause": false, "commits": []}, {"cfgs": [], "code": "public List<ExecutableNodeBase> getStatisticsNode(String oldSchemaName,String oldTableName,UnnamedColumn predicate,String columnMetaTokenKey,String partitionMetaTokenKey,String primarykeyMetaTokenKey)", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java", "fieldParents": [], "isDel": false, "lineBeg": 150, "lineEnd": 156, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 76, "rootcause": false, "commits": []}, {"cfgs": [], "code": "List<ExecutableNodeBase> statsNodes =method.getStatisticsNode(oldSchemaName,oldTableName,predicate,COLUMN_METADATA_KEY,PARTITION_METADATA_KEY,PRIMARYKEY_METADATA_KEY)", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_scrambling_ScramblingPlan.java", "fieldParents": [], "isDel": false, "lineBeg": 100, "lineEnd": 107, "lineMapIndex": 4, "methodParents": [], "nodeIndex": 77, "rootcause": false, "commits": []}, {"cfgs": [79], "code": "public List<ExecutableNodeBase> getStatisticsNode(String oldSchemaName,String oldTableName,UnnamedColumn predicate,String columnMetaTokenKey,String partitionMetaTokenKey,String primarykeyMetaTokenKey)", "dfgs": [79], "fName": "src_main_java_org_verdictdb_core_scrambling_HashScramblingMethod.java", "fieldParents": [], "isDel": false, "lineBeg": 50, "lineEnd": 56, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 78, "rootcause": false, "commits": []}, {"cfgs": [], "code": "TableSizeCountNode countNode = new TableSizeCountNode(oldSchemaName, oldTableName, predicate)", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_scrambling_HashScramblingMethod.java", "fieldParents": [], "isDel": false, "lineBeg": 57, "lineEnd": 57, "lineMapIndex": -1, "methodParents": [8], "nodeIndex": 79, "rootcause": false, "commits": []}, {"cfgs": [], "code": "List<ExecutableNodeBase> getStatisticsNode(String oldSchemaName,String oldTableName,UnnamedColumn predicate,String columnMetaTokenKey,String partitionMetaTokenKey,String primarykeyMetaTokenKey)", "dfgs": [], "fName": "src_main_java_org_verdictdb_core_scrambling_ScramblingMethod.java", "fieldParents": [], "isDel": false, "lineBeg": 40, "lineEnd": 46, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 80, "rootcause": false, "commits": []}]