[{"cfgs": [], "code": "import net.lingala.zip4j.crypto.AESDecrypter", "dfgs": [], "fName": "src_main_java_net_lingala_zip4j_io_inputstream_ZipInputStream.java", "fieldParents": [], "isDel": true, "lineBeg": 19, "lineEnd": 19, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 0, "rootcause": false, "commits": ["cbad2a64faf6122477f14ce60fd5b63633cdbf05"]}, {"cfgs": [], "code": "if (localFileHeader.isDirectory() || localFileHeader.getCompressedSize() == 0)", "dfgs": [], "fName": "src_main_java_net_lingala_zip4j_io_inputstream_ZipInputStream.java", "fieldParents": [], "isDel": true, "lineBeg": 306, "lineEnd": 306, "lineMapIndex": 32, "methodParents": [], "nodeIndex": 1, "rootcause": false, "commits": ["179e3766c03f850b93b5204cdc7aee6c04f9f95b"]}, {"cfgs": [], "code": "import java.util.ArrayList", "dfgs": [], "fName": "src_test_java_net_lingala_zip4j_io_inputstream_ZipInputStreamIT.java", "fieldParents": [], "isDel": false, "lineBeg": 23, "lineEnd": 23, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 2, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import java.util.List", "dfgs": [], "fName": "src_test_java_net_lingala_zip4j_io_inputstream_ZipInputStreamIT.java", "fieldParents": [], "isDel": false, "lineBeg": 25, "lineEnd": 25, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 3, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import java.util.zip.ZipEntry", "dfgs": [], "fName": "src_test_java_net_lingala_zip4j_io_inputstream_ZipInputStreamIT.java", "fieldParents": [], "isDel": false, "lineBeg": 28, "lineEnd": 28, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 4, "rootcause": false, "commits": []}, {"cfgs": [], "code": "import java.util.zip.ZipOutputStream", "dfgs": [], "fName": "src_test_java_net_lingala_zip4j_io_inputstream_ZipInputStreamIT.java", "fieldParents": [], "isDel": false, "lineBeg": 29, "lineEnd": 29, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 5, "rootcause": false, "commits": []}, {"cfgs": [], "code": "public void testReadingZipBySkippingDataCreatedWithJDKZipReadsAllEntries() throws IOException ", "dfgs": [], "fName": "src_test_java_net_lingala_zip4j_io_inputstream_ZipInputStreamIT.java", "fieldParents": [], "isDel": false, "lineBeg": 224, "lineEnd": 224, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 6, "rootcause": false, "commits": []}, {"cfgs": [8], "code": "List<File> filesToAdd = new ArrayList<>()", "dfgs": [8], "fName": "src_test_java_net_lingala_zip4j_io_inputstream_ZipInputStreamIT.java", "fieldParents": [], "isDel": false, "lineBeg": 225, "lineEnd": 225, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 7, "rootcause": false, "commits": []}, {"cfgs": [9], "code": "filesToAdd.add(getTestFileFromResources(\"sample_directory\"))", "dfgs": [9, 10], "fName": "src_test_java_net_lingala_zip4j_io_inputstream_ZipInputStreamIT.java", "fieldParents": [], "isDel": false, "lineBeg": 227, "lineEnd": 227, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 8, "rootcause": false, "commits": []}, {"cfgs": [10], "code": "filesToAdd.addAll(FILES_TO_ADD)", "dfgs": [10], "fName": "src_test_java_net_lingala_zip4j_io_inputstream_ZipInputStreamIT.java", "fieldParents": [], "isDel": false, "lineBeg": 228, "lineEnd": 228, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 9, "rootcause": false, "commits": []}, {"cfgs": [11], "code": "filesToAdd.add(getTestFileFromResources(\"\u00f6\u00fc\u00e4\u00f6\u00e4\u00f6\"))", "dfgs": [11], "fName": "src_test_java_net_lingala_zip4j_io_inputstream_ZipInputStreamIT.java", "fieldParents": [], "isDel": false, "lineBeg": 229, "lineEnd": 229, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 10, "rootcause": false, "commits": []}, {"cfgs": [12], "code": "filesToAdd.add(getTestFileFromResources(\"file_PDF_1MB.pdf\"))", "dfgs": [12], "fName": "src_test_java_net_lingala_zip4j_io_inputstream_ZipInputStreamIT.java", "fieldParents": [], "isDel": false, "lineBeg": 230, "lineEnd": 230, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 11, "rootcause": false, "commits": []}, {"cfgs": [13], "code": "File generatedZipFile = createZipFileWithJdkZip(filesToAdd, getTestFileFromResources(\"\"))", "dfgs": [17, 14], "fName": "src_test_java_net_lingala_zip4j_io_inputstream_ZipInputStreamIT.java", "fieldParents": [], "isDel": false, "lineBeg": 231, "lineEnd": 231, "lineMapIndex": -1, "methodParents": [18], "nodeIndex": 12, "rootcause": false, "commits": []}, {"cfgs": [14], "code": "int totalNumberOfEntriesRead = 0", "dfgs": [17, 16], "fName": "src_test_java_net_lingala_zip4j_io_inputstream_ZipInputStreamIT.java", "fieldParents": [], "isDel": false, "lineBeg": 233, "lineEnd": 233, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 13, "rootcause": false, "commits": []}, {"cfgs": [15], "code": "try (ZipInputStream zipInputStream = new ZipInputStream(new FileInputStream(generatedZipFile))) ", "dfgs": [15], "fName": "src_test_java_net_lingala_zip4j_io_inputstream_ZipInputStreamIT.java", "fieldParents": [], "isDel": false, "lineBeg": 234, "lineEnd": 234, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 14, "rootcause": false, "commits": []}, {"cfgs": [16, 17], "code": "while (zipInputStream.getNextEntry() != null)", "dfgs": [], "fName": "src_test_java_net_lingala_zip4j_io_inputstream_ZipInputStreamIT.java", "fieldParents": [], "isDel": false, "lineBeg": 235, "lineEnd": 235, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 15, "rootcause": false, "commits": []}, {"cfgs": [], "code": "totalNumberOfEntriesRead++", "dfgs": [17], "fName": "src_test_java_net_lingala_zip4j_io_inputstream_ZipInputStreamIT.java", "fieldParents": [], "isDel": false, "lineBeg": 236, "lineEnd": 236, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 16, "rootcause": false, "commits": []}, {"cfgs": [], "code": "assertThat(totalNumberOfEntriesRead).isEqualTo(6)", "dfgs": [], "fName": "src_test_java_net_lingala_zip4j_io_inputstream_ZipInputStreamIT.java", "fieldParents": [], "isDel": false, "lineBeg": 240, "lineEnd": 240, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 17, "rootcause": false, "commits": []}, {"cfgs": [20], "code": "private File createZipFileWithJdkZip(List<File> filesToAdd, File rootFolder) throws IOException ", "dfgs": [21, 31, 22, 24, 25, 30, 23, 27, 26, 28, 29], "fName": "src_test_java_net_lingala_zip4j_io_inputstream_ZipInputStreamIT.java", "fieldParents": [], "isDel": false, "lineBeg": 323, "lineEnd": 323, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 18, "rootcause": false, "commits": []}, {"cfgs": [], "code": "int readLen", "dfgs": [], "fName": "src_test_java_net_lingala_zip4j_io_inputstream_ZipInputStreamIT.java", "fieldParents": [], "isDel": false, "lineBeg": 324, "lineEnd": 324, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 19, "rootcause": false, "commits": []}, {"cfgs": [21], "code": "byte[] readBuffer = new byte[InternalZipConstants.BUFF_SIZE]", "dfgs": [28], "fName": "src_test_java_net_lingala_zip4j_io_inputstream_ZipInputStreamIT.java", "fieldParents": [], "isDel": false, "lineBeg": 325, "lineEnd": 325, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 20, "rootcause": false, "commits": []}, {"cfgs": [22], "code": "try(ZipOutputStream zipOutputStream = new ZipOutputStream(new FileOutputStream(generatedZipFile))) ", "dfgs": [25], "fName": "src_test_java_net_lingala_zip4j_io_inputstream_ZipInputStreamIT.java", "fieldParents": [], "isDel": false, "lineBeg": 326, "lineEnd": 326, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 21, "rootcause": false, "commits": []}, {"cfgs": [23, 30], "code": "for (File fileToAdd : filesToAdd)", "dfgs": [23], "fName": "src_test_java_net_lingala_zip4j_io_inputstream_ZipInputStreamIT.java", "fieldParents": [], "isDel": false, "lineBeg": 327, "lineEnd": 327, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 22, "rootcause": false, "commits": []}, {"cfgs": [24], "code": "String path = rootFolder.toPath().relativize(fileToAdd.toPath()).toString().replaceAll(\"\\\\\\\\\", \"/\")", "dfgs": [24, 26], "fName": "src_test_java_net_lingala_zip4j_io_inputstream_ZipInputStreamIT.java", "fieldParents": [], "isDel": false, "lineBeg": 328, "lineEnd": 328, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 23, "rootcause": false, "commits": []}, {"cfgs": [25], "code": "ZipEntry entry = new ZipEntry(path)", "dfgs": [25], "fName": "src_test_java_net_lingala_zip4j_io_inputstream_ZipInputStreamIT.java", "fieldParents": [], "isDel": false, "lineBeg": 329, "lineEnd": 329, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 24, "rootcause": false, "commits": []}, {"cfgs": [26], "code": "zipOutputStream.putNextEntry(entry)", "dfgs": [30, 29], "fName": "src_test_java_net_lingala_zip4j_io_inputstream_ZipInputStreamIT.java", "fieldParents": [], "isDel": false, "lineBeg": 330, "lineEnd": 330, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 25, "rootcause": false, "commits": []}, {"cfgs": [27, 30], "code": "if (!fileToAdd.isDirectory())", "dfgs": [27], "fName": "src_test_java_net_lingala_zip4j_io_inputstream_ZipInputStreamIT.java", "fieldParents": [], "isDel": false, "lineBeg": 331, "lineEnd": 331, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 26, "rootcause": false, "commits": []}, {"cfgs": [28], "code": "try (InputStream fis = new FileInputStream(fileToAdd)) ", "dfgs": [28], "fName": "src_test_java_net_lingala_zip4j_io_inputstream_ZipInputStreamIT.java", "fieldParents": [], "isDel": false, "lineBeg": 332, "lineEnd": 332, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 27, "rootcause": false, "commits": []}, {"cfgs": [29, 30], "code": "while ((readLen = fis.read(readBuffer)) != -1)", "dfgs": [29], "fName": "src_test_java_net_lingala_zip4j_io_inputstream_ZipInputStreamIT.java", "fieldParents": [], "isDel": false, "lineBeg": 333, "lineEnd": 333, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 28, "rootcause": false, "commits": []}, {"cfgs": [], "code": "zipOutputStream.write(readBuffer, 0, readLen)", "dfgs": [30], "fName": "src_test_java_net_lingala_zip4j_io_inputstream_ZipInputStreamIT.java", "fieldParents": [], "isDel": false, "lineBeg": 334, "lineEnd": 334, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 29, "rootcause": false, "commits": []}, {"cfgs": [31], "code": "zipOutputStream.closeEntry()", "dfgs": [], "fName": "src_test_java_net_lingala_zip4j_io_inputstream_ZipInputStreamIT.java", "fieldParents": [], "isDel": false, "lineBeg": 338, "lineEnd": 338, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 30, "rootcause": false, "commits": []}, {"cfgs": [], "code": "return generatedZipFile", "dfgs": [], "fName": "src_test_java_net_lingala_zip4j_io_inputstream_ZipInputStreamIT.java", "fieldParents": [], "isDel": false, "lineBeg": 341, "lineEnd": 341, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 31, "rootcause": false, "commits": []}, {"cfgs": [], "code": "if (!localFileHeader.isDataDescriptorExists()&& (localFileHeader.isDirectory() || localFileHeader.getCompressedSize() == 0))", "dfgs": [], "fName": "src_main_java_net_lingala_zip4j_io_inputstream_ZipInputStream.java", "fieldParents": [], "isDel": false, "lineBeg": 307, "lineEnd": 308, "lineMapIndex": 1, "methodParents": [], "nodeIndex": 32, "rootcause": false, "commits": []}]