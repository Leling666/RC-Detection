[{"cfgs":[],"code":"private long streamLength = 0","dfgs":[],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[],"isDel":true,"lineBeg":150,"lineEnd":150,"lineMapIndex":-1,"methodParents":[],"nodeIndex":0},{"cfgs":[],"code":"fls.streamLength = 0","dfgs":[],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[0],"isDel":true,"lineBeg":246,"lineEnd":246,"lineMapIndex":18,"methodParents":[],"nodeIndex":1},{"cfgs":[],"code":"fls.streamLength = preArr[2]","dfgs":[],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[0],"isDel":true,"lineBeg":262,"lineEnd":262,"lineMapIndex":19,"methodParents":[],"nodeIndex":2},{"cfgs":[4],"code":"final long streamLength = Long.parseLong(tokens[4])","dfgs":[4,5],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[0],"isDel":true,"lineBeg":283,"lineEnd":283,"lineMapIndex":20,"methodParents":[],"nodeIndex":3},{"cfgs":[5],"code":"final long offset       = Long.parseLong(tokens[5])","dfgs":[],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[],"isDel":true,"lineBeg":284,"lineEnd":284,"lineMapIndex":21,"methodParents":[],"nodeIndex":4},{"cfgs":[6],"code":"final boolean zeroStream = (streamLength == 0)","dfgs":[8,6,7],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[0],"isDel":true,"lineBeg":295,"lineEnd":295,"lineMapIndex":-1,"methodParents":[],"nodeIndex":5},{"cfgs":[7,8],"code":"if (empty ^ zeroStream)","dfgs":[7],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[],"isDel":true,"lineBeg":296,"lineEnd":296,"lineMapIndex":-1,"methodParents":[],"nodeIndex":6},{"cfgs":[8],"code":"throw new SketchesArgumentException(\"Possible Corruption: (Empty ^ StreamLength=0) = true : Empty: \" + empty+ \", strLen: \" + streamLength)","dfgs":[],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[0],"isDel":true,"lineBeg":297,"lineEnd":299,"lineMapIndex":23,"methodParents":[],"nodeIndex":7},{"cfgs":[],"code":"sketch.streamLength = streamLength","dfgs":[],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[0],"isDel":true,"lineBeg":309,"lineEnd":309,"lineMapIndex":24,"methodParents":[],"nodeIndex":8},{"cfgs":[],"code":"final String s =String.format(fmt, serVer, famID, lgMaxMapSz, flags, streamLength, offset)","dfgs":[],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[0],"isDel":true,"lineBeg":330,"lineEnd":331,"lineMapIndex":25,"methodParents":[],"nodeIndex":9},{"cfgs":[],"code":"preArr[2] = streamLength","dfgs":[],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[0],"isDel":true,"lineBeg":373,"lineEnd":373,"lineMapIndex":26,"methodParents":[],"nodeIndex":10},{"cfgs":[],"code":"streamLength += count","dfgs":[],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[0],"isDel":true,"lineBeg":405,"lineEnd":405,"lineMapIndex":27,"methodParents":[],"nodeIndex":11},{"cfgs":[13],"code":"final long streamLen = streamLength + other.streamLength","dfgs":[13],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[0],"isDel":true,"lineBeg":433,"lineEnd":433,"lineMapIndex":28,"methodParents":[],"nodeIndex":12},{"cfgs":[],"code":"streamLength = streamLen","dfgs":[],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[0],"isDel":true,"lineBeg":440,"lineEnd":440,"lineMapIndex":29,"methodParents":[],"nodeIndex":13},{"cfgs":[],"code":"return streamLength","dfgs":[],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[0],"isDel":true,"lineBeg":692,"lineEnd":692,"lineMapIndex":-1,"methodParents":[],"nodeIndex":14},{"cfgs":[],"code":"streamLength = 0","dfgs":[],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[0],"isDel":true,"lineBeg":728,"lineEnd":728,"lineMapIndex":31,"methodParents":[],"nodeIndex":15},{"cfgs":[],"code":"sb.append(\"  Stream Length    : \" + streamLength).append(LS)","dfgs":[],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[0],"isDel":true,"lineBeg":739,"lineEnd":739,"lineMapIndex":32,"methodParents":[],"nodeIndex":16},{"cfgs":[],"code":"private long streamWeight = 0","dfgs":[],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[],"isDel":false,"lineBeg":150,"lineEnd":150,"lineMapIndex":-1,"methodParents":[],"nodeIndex":17},{"cfgs":[],"code":"fls.streamWeight = 0","dfgs":[],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[17],"isDel":false,"lineBeg":246,"lineEnd":246,"lineMapIndex":1,"methodParents":[],"nodeIndex":18},{"cfgs":[],"code":"fls.streamWeight = preArr[2]","dfgs":[],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[17],"isDel":false,"lineBeg":262,"lineEnd":262,"lineMapIndex":2,"methodParents":[],"nodeIndex":19},{"cfgs":[21],"code":"final long streamWt = Long.parseLong(tokens[4])","dfgs":[24,21],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[],"isDel":false,"lineBeg":283,"lineEnd":283,"lineMapIndex":3,"methodParents":[],"nodeIndex":20},{"cfgs":[22],"code":"final long offset       = Long.parseLong(tokens[5])","dfgs":[],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[],"isDel":false,"lineBeg":284,"lineEnd":284,"lineMapIndex":4,"methodParents":[],"nodeIndex":21},{"cfgs":[23,24],"code":"if (!empty && (numActive == 0))","dfgs":[23],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[],"isDel":false,"lineBeg":295,"lineEnd":295,"lineMapIndex":-1,"methodParents":[],"nodeIndex":22},{"cfgs":[24],"code":"throw new SketchesArgumentException(\"Possible Corruption: !Empty && NumActive=0;  strLen: \" + numActive)","dfgs":[],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[],"isDel":false,"lineBeg":296,"lineEnd":297,"lineMapIndex":7,"methodParents":[],"nodeIndex":23},{"cfgs":[],"code":"sketch.streamWeight = streamWt","dfgs":[],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[17],"isDel":false,"lineBeg":307,"lineEnd":307,"lineMapIndex":8,"methodParents":[],"nodeIndex":24},{"cfgs":[],"code":"final String s =String.format(fmt, serVer, famID, lgMaxMapSz, flags, streamWeight, offset)","dfgs":[],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[17],"isDel":false,"lineBeg":328,"lineEnd":329,"lineMapIndex":9,"methodParents":[],"nodeIndex":25},{"cfgs":[],"code":"preArr[2] = streamWeight","dfgs":[],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[17],"isDel":false,"lineBeg":371,"lineEnd":371,"lineMapIndex":10,"methodParents":[],"nodeIndex":26},{"cfgs":[],"code":"streamWeight += count","dfgs":[],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[17],"isDel":false,"lineBeg":403,"lineEnd":403,"lineMapIndex":11,"methodParents":[],"nodeIndex":27},{"cfgs":[29],"code":"final long streamWt = streamWeight + other.streamWeight","dfgs":[29],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[17],"isDel":false,"lineBeg":431,"lineEnd":431,"lineMapIndex":12,"methodParents":[],"nodeIndex":28},{"cfgs":[],"code":"streamWeight = streamWt","dfgs":[],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[17],"isDel":false,"lineBeg":438,"lineEnd":438,"lineMapIndex":13,"methodParents":[],"nodeIndex":29},{"cfgs":[],"code":"return streamWeight","dfgs":[],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[17],"isDel":false,"lineBeg":690,"lineEnd":690,"lineMapIndex":-1,"methodParents":[],"nodeIndex":30},{"cfgs":[],"code":"streamWeight = 0","dfgs":[],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[17],"isDel":false,"lineBeg":726,"lineEnd":726,"lineMapIndex":15,"methodParents":[],"nodeIndex":31},{"cfgs":[],"code":"sb.append(\"  Stream Length    : \" + streamWeight).append(LS)","dfgs":[],"fName":"src_main_java_com_yahoo_sketches_frequencies_LongsSketch.java","fieldParents":[17],"isDel":false,"lineBeg":737,"lineEnd":737,"lineMapIndex":16,"methodParents":[],"nodeIndex":32},{"cfgs":[],"code":"public void checkStringDeserEmptyNotCorrupt() ","dfgs":[],"fName":"src_test_java_com_yahoo_sketches_frequencies_LongsSketchTest.java","fieldParents":[],"isDel":false,"lineBeg":506,"lineEnd":506,"lineMapIndex":-1,"methodParents":[],"nodeIndex":33},{"cfgs":[35],"code":"int size = 1 << LG_MIN_MAP_SIZE","dfgs":[35],"fName":"src_test_java_com_yahoo_sketches_frequencies_LongsSketchTest.java","fieldParents":[],"isDel":false,"lineBeg":507,"lineEnd":507,"lineMapIndex":-1,"methodParents":[],"nodeIndex":34},{"cfgs":[36],"code":"int thresh = (size * 3) / 4","dfgs":[37,41],"fName":"src_test_java_com_yahoo_sketches_frequencies_LongsSketchTest.java","fieldParents":[],"isDel":false,"lineBeg":508,"lineEnd":508,"lineMapIndex":-1,"methodParents":[],"nodeIndex":35},{"cfgs":[37],"code":"String fmt = \"%6d%10s%s\"","dfgs":[44],"fName":"src_test_java_com_yahoo_sketches_frequencies_LongsSketchTest.java","fieldParents":[],"isDel":false,"lineBeg":509,"lineEnd":509,"lineMapIndex":-1,"methodParents":[],"nodeIndex":36},{"cfgs":[38],"code":"LongsSketch fls = new LongsSketch(size)","dfgs":[38,42],"fName":"src_test_java_com_yahoo_sketches_frequencies_LongsSketchTest.java","fieldParents":[],"isDel":false,"lineBeg":510,"lineEnd":510,"lineMapIndex":-1,"methodParents":[],"nodeIndex":37},{"cfgs":[39],"code":"println(\"Sketch Size: \" + size)","dfgs":[],"fName":"src_test_java_com_yahoo_sketches_frequencies_LongsSketchTest.java","fieldParents":[],"isDel":false,"lineBeg":511,"lineEnd":511,"lineMapIndex":-1,"methodParents":[50],"nodeIndex":38},{"cfgs":[40],"code":"String s = null","dfgs":[],"fName":"src_test_java_com_yahoo_sketches_frequencies_LongsSketchTest.java","fieldParents":[],"isDel":false,"lineBeg":512,"lineEnd":512,"lineMapIndex":-1,"methodParents":[],"nodeIndex":39},{"cfgs":[41],"code":"int i = 0","dfgs":[41],"fName":"src_test_java_com_yahoo_sketches_frequencies_LongsSketchTest.java","fieldParents":[],"isDel":false,"lineBeg":513,"lineEnd":513,"lineMapIndex":-1,"methodParents":[],"nodeIndex":40},{"cfgs":[42],"code":"for ( ; i <= thresh; i++)","dfgs":[42,44,46],"fName":"src_test_java_com_yahoo_sketches_frequencies_LongsSketchTest.java","fieldParents":[],"isDel":false,"lineBeg":514,"lineEnd":514,"lineMapIndex":-1,"methodParents":[],"nodeIndex":41},{"cfgs":[43],"code":"fls.update(i+1, 1)","dfgs":[43],"fName":"src_test_java_com_yahoo_sketches_frequencies_LongsSketchTest.java","fieldParents":[],"isDel":false,"lineBeg":515,"lineEnd":515,"lineMapIndex":-1,"methodParents":[27],"nodeIndex":42},{"cfgs":[44],"code":"s = fls.serializeToString()","dfgs":[44],"fName":"src_test_java_com_yahoo_sketches_frequencies_LongsSketchTest.java","fieldParents":[],"isDel":false,"lineBeg":516,"lineEnd":516,"lineMapIndex":-1,"methodParents":[25],"nodeIndex":43},{"cfgs":[45],"code":"println(String.format(\"SER   \" + fmt, (i + 1), fls.isEmpty() + \" : \", s ))","dfgs":[45,46],"fName":"src_test_java_com_yahoo_sketches_frequencies_LongsSketchTest.java","fieldParents":[],"isDel":false,"lineBeg":517,"lineEnd":517,"lineMapIndex":-1,"methodParents":[50],"nodeIndex":44},{"cfgs":[46],"code":"LongsSketch fls2 = LongsSketch.getInstance(s)","dfgs":[46],"fName":"src_test_java_com_yahoo_sketches_frequencies_LongsSketchTest.java","fieldParents":[],"isDel":false,"lineBeg":518,"lineEnd":518,"lineMapIndex":-1,"methodParents":[18],"nodeIndex":45},{"cfgs":[],"code":"println(String.format(\"DESER \" + fmt, (i + 1), fls2.isEmpty() + \" : \", s ))","dfgs":[],"fName":"src_test_java_com_yahoo_sketches_frequencies_LongsSketchTest.java","fieldParents":[],"isDel":false,"lineBeg":519,"lineEnd":519,"lineMapIndex":-1,"methodParents":[50],"nodeIndex":46},{"cfgs":[],"code":"public void checkStringDeserEmptyCorrupt() ","dfgs":[],"fName":"src_test_java_com_yahoo_sketches_frequencies_LongsSketchTest.java","fieldParents":[],"isDel":false,"lineBeg":524,"lineEnd":524,"lineMapIndex":-1,"methodParents":[],"nodeIndex":47},{"cfgs":[49],"code":"String s = \"1,\"  //serVer+ \"10,\" //FamID+ \"3,\"  //lgMaxMapSz+ \"0,\"  //Empty Flag = false ... corrupted, should be true+ \"7,\"  //stream Len so far+ \"1,\"  //error offset+ \"0,\"  //numActive ...conflict with empty+ \"8,\"","dfgs":[49],"fName":"src_test_java_com_yahoo_sketches_frequencies_LongsSketchTest.java","fieldParents":[],"isDel":false,"lineBeg":525,"lineEnd":532,"lineMapIndex":-1,"methodParents":[],"nodeIndex":48},{"cfgs":[],"code":"LongsSketch.getInstance(s)","dfgs":[],"fName":"src_test_java_com_yahoo_sketches_frequencies_LongsSketchTest.java","fieldParents":[],"isDel":false,"lineBeg":533,"lineEnd":533,"lineMapIndex":-1,"methodParents":[18],"nodeIndex":49},{"cfgs":[],"code":"System.err.println(s)","dfgs":[],"fName":"src_test_java_com_yahoo_sketches_frequencies_LongsSketchTest.java","fieldParents":[],"isDel":false,"lineBeg":580,"lineEnd":580,"lineMapIndex":-1,"methodParents":[50],"nodeIndex":50}]