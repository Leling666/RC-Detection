[{"cfgs":[],"code":"import java.util.zip.DeflaterOutputStream","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":38,"lineEnd":38,"lineMapIndex":-1,"methodParents":[],"nodeIndex":0},{"cfgs":[],"code":"import org.apache.hadoop.io.compress.BZip2Codec","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":56,"lineEnd":56,"lineMapIndex":-1,"methodParents":[],"nodeIndex":1},{"cfgs":[],"code":"import org.apache.hadoop.io.compress.CompressionCodec","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":57,"lineEnd":57,"lineMapIndex":-1,"methodParents":[],"nodeIndex":2},{"cfgs":[],"code":"import org.apache.hadoop.util.ReflectionUtils","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":59,"lineEnd":59,"lineMapIndex":-1,"methodParents":[],"nodeIndex":3},{"cfgs":[5],"code":"OutputStream dout = new DeflaterOutputStream(fs.create(new Path(root, \"file.deflate\")))","dfgs":[6,20,12],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":630,"lineEnd":631,"lineMapIndex":-1,"methodParents":[],"nodeIndex":4},{"cfgs":[6],"code":"byte[] outbytes = \"foo\".getBytes()","dfgs":[6],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":632,"lineEnd":632,"lineMapIndex":-1,"methodParents":[],"nodeIndex":5},{"cfgs":[7],"code":"dout.write(outbytes)","dfgs":[7,15],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":633,"lineEnd":633,"lineMapIndex":-1,"methodParents":[],"nodeIndex":6},{"cfgs":[8],"code":"dout.close()","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":634,"lineEnd":634,"lineMapIndex":-1,"methodParents":[],"nodeIndex":7},{"cfgs":[9],"code":"out = new ByteArrayOutputStream()","dfgs":[9],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":635,"lineEnd":635,"lineMapIndex":-1,"methodParents":[],"nodeIndex":8},{"cfgs":[],"code":"System.setOut(new PrintStream(out))","dfgs":[25,15],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":636,"lineEnd":636,"lineMapIndex":-1,"methodParents":[],"nodeIndex":9},{"cfgs":[11],"code":"argv = new String[2]","dfgs":[13],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":637,"lineEnd":637,"lineMapIndex":-1,"methodParents":[],"nodeIndex":10},{"cfgs":[12],"code":"argv[0] = \"-text\"","dfgs":[13],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":638,"lineEnd":638,"lineMapIndex":-1,"methodParents":[],"nodeIndex":11},{"cfgs":[13],"code":"argv[1] = new Path(root, \"file.deflate\").toString()","dfgs":[14,19,13],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":639,"lineEnd":639,"lineMapIndex":-1,"methodParents":[],"nodeIndex":12},{"cfgs":[14],"code":"ret = ToolRunner.run(new FsShell(conf), argv)","dfgs":[14,29,17],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":640,"lineEnd":640,"lineMapIndex":-1,"methodParents":[],"nodeIndex":13},{"cfgs":[15],"code":"assertEquals(\"'-text \" + argv[1] + \" returned \" + ret, 0, ret)","dfgs":[15],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":641,"lineEnd":641,"lineMapIndex":-1,"methodParents":[],"nodeIndex":14},{"cfgs":[16],"code":"assertTrue(\"Output doesn't match input\",Arrays.equals(outbytes, out.toByteArray()))","dfgs":[16,30,31],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":642,"lineEnd":643,"lineMapIndex":-1,"methodParents":[],"nodeIndex":15},{"cfgs":[17],"code":"out.reset()","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":644,"lineEnd":644,"lineMapIndex":-1,"methodParents":[],"nodeIndex":16},{"cfgs":[18],"code":"CompressionCodec codec = (CompressionCodec)ReflectionUtils.newInstance(BZip2Codec.class, conf)","dfgs":[18,29],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":648,"lineEnd":649,"lineMapIndex":-1,"methodParents":[],"nodeIndex":17},{"cfgs":[19],"code":"String extension = codec.getDefaultExtension()","dfgs":[19,20],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":650,"lineEnd":650,"lineMapIndex":-1,"methodParents":[],"nodeIndex":18},{"cfgs":[20],"code":"Path p = new Path(root, \"file.\" + extension)","dfgs":[20,28],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":651,"lineEnd":651,"lineMapIndex":-1,"methodParents":[],"nodeIndex":19},{"cfgs":[21],"code":"OutputStream fout = new DataOutputStream(codec.createOutputStream(fs.create(p, true)))","dfgs":[22,28],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":652,"lineEnd":653,"lineMapIndex":-1,"methodParents":[],"nodeIndex":20},{"cfgs":[22],"code":"byte[] writebytes = \"foo\".getBytes()","dfgs":[22],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":654,"lineEnd":654,"lineMapIndex":-1,"methodParents":[],"nodeIndex":21},{"cfgs":[23],"code":"fout.write(writebytes)","dfgs":[23,31],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":655,"lineEnd":655,"lineMapIndex":-1,"methodParents":[],"nodeIndex":22},{"cfgs":[24],"code":"fout.close()","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":656,"lineEnd":656,"lineMapIndex":-1,"methodParents":[],"nodeIndex":23},{"cfgs":[25],"code":"out = new ByteArrayOutputStream()","dfgs":[25],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":657,"lineEnd":657,"lineMapIndex":-1,"methodParents":[],"nodeIndex":24},{"cfgs":[],"code":"System.setOut(new PrintStream(out))","dfgs":[31],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":658,"lineEnd":658,"lineMapIndex":-1,"methodParents":[],"nodeIndex":25},{"cfgs":[27],"code":"argv = new String[2]","dfgs":[29],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":659,"lineEnd":659,"lineMapIndex":-1,"methodParents":[],"nodeIndex":26},{"cfgs":[28],"code":"argv[0] = \"-text\"","dfgs":[29],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":660,"lineEnd":660,"lineMapIndex":-1,"methodParents":[],"nodeIndex":27},{"cfgs":[29],"code":"argv[1] = new Path(root, p).toString()","dfgs":[30,29],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":661,"lineEnd":661,"lineMapIndex":-1,"methodParents":[],"nodeIndex":28},{"cfgs":[30],"code":"ret = ToolRunner.run(new FsShell(conf), argv)","dfgs":[30],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":662,"lineEnd":662,"lineMapIndex":-1,"methodParents":[],"nodeIndex":29},{"cfgs":[31],"code":"assertEquals(\"'-text \" + argv[1] + \" returned \" + ret, 0, ret)","dfgs":[31],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":663,"lineEnd":663,"lineMapIndex":-1,"methodParents":[],"nodeIndex":30},{"cfgs":[32],"code":"assertTrue(\"Output doesn't match input\",Arrays.equals(writebytes, out.toByteArray()))","dfgs":[32],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":664,"lineEnd":665,"lineMapIndex":-1,"methodParents":[],"nodeIndex":31},{"cfgs":[],"code":"out.reset()","dfgs":[],"fName":"hadoop-hdfs-project_hadoop-hdfs_src_test_java_org_apache_hadoop_hdfs_TestDFSShell.java","fieldParents":[],"isDel":false,"lineBeg":666,"lineEnd":666,"lineMapIndex":-1,"methodParents":[],"nodeIndex":32}]