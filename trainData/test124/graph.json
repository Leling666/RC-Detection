[{"cfgs":[],"code":"import static org.junit.Assert.assertEquals","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_test_java_org_apache_hadoop_ipc_TestFairCallQueue.java","fieldParents":[],"isDel":true,"lineBeg":21,"lineEnd":21,"lineMapIndex":-1,"methodParents":[],"nodeIndex":0},{"cfgs":[],"code":"import static org.junit.Assert.assertFalse","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_test_java_org_apache_hadoop_ipc_TestFairCallQueue.java","fieldParents":[],"isDel":true,"lineBeg":22,"lineEnd":22,"lineMapIndex":-1,"methodParents":[],"nodeIndex":1},{"cfgs":[],"code":"import static org.junit.Assert.assertNotNull","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_test_java_org_apache_hadoop_ipc_TestFairCallQueue.java","fieldParents":[],"isDel":true,"lineBeg":23,"lineEnd":23,"lineMapIndex":-1,"methodParents":[],"nodeIndex":2},{"cfgs":[],"code":"import static org.junit.Assert.assertNull","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_test_java_org_apache_hadoop_ipc_TestFairCallQueue.java","fieldParents":[],"isDel":true,"lineBeg":24,"lineEnd":24,"lineMapIndex":-1,"methodParents":[],"nodeIndex":3},{"cfgs":[],"code":"import static org.junit.Assert.assertTrue","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_test_java_org_apache_hadoop_ipc_TestFairCallQueue.java","fieldParents":[],"isDel":true,"lineBeg":25,"lineEnd":25,"lineMapIndex":-1,"methodParents":[],"nodeIndex":4},{"cfgs":[],"code":"fcq = new FairCallQueue<Schedulable>(2, 5, \"ns\", conf)","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_test_java_org_apache_hadoop_ipc_TestFairCallQueue.java","fieldParents":[],"isDel":true,"lineBeg":71,"lineEnd":71,"lineMapIndex":10,"methodParents":[],"nodeIndex":5},{"cfgs":[],"code":"manager = new CallQueueManager<FakeCall>(queue, scheduler, false,2, \"\", conf)","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_test_java_org_apache_hadoop_ipc_TestCallQueueManager.java","fieldParents":[],"isDel":true,"lineBeg":216,"lineEnd":217,"lineMapIndex":26,"methodParents":[],"nodeIndex":6},{"cfgs":[8],"code":"LOG.info(\"FairCallQueue is in use with \" + numQueues + \" queues.\")","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_ipc_FairCallQueue.java","fieldParents":[],"isDel":true,"lineBeg":91,"lineEnd":91,"lineMapIndex":27,"methodParents":[],"nodeIndex":7},{"cfgs":[],"code":"this.queues.add(new LinkedBlockingQueue<E>(capacity))","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_ipc_FairCallQueue.java","fieldParents":[],"isDel":true,"lineBeg":97,"lineEnd":97,"lineMapIndex":33,"methodParents":[],"nodeIndex":8},{"cfgs":[],"code":"LOG.info(\"Using callQueue: \" + backingClass + \" scheduler: \" +schedulerClass)","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_ipc_CallQueueManager.java","fieldParents":[],"isDel":true,"lineBeg":75,"lineEnd":76,"lineMapIndex":34,"methodParents":[],"nodeIndex":9},{"cfgs":[],"code":"fcq = new FairCallQueue<Schedulable>(2, 10, \"ns\", conf)","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_test_java_org_apache_hadoop_ipc_TestFairCallQueue.java","fieldParents":[],"isDel":false,"lineBeg":65,"lineEnd":65,"lineMapIndex":5,"methodParents":[],"nodeIndex":10},{"cfgs":[12],"code":"public void testTotalCapacityOfSubQueues() ","dfgs":[12,14,16,18,20,22,24,15,17,19,21,23,25],"fName":"hadoop-common-project_hadoop-common_src_test_java_org_apache_hadoop_ipc_TestFairCallQueue.java","fieldParents":[],"isDel":false,"lineBeg":70,"lineEnd":70,"lineMapIndex":-1,"methodParents":[],"nodeIndex":11},{"cfgs":[14],"code":"Configuration conf = new Configuration()","dfgs":[14],"fName":"hadoop-common-project_hadoop-common_src_test_java_org_apache_hadoop_ipc_TestFairCallQueue.java","fieldParents":[],"isDel":false,"lineBeg":71,"lineEnd":71,"lineMapIndex":-1,"methodParents":[],"nodeIndex":12},{"cfgs":[],"code":"FairCallQueue<Schedulable> fairCallQueue","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_test_java_org_apache_hadoop_ipc_TestFairCallQueue.java","fieldParents":[],"isDel":false,"lineBeg":72,"lineEnd":72,"lineMapIndex":-1,"methodParents":[],"nodeIndex":13},{"cfgs":[15],"code":"fairCallQueue = new FairCallQueue<Schedulable>(1, 1000, \"ns\", conf)","dfgs":[16,15],"fName":"hadoop-common-project_hadoop-common_src_test_java_org_apache_hadoop_ipc_TestFairCallQueue.java","fieldParents":[],"isDel":false,"lineBeg":73,"lineEnd":73,"lineMapIndex":-1,"methodParents":[],"nodeIndex":14},{"cfgs":[16],"code":"assertEquals(fairCallQueue.remainingCapacity(), 1000)","dfgs":[17],"fName":"hadoop-common-project_hadoop-common_src_test_java_org_apache_hadoop_ipc_TestFairCallQueue.java","fieldParents":[],"isDel":false,"lineBeg":74,"lineEnd":74,"lineMapIndex":-1,"methodParents":[],"nodeIndex":15},{"cfgs":[17],"code":"fairCallQueue = new FairCallQueue<Schedulable>(4, 1000, \"ns\", conf)","dfgs":[18,17],"fName":"hadoop-common-project_hadoop-common_src_test_java_org_apache_hadoop_ipc_TestFairCallQueue.java","fieldParents":[],"isDel":false,"lineBeg":75,"lineEnd":75,"lineMapIndex":-1,"methodParents":[],"nodeIndex":16},{"cfgs":[18],"code":"assertEquals(fairCallQueue.remainingCapacity(), 1000)","dfgs":[19],"fName":"hadoop-common-project_hadoop-common_src_test_java_org_apache_hadoop_ipc_TestFairCallQueue.java","fieldParents":[],"isDel":false,"lineBeg":76,"lineEnd":76,"lineMapIndex":-1,"methodParents":[],"nodeIndex":17},{"cfgs":[19],"code":"fairCallQueue = new FairCallQueue<Schedulable>(7, 1000, \"ns\", conf)","dfgs":[20,19],"fName":"hadoop-common-project_hadoop-common_src_test_java_org_apache_hadoop_ipc_TestFairCallQueue.java","fieldParents":[],"isDel":false,"lineBeg":77,"lineEnd":77,"lineMapIndex":-1,"methodParents":[],"nodeIndex":18},{"cfgs":[20],"code":"assertEquals(fairCallQueue.remainingCapacity(), 1000)","dfgs":[21],"fName":"hadoop-common-project_hadoop-common_src_test_java_org_apache_hadoop_ipc_TestFairCallQueue.java","fieldParents":[],"isDel":false,"lineBeg":78,"lineEnd":78,"lineMapIndex":-1,"methodParents":[],"nodeIndex":19},{"cfgs":[21],"code":"fairCallQueue = new FairCallQueue<Schedulable>(1, 1025, \"ns\", conf)","dfgs":[22,21],"fName":"hadoop-common-project_hadoop-common_src_test_java_org_apache_hadoop_ipc_TestFairCallQueue.java","fieldParents":[],"isDel":false,"lineBeg":79,"lineEnd":79,"lineMapIndex":-1,"methodParents":[],"nodeIndex":20},{"cfgs":[22],"code":"assertEquals(fairCallQueue.remainingCapacity(), 1025)","dfgs":[23],"fName":"hadoop-common-project_hadoop-common_src_test_java_org_apache_hadoop_ipc_TestFairCallQueue.java","fieldParents":[],"isDel":false,"lineBeg":80,"lineEnd":80,"lineMapIndex":-1,"methodParents":[],"nodeIndex":21},{"cfgs":[23],"code":"fairCallQueue = new FairCallQueue<Schedulable>(4, 1025, \"ns\", conf)","dfgs":[24,23],"fName":"hadoop-common-project_hadoop-common_src_test_java_org_apache_hadoop_ipc_TestFairCallQueue.java","fieldParents":[],"isDel":false,"lineBeg":81,"lineEnd":81,"lineMapIndex":-1,"methodParents":[],"nodeIndex":22},{"cfgs":[24],"code":"assertEquals(fairCallQueue.remainingCapacity(), 1025)","dfgs":[25],"fName":"hadoop-common-project_hadoop-common_src_test_java_org_apache_hadoop_ipc_TestFairCallQueue.java","fieldParents":[],"isDel":false,"lineBeg":82,"lineEnd":82,"lineMapIndex":-1,"methodParents":[],"nodeIndex":23},{"cfgs":[25],"code":"fairCallQueue = new FairCallQueue<Schedulable>(7, 1025, \"ns\", conf)","dfgs":[25],"fName":"hadoop-common-project_hadoop-common_src_test_java_org_apache_hadoop_ipc_TestFairCallQueue.java","fieldParents":[],"isDel":false,"lineBeg":83,"lineEnd":83,"lineMapIndex":-1,"methodParents":[],"nodeIndex":24},{"cfgs":[],"code":"assertEquals(fairCallQueue.remainingCapacity(), 1025)","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_test_java_org_apache_hadoop_ipc_TestFairCallQueue.java","fieldParents":[],"isDel":false,"lineBeg":84,"lineEnd":84,"lineMapIndex":-1,"methodParents":[],"nodeIndex":25},{"cfgs":[],"code":"manager = new CallQueueManager<FakeCall>(queue, scheduler, false,8, \"\", conf)","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_test_java_org_apache_hadoop_ipc_TestCallQueueManager.java","fieldParents":[],"isDel":false,"lineBeg":216,"lineEnd":217,"lineMapIndex":6,"methodParents":[],"nodeIndex":26},{"cfgs":[28],"code":"LOG.info(\"FairCallQueue is in use with \" + numQueues +\" queues with total capacity of \" + capacity)","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_ipc_FairCallQueue.java","fieldParents":[],"isDel":false,"lineBeg":92,"lineEnd":93,"lineMapIndex":7,"methodParents":[],"nodeIndex":27},{"cfgs":[29],"code":"int queueCapacity = capacity / numQueues","dfgs":[29,33],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_ipc_FairCallQueue.java","fieldParents":[],"isDel":false,"lineBeg":97,"lineEnd":97,"lineMapIndex":-1,"methodParents":[],"nodeIndex":28},{"cfgs":[30],"code":"int capacityForFirstQueue = queueCapacity + (capacity % numQueues)","dfgs":[30,31],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_ipc_FairCallQueue.java","fieldParents":[],"isDel":false,"lineBeg":98,"lineEnd":98,"lineMapIndex":-1,"methodParents":[],"nodeIndex":29},{"cfgs":[31,32],"code":"if (i == 0)","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_ipc_FairCallQueue.java","fieldParents":[],"isDel":false,"lineBeg":100,"lineEnd":100,"lineMapIndex":-1,"methodParents":[],"nodeIndex":30},{"cfgs":[],"code":"this.queues.add(new LinkedBlockingQueue<E>(capacityForFirstQueue))","dfgs":[33],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_ipc_FairCallQueue.java","fieldParents":[],"isDel":false,"lineBeg":101,"lineEnd":101,"lineMapIndex":-1,"methodParents":[],"nodeIndex":31},{"cfgs":[33],"code":"else","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_ipc_FairCallQueue.java","fieldParents":[],"isDel":false,"lineBeg":102,"lineEnd":102,"lineMapIndex":-1,"methodParents":[],"nodeIndex":32},{"cfgs":[],"code":"this.queues.add(new LinkedBlockingQueue<E>(queueCapacity))","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_ipc_FairCallQueue.java","fieldParents":[],"isDel":false,"lineBeg":103,"lineEnd":103,"lineMapIndex":8,"methodParents":[],"nodeIndex":33},{"cfgs":[],"code":"LOG.info(\"Using callQueue: \" + backingClass + \" queueCapacity: \" +maxQueueSize + \" scheduler: \" + schedulerClass)","dfgs":[],"fName":"hadoop-common-project_hadoop-common_src_main_java_org_apache_hadoop_ipc_CallQueueManager.java","fieldParents":[],"isDel":false,"lineBeg":75,"lineEnd":76,"lineMapIndex":9,"methodParents":[],"nodeIndex":34}]