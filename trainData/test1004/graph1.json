[{"cfgs": [], "code": "if (!jsonObject.contains(facebookFieldName))", "dfgs": [], "fName": "src_main_java_com_restfb_DefaultJsonMapper.java", "fieldParents": [], "isDel": true, "lineBeg": 210, "lineEnd": 210, "lineMapIndex": 24, "methodParents": [], "nodeIndex": 0, "rootcause": false, "commits": ["cc0a142fe87d615e1b8c2a5b809807338904e5a9"]}, {"cfgs": [], "code": "if (!(ignoreNullValuedProperties && (fieldValue == null || isEmptyCollectionOrMap(fieldValue))))", "dfgs": [], "fName": "src_main_java_com_restfb_DefaultJsonMapper.java", "fieldParents": [], "isDel": true, "lineBeg": 472, "lineEnd": 472, "lineMapIndex": 27, "methodParents": [], "nodeIndex": 1, "rootcause": false, "commits": ["8decfe6fdd4048602e70a8aefdb0fe88832fe880"]}, {"cfgs": [3], "code": "if (rawValue.isNull())", "dfgs": [], "fName": "src_main_java_com_restfb_DefaultJsonMapper.java", "fieldParents": [], "isDel": true, "lineBeg": 561, "lineEnd": 561, "lineMapIndex": 28, "methodParents": [], "nodeIndex": 2, "rootcause": false, "commits": ["cb64a723b8f9f06c3d7e5b650c4d6068d5847328"]}, {"cfgs": [], "code": "return null", "dfgs": [], "fName": "src_main_java_com_restfb_DefaultJsonMapper.java", "fieldParents": [], "isDel": true, "lineBeg": 562, "lineEnd": 562, "lineMapIndex": 32, "methodParents": [], "nodeIndex": 3, "rootcause": false, "commits": ["18c7b8a8989a4a657dc6db00319ddd0557ec706b"]}, {"cfgs": [], "code": "void checkOptional() ", "dfgs": [], "fName": "src_test_java_com_restfb_JsonMapperToJsonTest.java", "fieldParents": [], "isDel": false, "lineBeg": 263, "lineEnd": 263, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 4, "rootcause": false, "commits": []}, {"cfgs": [6], "code": "JavaTypeWithOptionalField type = new JavaTypeWithOptionalField()", "dfgs": [10], "fName": "src_test_java_com_restfb_JsonMapperToJsonTest.java", "fieldParents": [], "isDel": false, "lineBeg": 264, "lineEnd": 264, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 5, "rootcause": false, "commits": []}, {"cfgs": [7], "code": "type.text = Optional.of(\"justsometext\")", "dfgs": [7, 10], "fName": "src_test_java_com_restfb_JsonMapperToJsonTest.java", "fieldParents": [20], "isDel": false, "lineBeg": 265, "lineEnd": 265, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 6, "rootcause": false, "commits": []}, {"cfgs": [8], "code": "type.number = Optional.of(123456)", "dfgs": [8, 10], "fName": "src_test_java_com_restfb_JsonMapperToJsonTest.java", "fieldParents": [21], "isDel": false, "lineBeg": 266, "lineEnd": 266, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 7, "rootcause": false, "commits": []}, {"cfgs": [9], "code": "type.emptyNumber = Optional.empty()", "dfgs": [10], "fName": "src_test_java_com_restfb_JsonMapperToJsonTest.java", "fieldParents": [22], "isDel": false, "lineBeg": 267, "lineEnd": 267, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 8, "rootcause": false, "commits": []}, {"cfgs": [10], "code": "type.emptyNumberButNull = null", "dfgs": [10], "fName": "src_test_java_com_restfb_JsonMapperToJsonTest.java", "fieldParents": [22], "isDel": false, "lineBeg": 268, "lineEnd": 268, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 9, "rootcause": false, "commits": []}, {"cfgs": [11], "code": "String json = createJsonMapper().toJson(type)", "dfgs": [11], "fName": "src_test_java_com_restfb_JsonMapperToJsonTest.java", "fieldParents": [], "isDel": false, "lineBeg": 270, "lineEnd": 270, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 10, "rootcause": false, "commits": []}, {"cfgs": [], "code": "AssertJson.assertEquals(\"{ \\\"text\\\": \\\"justsometext\\\", \\\"number\\\": 123456, \\\"emptyNumber\\\": null, \\\"emptyNumberButNull\\\": null}\", json)", "dfgs": [], "fName": "src_test_java_com_restfb_JsonMapperToJsonTest.java", "fieldParents": [20], "isDel": false, "lineBeg": 271, "lineEnd": 271, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 11, "rootcause": false, "commits": []}, {"cfgs": [], "code": "void checkOptionalNoNull() ", "dfgs": [], "fName": "src_test_java_com_restfb_JsonMapperToJsonTest.java", "fieldParents": [], "isDel": false, "lineBeg": 275, "lineEnd": 275, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 12, "rootcause": false, "commits": []}, {"cfgs": [14], "code": "JavaTypeWithOptionalField type = new JavaTypeWithOptionalField()", "dfgs": [17], "fName": "src_test_java_com_restfb_JsonMapperToJsonTest.java", "fieldParents": [], "isDel": false, "lineBeg": 276, "lineEnd": 276, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 13, "rootcause": false, "commits": []}, {"cfgs": [15], "code": "type.text = Optional.of(\"justsometext\")", "dfgs": [15, 17], "fName": "src_test_java_com_restfb_JsonMapperToJsonTest.java", "fieldParents": [20], "isDel": false, "lineBeg": 277, "lineEnd": 277, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 14, "rootcause": false, "commits": []}, {"cfgs": [16], "code": "type.number = Optional.of(123456)", "dfgs": [16, 17], "fName": "src_test_java_com_restfb_JsonMapperToJsonTest.java", "fieldParents": [21], "isDel": false, "lineBeg": 278, "lineEnd": 278, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 15, "rootcause": false, "commits": []}, {"cfgs": [17], "code": "type.emptyNumber = Optional.empty()", "dfgs": [17], "fName": "src_test_java_com_restfb_JsonMapperToJsonTest.java", "fieldParents": [22], "isDel": false, "lineBeg": 279, "lineEnd": 279, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 16, "rootcause": false, "commits": []}, {"cfgs": [18], "code": "String json = createJsonMapper().toJson(type, true)", "dfgs": [18], "fName": "src_test_java_com_restfb_JsonMapperToJsonTest.java", "fieldParents": [], "isDel": false, "lineBeg": 281, "lineEnd": 281, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 17, "rootcause": false, "commits": []}, {"cfgs": [], "code": "AssertJson.assertEquals(\"{ \\\"text\\\": \\\"justsometext\\\", \\\"number\\\": 123456}\", json)", "dfgs": [], "fName": "src_test_java_com_restfb_JsonMapperToJsonTest.java", "fieldParents": [20], "isDel": false, "lineBeg": 282, "lineEnd": 282, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 18, "rootcause": false, "commits": []}, {"cfgs": [], "code": "static class JavaTypeWithOptionalField ", "dfgs": [], "fName": "src_test_java_com_restfb_JsonMapperToJsonTest.java", "fieldParents": [], "isDel": false, "lineBeg": 292, "lineEnd": 292, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 19, "rootcause": false, "commits": []}, {"cfgs": [], "code": "Optional<String> text", "dfgs": [], "fName": "src_test_java_com_restfb_JsonMapperToJsonTest.java", "fieldParents": [], "isDel": false, "lineBeg": 295, "lineEnd": 295, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 20, "rootcause": false, "commits": []}, {"cfgs": [], "code": "Optional<Integer> number", "dfgs": [], "fName": "src_test_java_com_restfb_JsonMapperToJsonTest.java", "fieldParents": [], "isDel": false, "lineBeg": 298, "lineEnd": 298, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 21, "rootcause": false, "commits": []}, {"cfgs": [], "code": "Optional<Long> emptyNumber", "dfgs": [], "fName": "src_test_java_com_restfb_JsonMapperToJsonTest.java", "fieldParents": [], "isDel": false, "lineBeg": 301, "lineEnd": 301, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 22, "rootcause": false, "commits": []}, {"cfgs": [], "code": "Optional<Float> emptyNumberButNull", "dfgs": [], "fName": "src_test_java_com_restfb_JsonMapperToJsonTest.java", "fieldParents": [], "isDel": false, "lineBeg": 304, "lineEnd": 304, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 23, "rootcause": false, "commits": []}, {"cfgs": [], "code": "if (!jsonObject.contains(facebookFieldName) && !fieldWithAnnotation.getField().getType().equals(Optional.class))", "dfgs": [], "fName": "src_main_java_com_restfb_DefaultJsonMapper.java", "fieldParents": [], "isDel": false, "lineBeg": 210, "lineEnd": 210, "lineMapIndex": 0, "methodParents": [], "nodeIndex": 24, "rootcause": false, "commits": []}, {"cfgs": [26, 27], "code": "if (object instanceof Optional)", "dfgs": [27, 26], "fName": "src_main_java_com_restfb_DefaultJsonMapper.java", "fieldParents": [], "isDel": false, "lineBeg": 428, "lineEnd": 428, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 25, "rootcause": false, "commits": []}, {"cfgs": [], "code": "return toJsonInternal(((Optional)object).orElse(null), ignoreNullValuedProperties)", "dfgs": [], "fName": "src_main_java_com_restfb_DefaultJsonMapper.java", "fieldParents": [], "isDel": false, "lineBeg": 429, "lineEnd": 429, "lineMapIndex": -1, "methodParents": [25], "nodeIndex": 26, "rootcause": false, "commits": []}, {"cfgs": [], "code": "if (!(ignoreNullValuedProperties && (fieldValue == null || (fieldValue instanceof Optional && !((Optional) fieldValue).isPresent()) || isEmptyCollectionOrMap(fieldValue))))", "dfgs": [], "fName": "src_main_java_com_restfb_DefaultJsonMapper.java", "fieldParents": [], "isDel": false, "lineBeg": 476, "lineEnd": 476, "lineMapIndex": 1, "methodParents": [], "nodeIndex": 27, "rootcause": false, "commits": []}, {"cfgs": [29, 33], "code": "if (rawValue == null || rawValue.isNull())", "dfgs": [34], "fName": "src_main_java_com_restfb_DefaultJsonMapper.java", "fieldParents": [], "isDel": false, "lineBeg": 565, "lineEnd": 565, "lineMapIndex": 2, "methodParents": [], "nodeIndex": 28, "rootcause": false, "commits": []}, {"cfgs": [30, 31], "code": "if (type.equals(Optional.class))", "dfgs": [30], "fName": "src_main_java_com_restfb_DefaultJsonMapper.java", "fieldParents": [], "isDel": false, "lineBeg": 566, "lineEnd": 566, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 29, "rootcause": false, "commits": []}, {"cfgs": [], "code": "return Optional.empty()", "dfgs": [], "fName": "src_main_java_com_restfb_DefaultJsonMapper.java", "fieldParents": [], "isDel": false, "lineBeg": 567, "lineEnd": 567, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 30, "rootcause": false, "commits": []}, {"cfgs": [32], "code": "else", "dfgs": [], "fName": "src_main_java_com_restfb_DefaultJsonMapper.java", "fieldParents": [], "isDel": false, "lineBeg": 568, "lineEnd": 568, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 31, "rootcause": false, "commits": []}, {"cfgs": [], "code": "return null", "dfgs": [], "fName": "src_main_java_com_restfb_DefaultJsonMapper.java", "fieldParents": [], "isDel": false, "lineBeg": 569, "lineEnd": 569, "lineMapIndex": 3, "methodParents": [], "nodeIndex": 32, "rootcause": false, "commits": []}, {"cfgs": [34], "code": "if (Optional.class.equals(type))", "dfgs": [34], "fName": "src_main_java_com_restfb_DefaultJsonMapper.java", "fieldParents": [], "isDel": false, "lineBeg": 634, "lineEnd": 634, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 33, "rootcause": false, "commits": []}, {"cfgs": [], "code": "return Optional.ofNullable(toJavaObject(rawValue.toString(), getFirstParameterizedTypeArgument(fieldWithAnnotation.getField())))", "dfgs": [], "fName": "src_main_java_com_restfb_DefaultJsonMapper.java", "fieldParents": [], "isDel": false, "lineBeg": 635, "lineEnd": 635, "lineMapIndex": -1, "methodParents": [24], "nodeIndex": 34, "rootcause": false, "commits": []}, {"cfgs": [], "code": "void jsonToObjectWithOptionals() ", "dfgs": [], "fName": "src_test_java_com_restfb_JsonMapperToJavaTest.java", "fieldParents": [], "isDel": false, "lineBeg": 471, "lineEnd": 471, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 35, "rootcause": false, "commits": []}, {"cfgs": [37], "code": "String jsonString = \"{ \\\"text\\\": \\\"justsometext\\\", \\\"number\\\": 123456, \\\"emptyNumberButNull\\\":null}\"", "dfgs": [37], "fName": "src_test_java_com_restfb_JsonMapperToJavaTest.java", "fieldParents": [47], "isDel": false, "lineBeg": 472, "lineEnd": 472, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 36, "rootcause": false, "commits": []}, {"cfgs": [38], "code": "JavaTypeWithOptionalField obj = createJsonMapper().toJavaObject(jsonString, JavaTypeWithOptionalField.class)", "dfgs": [38, 39, 40, 41, 42, 43, 44, 45], "fName": "src_test_java_com_restfb_JsonMapperToJavaTest.java", "fieldParents": [], "isDel": false, "lineBeg": 473, "lineEnd": 473, "lineMapIndex": -1, "methodParents": [24], "nodeIndex": 37, "rootcause": false, "commits": []}, {"cfgs": [39], "code": "assertThat(obj.number).isInstanceOf(Optional.class)", "dfgs": [40, 39], "fName": "src_test_java_com_restfb_JsonMapperToJavaTest.java", "fieldParents": [48], "isDel": false, "lineBeg": 474, "lineEnd": 474, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 38, "rootcause": false, "commits": []}, {"cfgs": [40], "code": "assertThat(obj.number).hasValue(123456)", "dfgs": [40], "fName": "src_test_java_com_restfb_JsonMapperToJavaTest.java", "fieldParents": [48], "isDel": false, "lineBeg": 475, "lineEnd": 475, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 39, "rootcause": false, "commits": []}, {"cfgs": [41], "code": "assertThat(obj.text).isInstanceOf(Optional.class)", "dfgs": [42, 41], "fName": "src_test_java_com_restfb_JsonMapperToJavaTest.java", "fieldParents": [47], "isDel": false, "lineBeg": 476, "lineEnd": 476, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 40, "rootcause": false, "commits": []}, {"cfgs": [42], "code": "assertThat(obj.text).hasValue(\"justsometext\")", "dfgs": [42], "fName": "src_test_java_com_restfb_JsonMapperToJavaTest.java", "fieldParents": [47], "isDel": false, "lineBeg": 477, "lineEnd": 477, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 41, "rootcause": false, "commits": []}, {"cfgs": [43], "code": "assertThat(obj.emptyNumber).isInstanceOf(Optional.class)", "dfgs": [44, 43], "fName": "src_test_java_com_restfb_JsonMapperToJavaTest.java", "fieldParents": [49], "isDel": false, "lineBeg": 478, "lineEnd": 478, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 42, "rootcause": false, "commits": []}, {"cfgs": [44], "code": "assertThat(obj.emptyNumber).isEmpty()", "dfgs": [44], "fName": "src_test_java_com_restfb_JsonMapperToJavaTest.java", "fieldParents": [49], "isDel": false, "lineBeg": 479, "lineEnd": 479, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 43, "rootcause": false, "commits": []}, {"cfgs": [45], "code": "assertThat(obj.emptyNumberButNull).isInstanceOf(Optional.class)", "dfgs": [45], "fName": "src_test_java_com_restfb_JsonMapperToJavaTest.java", "fieldParents": [49], "isDel": false, "lineBeg": 480, "lineEnd": 480, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 44, "rootcause": false, "commits": []}, {"cfgs": [], "code": "assertThat(obj.emptyNumberButNull).isEmpty()", "dfgs": [], "fName": "src_test_java_com_restfb_JsonMapperToJavaTest.java", "fieldParents": [49], "isDel": false, "lineBeg": 481, "lineEnd": 481, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 45, "rootcause": false, "commits": []}, {"cfgs": [], "code": "static class JavaTypeWithOptionalField ", "dfgs": [], "fName": "src_test_java_com_restfb_JsonMapperToJavaTest.java", "fieldParents": [], "isDel": false, "lineBeg": 550, "lineEnd": 550, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 46, "rootcause": false, "commits": []}, {"cfgs": [], "code": "Optional<String> text", "dfgs": [], "fName": "src_test_java_com_restfb_JsonMapperToJavaTest.java", "fieldParents": [], "isDel": false, "lineBeg": 553, "lineEnd": 553, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 47, "rootcause": false, "commits": []}, {"cfgs": [], "code": "Optional<Integer> number", "dfgs": [], "fName": "src_test_java_com_restfb_JsonMapperToJavaTest.java", "fieldParents": [], "isDel": false, "lineBeg": 556, "lineEnd": 556, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 48, "rootcause": false, "commits": []}, {"cfgs": [], "code": "Optional<Long> emptyNumber", "dfgs": [], "fName": "src_test_java_com_restfb_JsonMapperToJavaTest.java", "fieldParents": [], "isDel": false, "lineBeg": 559, "lineEnd": 559, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 49, "rootcause": false, "commits": []}, {"cfgs": [], "code": "Optional<Float> emptyNumberButNull", "dfgs": [], "fName": "src_test_java_com_restfb_JsonMapperToJavaTest.java", "fieldParents": [], "isDel": false, "lineBeg": 562, "lineEnd": 562, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 50, "rootcause": false, "commits": []}]