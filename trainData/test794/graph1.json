[{"cfgs": [], "code": "case HTML_ELEMENT", "dfgs": [], "fName": "java_src_com_google_template_soy_soyparse_HtmlRewriter.java", "fieldParents": [], "isDel": true, "lineBeg": 329, "lineEnd": 329, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 0, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "ELEMENT", "dfgs": [], "fName": "java_src_com_google_template_soy_types_SoyType.java", "fieldParents": [], "isDel": true, "lineBeg": 96, "lineEnd": 96, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 1, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "private static final ImmutableSet<Kind> STRING_KINDS =Sets.immutableEnumSet(Kind.STRING,Kind.HTML,Kind.ELEMENT,Kind.ATTRIBUTES,Kind.JS,Kind.CSS,Kind.URI,Kind.TRUSTED_RESOURCE_URI)", "dfgs": [], "fName": "java_src_com_google_template_soy_types_SoyType.java", "fieldParents": [], "isDel": true, "lineBeg": 117, "lineEnd": 126, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 2, "rootcause": false, "commits": ["7dae5a1a2b6868da939e7643741b67db1610f190", "f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "import com.google.template.soy.types.SanitizedType.ElementType", "dfgs": [], "fName": "java_src_com_google_template_soy_types_ast_TypeNodeConverter.java", "fieldParents": [], "isDel": true, "lineBeg": 38, "lineEnd": 38, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 3, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [5], "code": "private static final ImmutableSet<Kind> ALLOWED_TEMPLATE_RETURN_TYPES =Sets.immutableEnumSet(Kind.ELEMENT,Kind.HTML,Kind.ATTRIBUTES,Kind.STRING,Kind.JS,Kind.CSS,Kind.URI,Kind.TRUSTED_RESOURCE_URI)", "dfgs": [], "fName": "java_src_com_google_template_soy_types_ast_TypeNodeConverter.java", "fieldParents": [], "isDel": true, "lineBeg": 85, "lineEnd": 94, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 4, "rootcause": false, "commits": ["a62bb621b8b00aa10e181e94c848d3a81e85c700", "f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "private static final ImmutableMap<String, GenericTypeInfo> GENERIC_TYPES_WITH_ELEMENT =new ImmutableMap.Builder<String, GenericTypeInfo>().putAll(GENERIC_TYPES).put(\"html\",new GenericTypeInfo(1) {@OverrideSoyType create(List<SoyType> types, TypeInterner interner) {return ElementType.getInstance();}}).build()", "dfgs": [], "fName": "java_src_com_google_template_soy_types_ast_TypeNodeConverter.java", "fieldParents": [], "isDel": true, "lineBeg": 127, "lineEnd": 138, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 5, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "return ElementType.getInstance()", "dfgs": [], "fName": "java_src_com_google_template_soy_types_ast_TypeNodeConverter.java", "fieldParents": [], "isDel": true, "lineBeg": 135, "lineEnd": 135, "lineMapIndex": -1, "methodParents": [60], "nodeIndex": 6, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "return visit(node, GENERIC_TYPES)", "dfgs": [], "fName": "java_src_com_google_template_soy_types_ast_TypeNodeConverter.java", "fieldParents": [], "isDel": true, "lineBeg": 285, "lineEnd": 285, "lineMapIndex": -1, "methodParents": [8], "nodeIndex": 7, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [9], "code": "private SoyType visit(GenericTypeNode node, ImmutableMap<String, GenericTypeInfo> genericTypes) ", "dfgs": [9], "fName": "java_src_com_google_template_soy_types_ast_TypeNodeConverter.java", "fieldParents": [], "isDel": true, "lineBeg": 288, "lineEnd": 288, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 8, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "GenericTypeInfo genericType = genericTypes.get(name)", "dfgs": [], "fName": "java_src_com_google_template_soy_types_ast_TypeNodeConverter.java", "fieldParents": [], "isDel": true, "lineBeg": 291, "lineEnd": 291, "lineMapIndex": 66, "methodParents": [], "nodeIndex": 9, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "SoyType returnType = handleReturnTypeOfTemplateType(node.returnType())", "dfgs": [], "fName": "java_src_com_google_template_soy_types_ast_TypeNodeConverter.java", "fieldParents": [], "isDel": true, "lineBeg": 367, "lineEnd": 367, "lineMapIndex": 67, "methodParents": [11], "nodeIndex": 10, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [12], "code": "private SoyType handleReturnTypeOfTemplateType(TypeNode node) ", "dfgs": [12, 14, 13], "fName": "java_src_com_google_template_soy_types_ast_TypeNodeConverter.java", "fieldParents": [], "isDel": true, "lineBeg": 378, "lineEnd": 378, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 11, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [13, 14], "code": "if (node instanceof GenericTypeNode)", "dfgs": [14, 13], "fName": "java_src_com_google_template_soy_types_ast_TypeNodeConverter.java", "fieldParents": [], "isDel": true, "lineBeg": 379, "lineEnd": 379, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 12, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "return visit((GenericTypeNode) node, GENERIC_TYPES_WITH_ELEMENT)", "dfgs": [], "fName": "java_src_com_google_template_soy_types_ast_TypeNodeConverter.java", "fieldParents": [5], "isDel": true, "lineBeg": 380, "lineEnd": 380, "lineMapIndex": -1, "methodParents": [8], "nodeIndex": 13, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "return node.accept(this)", "dfgs": [], "fName": "java_src_com_google_template_soy_types_ast_TypeNodeConverter.java", "fieldParents": [], "isDel": true, "lineBeg": 382, "lineEnd": 382, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 14, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "case ELEMENT", "dfgs": [], "fName": "java_src_com_google_template_soy_jbcsrc_restricted_SoyRuntimeType.java", "fieldParents": [], "isDel": true, "lineBeg": 75, "lineEnd": 75, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 15, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "case ELEMENT", "dfgs": [], "fName": "java_src_com_google_template_soy_jbcsrc_restricted_SoyRuntimeType.java", "fieldParents": [], "isDel": true, "lineBeg": 151, "lineEnd": 151, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 16, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "case HTML_ELEMENT", "dfgs": [], "fName": "java_src_com_google_template_soy_jbcsrc_api_StubbingCompiledTemplates.java", "fieldParents": [], "isDel": true, "lineBeg": 102, "lineEnd": 102, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 17, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "if (callerTemplate.isStrictHtml()&& caller.getIsPcData()&& callee != null&& (callee.getContentKind() == SanitizedContentKind.HTML|| callee.getContentKind() == SanitizedContentKind.HTML_ELEMENT)&& !callee.isStrictHtml())", "dfgs": [], "fName": "java_src_com_google_template_soy_passes_CheckTemplateCallsPass.java", "fieldParents": [], "isDel": true, "lineBeg": 422, "lineEnd": 427, "lineMapIndex": 68, "methodParents": [], "nodeIndex": 18, "rootcause": false, "commits": ["f6268e7c34033a68442465d234bd51c766c8e6a8", "7dae5a1a2b6868da939e7643741b67db1610f190", "f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "case ELEMENT", "dfgs": [], "fName": "java_src_com_google_template_soy_passes_KeyCommandPass.java", "fieldParents": [], "isDel": true, "lineBeg": 148, "lineEnd": 148, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 19, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "assertThat(attributeValues).containsExactly(\"attributes\",\"css\",\"html\",\"html_element\",\"js\",\"text\",\"trusted_resource_uri\",\"uri\").inOrder()", "dfgs": [], "fName": "java_tests_com_google_template_soy_base_internal_SanitizedContentKindTest.java", "fieldParents": [], "isDel": true, "lineBeg": 52, "lineEnd": 62, "lineMapIndex": 69, "methodParents": [], "nodeIndex": 20, "rootcause": false, "commits": ["42954566f05d07c8b870fd70104de82f2996b4e4", "f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "return builder()// Declared templates can only be basic templates (no deltemplates/elements allowed)..setTemplateKind(TemplateKind.BASIC).setContentKind(contentKind)// Declared HTML templates are implicitly strict. A separate check enforces that// non-strict templates may not be bound in template literals..setStrictHtml(contentKind == SanitizedContentKind.HTML|| contentKind == SanitizedContentKind.HTML_ELEMENT).setParameters(ImmutableList.copyOf(parameters))// data=all is banned on declared templates..setDataAllCallSituations(ImmutableList.of()).setIdentifierForDebugging(stringRepresentation(parameters, contentKind)).setInferredType(false).build()", "dfgs": [], "fName": "java_src_com_google_template_soy_types_TemplateType.java", "fieldParents": [], "isDel": true, "lineBeg": 119, "lineEnd": 133, "lineMapIndex": 70, "methodParents": [], "nodeIndex": 21, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d", "c238012138c4adf4a30d508916e38241ac28af9b"]}, {"cfgs": [], "code": "if (!this.getContentKind().isAssignableFrom(srcTemplate.getContentKind()))", "dfgs": [], "fName": "java_src_com_google_template_soy_types_TemplateType.java", "fieldParents": [], "isDel": true, "lineBeg": 166, "lineEnd": 166, "lineMapIndex": 71, "methodParents": [42], "nodeIndex": 22, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "case ELEMENT", "dfgs": [], "fName": "java_src_com_google_template_soy_jssrc_internal_JsType.java", "fieldParents": [], "isDel": true, "lineBeg": 286, "lineEnd": 286, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 23, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "case HTML_ELEMENT", "dfgs": [], "fName": "java_src_com_google_template_soy_jssrc_internal_JsType.java", "fieldParents": [], "isDel": true, "lineBeg": 490, "lineEnd": 490, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 24, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "case HTML_ELEMENT", "dfgs": [], "fName": "java_src_com_google_template_soy_jssrc_internal_JsType.java", "fieldParents": [], "isDel": true, "lineBeg": 646, "lineEnd": 646, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 25, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [27], "code": "if (attrValue.equals(\"html<?>\"))", "dfgs": [], "fName": "java_src_com_google_template_soy_base_internal_TemplateContentKind.java", "fieldParents": [], "isDel": true, "lineBeg": 45, "lineEnd": 45, "lineMapIndex": 72, "methodParents": [], "nodeIndex": 26, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "return Optional.of(ElementContentKind.ELEMENT)", "dfgs": [], "fName": "java_src_com_google_template_soy_base_internal_TemplateContentKind.java", "fieldParents": [], "isDel": true, "lineBeg": 46, "lineEnd": 46, "lineMapIndex": 73, "methodParents": [], "nodeIndex": 27, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "return SanitizedContentKind.HTML_ELEMENT", "dfgs": [], "fName": "java_src_com_google_template_soy_base_internal_TemplateContentKind.java", "fieldParents": [], "isDel": true, "lineBeg": 116, "lineEnd": 116, "lineMapIndex": 74, "methodParents": [], "nodeIndex": 28, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "assertThat(TemplateContentKind.fromAttributeValue(\"html<?>\").get().getSanitizedContentKind()).isEqualTo(SanitizedContentKind.HTML_ELEMENT)", "dfgs": [], "fName": "java_tests_com_google_template_soy_base_internal_TemplateContentKindTest.java", "fieldParents": [], "isDel": true, "lineBeg": 40, "lineEnd": 41, "lineMapIndex": 75, "methodParents": [28], "nodeIndex": 29, "rootcause": false, "commits": ["a08559dbce55ff400aa58cee84fb55efc7c923fa", "f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "case ELEMENT", "dfgs": [], "fName": "java_src_com_google_template_soy_passes_CheckDeclaredTypesPass.java", "fieldParents": [], "isDel": true, "lineBeg": 114, "lineEnd": 114, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 30, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "break", "dfgs": [], "fName": "java_src_com_google_template_soy_passes_CheckDeclaredTypesPass.java", "fieldParents": [], "isDel": true, "lineBeg": 115, "lineEnd": 115, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 31, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "import com.google.template.soy.types.StringType", "dfgs": [], "fName": "java_src_com_google_template_soy_passes_ResolveExpressionTypesCrossTemplatePass.java", "fieldParents": [], "isDel": true, "lineBeg": 59, "lineEnd": 59, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 32, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "HTML_ELEMENT", "dfgs": [], "fName": "java_src_com_google_template_soy_data_SanitizedContent.java", "fieldParents": [], "isDel": true, "lineBeg": 97, "lineEnd": 97, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 33, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "case HTML_ELEMENT", "dfgs": [], "fName": "java_src_com_google_template_soy_data_SanitizedContent.java", "fieldParents": [], "isDel": true, "lineBeg": 158, "lineEnd": 158, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 34, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "Preconditions.checkState(getContentKind() == ContentKind.HTML || getContentKind() == ContentKind.HTML_ELEMENT,\"toSafeHtml() only valid for SanitizedContent of kind HTML, is: %s\",getContentKind())", "dfgs": [], "fName": "java_src_com_google_template_soy_data_SanitizedContent.java", "fieldParents": [], "isDel": true, "lineBeg": 256, "lineEnd": 259, "lineMapIndex": 76, "methodParents": [], "nodeIndex": 35, "rootcause": false, "commits": ["7dae5a1a2b6868da939e7643741b67db1610f190", "f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "case ELEMENT", "dfgs": [], "fName": "java_src_com_google_template_soy_plugin_java_internal_ValidatorFactory.java", "fieldParents": [], "isDel": true, "lineBeg": 355, "lineEnd": 355, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 36, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [38], "code": "private static final ImmutableMap<SanitizedContentKind, String> KIND_TO_JS_CTOR_NAME =ImmutableMap.<SanitizedContentKind, String>builder().put(SanitizedContentKind.HTML, \"goog.soy.data.SanitizedHtml\").put(SanitizedContentKind.HTML_ELEMENT, \"goog.soy.data.SanitizedHtml\").put(SanitizedContentKind.ATTRIBUTES, \"goog.soy.data.SanitizedHtmlAttribute\").put(SanitizedContentKind.JS, \"goog.soy.data.SanitizedJs\").put(SanitizedContentKind.URI, \"goog.soy.data.SanitizedUri\").put(SanitizedContentKind.CSS, \"goog.soy.data.SanitizedCss\").put(SanitizedContentKind.TRUSTED_RESOURCE_URI,\"goog.soy.data.SanitizedTrustedResourceUri\").put(SanitizedContentKind.TEXT, \"string\").build()", "dfgs": [38], "fName": "java_src_com_google_template_soy_data_internalutils_NodeContentKinds.java", "fieldParents": [], "isDel": true, "lineBeg": 45, "lineEnd": 57, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 37, "rootcause": false, "commits": ["8360998beb0d67988c769afe2bd878a1fc69bb1e", "f86d012a3296d1e20dc35384515466148d462e9d", "86361a1ce9dbd7150b7a871ad60ffaa883e147ce", "42954566f05d07c8b870fd70104de82f2996b4e4"]}, {"cfgs": [39], "code": "private static final ImmutableMap<SanitizedContentKind, String> KIND_TO_JS_ORDAINER_NAME =ImmutableMap.<SanitizedContentKind, String>builder().put(SanitizedContentKind.HTML, \"soydata.VERY_UNSAFE.ordainSanitizedHtml\").put(SanitizedContentKind.HTML_ELEMENT, \"soydata.VERY_UNSAFE.ordainSanitizedHtml\").put(SanitizedContentKind.ATTRIBUTES, \"soydata.VERY_UNSAFE.ordainSanitizedHtmlAttribute\").put(SanitizedContentKind.JS, \"soydata.VERY_UNSAFE.ordainSanitizedJs\").put(SanitizedContentKind.URI, \"soydata.VERY_UNSAFE.ordainSanitizedUri\").put(SanitizedContentKind.CSS, \"soydata.VERY_UNSAFE.ordainSanitizedCss\").put(SanitizedContentKind.TRUSTED_RESOURCE_URI,\"soydata.VERY_UNSAFE.ordainSanitizedTrustedResourceUri\").put(SanitizedContentKind.TEXT, \"\").build()", "dfgs": [39], "fName": "java_src_com_google_template_soy_data_internalutils_NodeContentKinds.java", "fieldParents": [], "isDel": true, "lineBeg": 60, "lineEnd": 72, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 38, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d", "86361a1ce9dbd7150b7a871ad60ffaa883e147ce", "7a71309272dd88d6fb3e51b2780101b37541067e", "7dae5a1a2b6868da939e7643741b67db1610f190", "42954566f05d07c8b870fd70104de82f2996b4e4"]}, {"cfgs": [40], "code": "private static final ImmutableMap<SanitizedContentKind, String>KIND_TO_JS_ORDAINER_NAME_FOR_INTERNAL_BLOCKS =ImmutableMap.<SanitizedContentKind, String>builder().put(SanitizedContentKind.HTML,\"soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks\").put(SanitizedContentKind.HTML_ELEMENT,\"soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks\").put(SanitizedContentKind.ATTRIBUTES,\"soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks\").put(SanitizedContentKind.JS,\"soydata.VERY_UNSAFE.$$ordainSanitizedJsForInternalBlocks\").put(SanitizedContentKind.URI,\"soydata.VERY_UNSAFE.$$ordainSanitizedUriForInternalBlocks\").put(SanitizedContentKind.CSS,\"soydata.VERY_UNSAFE.$$ordainSanitizedCssForInternalBlocks\").put(SanitizedContentKind.TRUSTED_RESOURCE_URI,\"soydata.VERY_UNSAFE.$$ordainSanitizedTrustedResourceUriForInternalBlocks\").put(SanitizedContentKind.TEXT, \"\").build()", "dfgs": [40], "fName": "java_src_com_google_template_soy_data_internalutils_NodeContentKinds.java", "fieldParents": [], "isDel": true, "lineBeg": 79, "lineEnd": 104, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 39, "rootcause": false, "commits": ["42954566f05d07c8b870fd70104de82f2996b4e4", "86361a1ce9dbd7150b7a871ad60ffaa883e147ce", "7dae5a1a2b6868da939e7643741b67db1610f190", "f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "private static final ImmutableMap<SanitizedContentKind, String> KIND_TO_PY_SANITIZED_NAME =ImmutableMap.<SanitizedContentKind, String>builder().put(SanitizedContentKind.HTML_ELEMENT, \"sanitize.SanitizedHtml\").put(SanitizedContentKind.HTML, \"sanitize.SanitizedHtml\").put(SanitizedContentKind.ATTRIBUTES, \"sanitize.SanitizedHtmlAttribute\").put(SanitizedContentKind.JS, \"sanitize.SanitizedJs\").put(SanitizedContentKind.URI, \"sanitize.SanitizedUri\").put(SanitizedContentKind.CSS, \"sanitize.SanitizedCss\").put(SanitizedContentKind.TRUSTED_RESOURCE_URI, \"sanitize.SanitizedTrustedResourceUri\").put(SanitizedContentKind.TEXT, \"\").build()", "dfgs": [], "fName": "java_src_com_google_template_soy_data_internalutils_NodeContentKinds.java", "fieldParents": [], "isDel": true, "lineBeg": 122, "lineEnd": 132, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 40, "rootcause": false, "commits": ["42954566f05d07c8b870fd70104de82f2996b4e4", "8626f809790cb7957b74ecdfb380cd0541a12af8", "86361a1ce9dbd7150b7a871ad60ffaa883e147ce", "f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "HTML_ELEMENT", "dfgs": [], "fName": "java_src_com_google_template_soy_base_internal_SanitizedContentKind.java", "fieldParents": [], "isDel": true, "lineBeg": 43, "lineEnd": 43, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 41, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [43], "code": "public boolean isAssignableFrom(SanitizedContentKind sanitizedType) ", "dfgs": [43], "fName": "java_src_com_google_template_soy_base_internal_SanitizedContentKind.java", "fieldParents": [], "isDel": true, "lineBeg": 97, "lineEnd": 97, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 42, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "return this == sanitizedType || (this == HTML && sanitizedType == HTML_ELEMENT)", "dfgs": [], "fName": "java_src_com_google_template_soy_base_internal_SanitizedContentKind.java", "fieldParents": [], "isDel": true, "lineBeg": 98, "lineEnd": 98, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 43, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "case ELEMENT", "dfgs": [], "fName": "java_src_com_google_template_soy_invocationbuilders_passes_InvocationBuilderTypeUtils.java", "fieldParents": [], "isDel": true, "lineBeg": 82, "lineEnd": 82, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 44, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "case ELEMENT", "dfgs": [], "fName": "java_src_com_google_template_soy_sharedpasses_render_TofuTypeChecks.java", "fieldParents": [], "isDel": true, "lineBeg": 134, "lineEnd": 134, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 45, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "private static final TemplateType ELEMENT_TEMPLATE =TemplateType.declaredTypeOf(ImmutableList.of(), SanitizedType.ElementType.getInstance())", "dfgs": [], "fName": "java_src_com_google_template_soy_soytree_TagName.java", "fieldParents": [], "isDel": true, "lineBeg": 212, "lineEnd": 213, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 46, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "return !isStatic()&& ELEMENT_TEMPLATE.isAssignableFrom(getDynamicTagName().getExpr().getType())", "dfgs": [], "fName": "java_src_com_google_template_soy_soytree_TagName.java", "fieldParents": [46], "isDel": true, "lineBeg": 255, "lineEnd": 256, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 47, "rootcause": false, "commits": ["e04bc9845d5c8ef3cb8321a95593bd0071be2ade", "f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "if (!(template instanceof TemplateDelegateNode)&& (template.getContentKind() == SanitizedContentKind.HTML|| template.getContentKind() == SanitizedContentKind.HTML_ELEMENT))", "dfgs": [], "fName": "java_src_com_google_template_soy_passes_SoyElementPass.java", "fieldParents": [], "isDel": true, "lineBeg": 111, "lineEnd": 113, "lineMapIndex": 78, "methodParents": [], "nodeIndex": 48, "rootcause": false, "commits": ["980787ff64962cdb2403a06bcdff0ba7394d2d5d", "f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "case HTML_ELEMENT", "dfgs": [], "fName": "java_src_com_google_template_soy_types_SanitizedType.java", "fieldParents": [], "isDel": true, "lineBeg": 52, "lineEnd": 52, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 49, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "return ElementType.getInstance()", "dfgs": [], "fName": "java_src_com_google_template_soy_types_SanitizedType.java", "fieldParents": [], "isDel": true, "lineBeg": 53, "lineEnd": 53, "lineMapIndex": -1, "methodParents": [60], "nodeIndex": 50, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "public static final class ElementType extends SanitizedType ", "dfgs": [], "fName": "java_src_com_google_template_soy_types_SanitizedType.java", "fieldParents": [], "isDel": true, "lineBeg": 106, "lineEnd": 106, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 51, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "private static final ElementType INSTANCE = new ElementType()", "dfgs": [], "fName": "java_src_com_google_template_soy_types_SanitizedType.java", "fieldParents": [], "isDel": true, "lineBeg": 108, "lineEnd": 108, "lineMapIndex": -1, "methodParents": [53], "nodeIndex": 52, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "private ElementType() ", "dfgs": [], "fName": "java_src_com_google_template_soy_types_SanitizedType.java", "fieldParents": [], "isDel": true, "lineBeg": 111, "lineEnd": 111, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 53, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [55], "code": "public Kind getKind() ", "dfgs": [55], "fName": "java_src_com_google_template_soy_types_SanitizedType.java", "fieldParents": [], "isDel": true, "lineBeg": 114, "lineEnd": 114, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 54, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "return Kind.ELEMENT", "dfgs": [], "fName": "java_src_com_google_template_soy_types_SanitizedType.java", "fieldParents": [], "isDel": true, "lineBeg": 115, "lineEnd": 115, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 55, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [57], "code": "public SanitizedContentKind getContentKind() ", "dfgs": [57], "fName": "java_src_com_google_template_soy_types_SanitizedType.java", "fieldParents": [], "isDel": true, "lineBeg": 119, "lineEnd": 119, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 56, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "return SanitizedContentKind.HTML_ELEMENT", "dfgs": [], "fName": "java_src_com_google_template_soy_types_SanitizedType.java", "fieldParents": [], "isDel": true, "lineBeg": 120, "lineEnd": 120, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 57, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "void doToProto(SoyTypeP.Builder builder) ", "dfgs": [59], "fName": "java_src_com_google_template_soy_types_SanitizedType.java", "fieldParents": [], "isDel": true, "lineBeg": 125, "lineEnd": 125, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 58, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "builder.setPrimitive(SoyTypeP.PrimitiveTypeP.HTML)", "dfgs": [], "fName": "java_src_com_google_template_soy_types_SanitizedType.java", "fieldParents": [], "isDel": true, "lineBeg": 126, "lineEnd": 126, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 59, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [61], "code": "public static ElementType getInstance() ", "dfgs": [61], "fName": "java_src_com_google_template_soy_types_SanitizedType.java", "fieldParents": [], "isDel": true, "lineBeg": 130, "lineEnd": 130, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 60, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "return INSTANCE", "dfgs": [], "fName": "java_src_com_google_template_soy_types_SanitizedType.java", "fieldParents": [52], "isDel": true, "lineBeg": 131, "lineEnd": 131, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 61, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "case HTML_ELEMENT", "dfgs": [], "fName": "java_src_com_google_template_soy_parsepasses_contextautoesc_Context.java", "fieldParents": [], "isDel": true, "lineBeg": 933, "lineEnd": 933, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 62, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "case HTML_ELEMENT", "dfgs": [], "fName": "java_src_com_google_template_soy_parsepasses_contextautoesc_Context.java", "fieldParents": [], "isDel": true, "lineBeg": 1748, "lineEnd": 1748, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 63, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "case ELEMENT", "dfgs": [], "fName": "java_src_com_google_template_soy_passes_ResolveExpressionTypesPass.java", "fieldParents": [], "isDel": true, "lineBeg": 1799, "lineEnd": 1799, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 64, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "case ELEMENT", "dfgs": [], "fName": "java_src_com_google_template_soy_passes_ResolveExpressionTypesPass.java", "fieldParents": [], "isDel": true, "lineBeg": 1919, "lineEnd": 1919, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 65, "rootcause": false, "commits": ["f86d012a3296d1e20dc35384515466148d462e9d"]}, {"cfgs": [], "code": "GenericTypeInfo genericType = GENERIC_TYPES.get(name)", "dfgs": [], "fName": "java_src_com_google_template_soy_types_ast_TypeNodeConverter.java", "fieldParents": [], "isDel": false, "lineBeg": 272, "lineEnd": 272, "lineMapIndex": 9, "methodParents": [], "nodeIndex": 66, "rootcause": false, "commits": []}, {"cfgs": [], "code": "SoyType returnType = node.returnType().accept(this)", "dfgs": [], "fName": "java_src_com_google_template_soy_types_ast_TypeNodeConverter.java", "fieldParents": [], "isDel": false, "lineBeg": 348, "lineEnd": 348, "lineMapIndex": 10, "methodParents": [], "nodeIndex": 67, "rootcause": false, "commits": []}, {"cfgs": [], "code": "if (callerTemplate.isStrictHtml()&& caller.getIsPcData()&& callee != null&& callee.getContentKind() == SanitizedContentKind.HTML&& !callee.isStrictHtml())", "dfgs": [], "fName": "java_src_com_google_template_soy_passes_CheckTemplateCallsPass.java", "fieldParents": [], "isDel": false, "lineBeg": 422, "lineEnd": 426, "lineMapIndex": 18, "methodParents": [], "nodeIndex": 68, "rootcause": false, "commits": []}, {"cfgs": [], "code": "assertThat(attributeValues).containsExactly(\"attributes\", \"css\", \"html\", \"js\", \"text\", \"trusted_resource_uri\", \"uri\").inOrder()", "dfgs": [], "fName": "java_tests_com_google_template_soy_base_internal_SanitizedContentKindTest.java", "fieldParents": [], "isDel": false, "lineBeg": 52, "lineEnd": 54, "lineMapIndex": 20, "methodParents": [], "nodeIndex": 69, "rootcause": false, "commits": []}, {"cfgs": [], "code": "return builder()// Declared templates can only be basic templates (no deltemplates/elements allowed)..setTemplateKind(TemplateKind.BASIC).setContentKind(contentKind)// Declared HTML templates are implicitly strict. A separate check enforces that// non-strict templates may not be bound in template literals..setStrictHtml(contentKind == SanitizedContentKind.HTML).setParameters(ImmutableList.copyOf(parameters))// data=all is banned on declared templates..setDataAllCallSituations(ImmutableList.of()).setIdentifierForDebugging(stringRepresentation(parameters, contentKind)).setInferredType(false).build()", "dfgs": [], "fName": "java_src_com_google_template_soy_types_TemplateType.java", "fieldParents": [], "isDel": false, "lineBeg": 119, "lineEnd": 131, "lineMapIndex": 21, "methodParents": [], "nodeIndex": 70, "rootcause": false, "commits": []}, {"cfgs": [], "code": "if (!srcTemplate.getContentKind().equals(this.getContentKind()))", "dfgs": [], "fName": "java_src_com_google_template_soy_types_TemplateType.java", "fieldParents": [], "isDel": false, "lineBeg": 164, "lineEnd": 164, "lineMapIndex": 22, "methodParents": [], "nodeIndex": 71, "rootcause": false, "commits": []}, {"cfgs": [73], "code": "if (attrValue.equals(\"html<?>\"))", "dfgs": [], "fName": "java_src_com_google_template_soy_base_internal_TemplateContentKind.java", "fieldParents": [], "isDel": false, "lineBeg": 48, "lineEnd": 48, "lineMapIndex": 26, "methodParents": [], "nodeIndex": 72, "rootcause": false, "commits": []}, {"cfgs": [], "code": "return Optional.of(ElementContentKind.ELEMENT)", "dfgs": [], "fName": "java_src_com_google_template_soy_base_internal_TemplateContentKind.java", "fieldParents": [], "isDel": false, "lineBeg": 49, "lineEnd": 49, "lineMapIndex": 27, "methodParents": [], "nodeIndex": 73, "rootcause": false, "commits": []}, {"cfgs": [], "code": "return SanitizedContentKind.HTML", "dfgs": [], "fName": "java_src_com_google_template_soy_base_internal_TemplateContentKind.java", "fieldParents": [], "isDel": false, "lineBeg": 116, "lineEnd": 116, "lineMapIndex": 28, "methodParents": [], "nodeIndex": 74, "rootcause": false, "commits": []}, {"cfgs": [], "code": "assertThat(TemplateContentKind.fromAttributeValue(\"html<?>\").get().getSanitizedContentKind()).isEqualTo(SanitizedContentKind.HTML)", "dfgs": [], "fName": "java_tests_com_google_template_soy_base_internal_TemplateContentKindTest.java", "fieldParents": [], "isDel": false, "lineBeg": 40, "lineEnd": 41, "lineMapIndex": 29, "methodParents": [74], "nodeIndex": 75, "rootcause": false, "commits": []}, {"cfgs": [], "code": "Preconditions.checkState(getContentKind() == ContentKind.HTML,\"toSafeHtml() only valid for SanitizedContent of kind HTML, is: %s\",getContentKind())", "dfgs": [], "fName": "java_src_com_google_template_soy_data_SanitizedContent.java", "fieldParents": [], "isDel": false, "lineBeg": 252, "lineEnd": 255, "lineMapIndex": 35, "methodParents": [], "nodeIndex": 76, "rootcause": false, "commits": []}, {"cfgs": [], "code": "return !isStatic()&& getDynamicTagName().getExpr().getType().isAssignableFrom(TemplateType.declaredTypeOf(ImmutableList.of(), SanitizedType.HtmlType.getInstance()))", "dfgs": [], "fName": "java_src_com_google_template_soy_soytree_TagName.java", "fieldParents": [], "isDel": false, "lineBeg": 252, "lineEnd": 258, "lineMapIndex": -1, "methodParents": [], "nodeIndex": 77, "rootcause": false, "commits": []}, {"cfgs": [], "code": "if (!(template instanceof TemplateDelegateNode)&& template.getContentKind() == SanitizedContentKind.HTML)", "dfgs": [], "fName": "java_src_com_google_template_soy_passes_SoyElementPass.java", "fieldParents": [], "isDel": false, "lineBeg": 111, "lineEnd": 112, "lineMapIndex": 48, "methodParents": [], "nodeIndex": 78, "rootcause": false, "commits": []}]