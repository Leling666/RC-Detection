[{"cfgs":[],"code":"if (cluster.getService(service) != null && !component.equals(\"AMBARI_SERVER\"))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_AmbariContext.java","fieldParents":[],"isDel":true,"lineBeg":405,"lineEnd":405,"lineMapIndex":16,"methodParents":[],"nodeIndex":0},{"cfgs":[],"code":"includeAmbariIdentity &= (serviceComponentFilter.get(\"AMBARI\") != null) && serviceComponentFilter.get(\"AMBARI\").contains(\"AMBARI_SERVER\")","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_serveraction_kerberos_PrepareKerberosIdentitiesServerAction.java","fieldParents":[],"isDel":true,"lineBeg":113,"lineEnd":113,"lineMapIndex":19,"methodParents":[],"nodeIndex":1},{"cfgs":[3],"code":"static final String CONFIGURATION_CATEGORY_PROPERTY_ID = PropertyHelper.getPropertyId(RESOURCE_KEY, \"category\")","dfgs":[3],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_RootServiceComponentConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":62,"lineEnd":62,"lineMapIndex":20,"methodParents":[],"nodeIndex":2},{"cfgs":[4],"code":"static final String CONFIGURATION_PROPERTIES_PROPERTY_ID = PropertyHelper.getPropertyId(RESOURCE_KEY, \"properties\")","dfgs":[4],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_RootServiceComponentConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":63,"lineEnd":63,"lineMapIndex":21,"methodParents":[],"nodeIndex":3},{"cfgs":[5],"code":"static final String CONFIGURATION_COMPONENT_NAME_PROPERTY_ID = PropertyHelper.getPropertyId(RESOURCE_KEY, \"component_name\")","dfgs":[5],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_RootServiceComponentConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":64,"lineEnd":64,"lineMapIndex":22,"methodParents":[],"nodeIndex":4},{"cfgs":[],"code":"static final String CONFIGURATION_SERVICE_NAME_PROPERTY_ID = PropertyHelper.getPropertyId(RESOURCE_KEY, \"service_name\")","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_RootServiceComponentConfigurationResourceProvider.java","fieldParents":[],"isDel":true,"lineBeg":65,"lineEnd":65,"lineMapIndex":23,"methodParents":[],"nodeIndex":5},{"cfgs":[7],"code":"String componentName = KerberosHelper.AMBARI_SERVER_KERBEROS_IDENTITY_NAME.equals(identity.getName())? \"AMBARI_SERVER_SELF\": \"AMBARI_SERVER\"","dfgs":[7],"fName":"ambari-server_src_main_java_org_apache_ambari_server_serveraction_kerberos_AbstractPrepareKerberosServerAction.java","fieldParents":[],"isDel":true,"lineBeg":193,"lineEnd":195,"lineMapIndex":26,"methodParents":[],"nodeIndex":6},{"cfgs":[],"code":"kerberosHelper.addIdentities(kerberosIdentityDataFileWriter, componentIdentities,identityFilter, StageUtils.getHostName(), ambariServerHostID(), \"AMBARI\", componentName, kerberosConfigurations, currentConfigurations,resolvedKeytabs, realm)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_serveraction_kerberos_AbstractPrepareKerberosServerAction.java","fieldParents":[],"isDel":true,"lineBeg":198,"lineEnd":200,"lineMapIndex":27,"methodParents":[13],"nodeIndex":7},{"cfgs":[],"code":"if (component.equals(\"AMBARI_SERVER\"))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_validators_RequiredPasswordValidator.java","fieldParents":[],"isDel":true,"lineBeg":89,"lineEnd":89,"lineMapIndex":29,"methodParents":[],"nodeIndex":8},{"cfgs":[10],"code":"private static final String GET_AMBARI_LDAP_CONFIG_URI = \"/api/v1/services/AMBARI/components/AMBARI_SERVER/configurations\" +\"?Configuration/category=ldap-configuration\" +\"&fields=Configuration/properties\"","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_stackadvisor_commands_StackAdvisorCommand.java","fieldParents":[],"isDel":true,"lineBeg":89,"lineEnd":91,"lineMapIndex":-1,"methodParents":[],"nodeIndex":9},{"cfgs":[],"code":"static final String LDAP_CONFIGURATION_PROPERTY = \"ldap-configuration\"","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_stackadvisor_commands_StackAdvisorCommand.java","fieldParents":[],"isDel":true,"lineBeg":103,"lineEnd":103,"lineMapIndex":31,"methodParents":[],"nodeIndex":10},{"cfgs":[12],"code":"installedServices = new HashMap<String, Set<String>>(installedServices)","dfgs":[12],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_KerberosHelperImpl.java","fieldParents":[],"isDel":true,"lineBeg":470,"lineEnd":470,"lineMapIndex":33,"methodParents":[],"nodeIndex":11},{"cfgs":[],"code":"installedServices.put(\"AMBARI\", Collections.singleton(\"AMBARI_SERVER\"))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_KerberosHelperImpl.java","fieldParents":[],"isDel":true,"lineBeg":471,"lineEnd":471,"lineMapIndex":34,"methodParents":[],"nodeIndex":12},{"cfgs":[],"code":"ResolvedKerberosKeytab resolvedKeytab = new ResolvedKerberosKeytab(keytabFilePath,keytabFileOwnerName,keytabFileOwnerAccess,keytabFileGroupName,keytabFileGroupAccess,Sets.newHashSet(Pair.of(hostId, Pair.of(evaluatedPrincipal, principalType))),serviceName.equalsIgnoreCase(\"AMBARI\"),componentName.equalsIgnoreCase(\"AMBARI_SERVER_SELF\"))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_KerberosHelperImpl.java","fieldParents":[],"isDel":true,"lineBeg":1543,"lineEnd":1552,"lineMapIndex":35,"methodParents":[],"nodeIndex":13},{"cfgs":[],"code":"allComponents.add(\"AMBARI_SERVER\")","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_BlueprintFactory.java","fieldParents":[],"isDel":true,"lineBeg":208,"lineEnd":208,"lineMapIndex":37,"methodParents":[],"nodeIndex":14},{"cfgs":[],"code":"import org.apache.ambari.server.controller.RootComponent","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_AmbariContext.java","fieldParents":[],"isDel":false,"lineBeg":52,"lineEnd":52,"lineMapIndex":-1,"methodParents":[],"nodeIndex":15},{"cfgs":[],"code":"if (cluster.getService(service) != null && !component.equals(RootComponent.AMBARI_SERVER.name()))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_AmbariContext.java","fieldParents":[],"isDel":false,"lineBeg":406,"lineEnd":406,"lineMapIndex":0,"methodParents":[],"nodeIndex":16},{"cfgs":[],"code":"import org.apache.ambari.server.controller.RootComponent","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_serveraction_kerberos_PrepareKerberosIdentitiesServerAction.java","fieldParents":[],"isDel":false,"lineBeg":33,"lineEnd":33,"lineMapIndex":-1,"methodParents":[],"nodeIndex":17},{"cfgs":[],"code":"import org.apache.ambari.server.controller.RootService","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_serveraction_kerberos_PrepareKerberosIdentitiesServerAction.java","fieldParents":[],"isDel":false,"lineBeg":34,"lineEnd":34,"lineMapIndex":-1,"methodParents":[],"nodeIndex":18},{"cfgs":[],"code":"includeAmbariIdentity &= (serviceComponentFilter.get(RootService.AMBARI.name()) != null)&& serviceComponentFilter.get(RootService.AMBARI.name()).contains(RootComponent.AMBARI_SERVER.name())","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_serveraction_kerberos_PrepareKerberosIdentitiesServerAction.java","fieldParents":[],"isDel":false,"lineBeg":115,"lineEnd":116,"lineMapIndex":1,"methodParents":[],"nodeIndex":19},{"cfgs":[21],"code":"public static final String CONFIGURATION_CATEGORY_PROPERTY_ID = PropertyHelper.getPropertyId(RESOURCE_KEY, \"category\")","dfgs":[21],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_RootServiceComponentConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":62,"lineEnd":62,"lineMapIndex":2,"methodParents":[],"nodeIndex":20},{"cfgs":[22],"code":"public static final String CONFIGURATION_PROPERTIES_PROPERTY_ID = PropertyHelper.getPropertyId(RESOURCE_KEY, \"properties\")","dfgs":[22],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_RootServiceComponentConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":63,"lineEnd":63,"lineMapIndex":3,"methodParents":[],"nodeIndex":21},{"cfgs":[23],"code":"public static final String CONFIGURATION_COMPONENT_NAME_PROPERTY_ID = PropertyHelper.getPropertyId(RESOURCE_KEY, \"component_name\")","dfgs":[23],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_RootServiceComponentConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":64,"lineEnd":64,"lineMapIndex":4,"methodParents":[],"nodeIndex":22},{"cfgs":[],"code":"public static final String CONFIGURATION_SERVICE_NAME_PROPERTY_ID = PropertyHelper.getPropertyId(RESOURCE_KEY, \"service_name\")","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_RootServiceComponentConfigurationResourceProvider.java","fieldParents":[],"isDel":false,"lineBeg":65,"lineEnd":65,"lineMapIndex":5,"methodParents":[],"nodeIndex":23},{"cfgs":[],"code":"import org.apache.ambari.server.controller.RootComponent","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_serveraction_kerberos_AbstractPrepareKerberosServerAction.java","fieldParents":[],"isDel":false,"lineBeg":36,"lineEnd":36,"lineMapIndex":-1,"methodParents":[],"nodeIndex":24},{"cfgs":[],"code":"import org.apache.ambari.server.controller.RootService","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_serveraction_kerberos_AbstractPrepareKerberosServerAction.java","fieldParents":[],"isDel":false,"lineBeg":37,"lineEnd":37,"lineMapIndex":-1,"methodParents":[],"nodeIndex":25},{"cfgs":[27],"code":"String componentName = KerberosHelper.AMBARI_SERVER_KERBEROS_IDENTITY_NAME.equals(identity.getName())? \"AMBARI_SERVER_SELF\": RootComponent.AMBARI_SERVER.name()","dfgs":[27],"fName":"ambari-server_src_main_java_org_apache_ambari_server_serveraction_kerberos_AbstractPrepareKerberosServerAction.java","fieldParents":[],"isDel":false,"lineBeg":195,"lineEnd":197,"lineMapIndex":6,"methodParents":[],"nodeIndex":26},{"cfgs":[],"code":"kerberosHelper.addIdentities(kerberosIdentityDataFileWriter, componentIdentities,identityFilter, StageUtils.getHostName(), ambariServerHostID(), RootService.AMBARI.name(), componentName, kerberosConfigurations, currentConfigurations,resolvedKeytabs, realm)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_serveraction_kerberos_AbstractPrepareKerberosServerAction.java","fieldParents":[],"isDel":false,"lineBeg":200,"lineEnd":202,"lineMapIndex":7,"methodParents":[35],"nodeIndex":27},{"cfgs":[],"code":"import org.apache.ambari.server.controller.RootComponent","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_validators_RequiredPasswordValidator.java","fieldParents":[],"isDel":false,"lineBeg":22,"lineEnd":22,"lineMapIndex":-1,"methodParents":[],"nodeIndex":28},{"cfgs":[],"code":"if (component.equals(RootComponent.AMBARI_SERVER.name()))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_validators_RequiredPasswordValidator.java","fieldParents":[],"isDel":false,"lineBeg":90,"lineEnd":90,"lineMapIndex":8,"methodParents":[],"nodeIndex":29},{"cfgs":[],"code":"import org.apache.ambari.server.controller.internal.RootServiceComponentConfigurationResourceProvider","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_stackadvisor_commands_StackAdvisorCommand.java","fieldParents":[],"isDel":false,"lineBeg":50,"lineEnd":50,"lineMapIndex":-1,"methodParents":[],"nodeIndex":30},{"cfgs":[32],"code":"static final String LDAP_CONFIGURATION_PROPERTY = \"ldap-configuration\"","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_stackadvisor_commands_StackAdvisorCommand.java","fieldParents":[],"isDel":false,"lineBeg":81,"lineEnd":81,"lineMapIndex":10,"methodParents":[],"nodeIndex":31},{"cfgs":[],"code":"private static final String GET_AMBARI_LDAP_CONFIG_URI = String.format(\"/api/v1/services/%s/components/%s/configurations?%s=%s&fields=%s\",RootService.AMBARI.name(),RootComponent.AMBARI_SERVER.name(),RootServiceComponentConfigurationResourceProvider.CONFIGURATION_CATEGORY_PROPERTY_ID,LDAP_CONFIGURATION_PROPERTY,RootServiceComponentConfigurationResourceProvider.CONFIGURATION_PROPERTIES_PROPERTY_ID)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_api_services_stackadvisor_commands_StackAdvisorCommand.java","fieldParents":[],"isDel":false,"lineBeg":93,"lineEnd":98,"lineMapIndex":-1,"methodParents":[],"nodeIndex":32},{"cfgs":[34],"code":"installedServices = new HashMap<>(installedServices)","dfgs":[34],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_KerberosHelperImpl.java","fieldParents":[],"isDel":false,"lineBeg":470,"lineEnd":470,"lineMapIndex":11,"methodParents":[],"nodeIndex":33},{"cfgs":[],"code":"installedServices.put(RootService.AMBARI.name(), Collections.singleton(RootComponent.AMBARI_SERVER.name()))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_KerberosHelperImpl.java","fieldParents":[],"isDel":false,"lineBeg":471,"lineEnd":471,"lineMapIndex":12,"methodParents":[],"nodeIndex":34},{"cfgs":[],"code":"ResolvedKerberosKeytab resolvedKeytab = new ResolvedKerberosKeytab(keytabFilePath,keytabFileOwnerName,keytabFileOwnerAccess,keytabFileGroupName,keytabFileGroupAccess,Sets.newHashSet(Pair.of(hostId, Pair.of(evaluatedPrincipal, principalType))),serviceName.equalsIgnoreCase(RootService.AMBARI.name()),componentName.equalsIgnoreCase(\"AMBARI_SERVER_SELF\"))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_KerberosHelperImpl.java","fieldParents":[],"isDel":false,"lineBeg":1543,"lineEnd":1552,"lineMapIndex":13,"methodParents":[],"nodeIndex":35},{"cfgs":[],"code":"import org.apache.ambari.server.controller.RootComponent","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_BlueprintFactory.java","fieldParents":[],"isDel":false,"lineBeg":33,"lineEnd":33,"lineMapIndex":-1,"methodParents":[],"nodeIndex":36},{"cfgs":[],"code":"allComponents.add(RootComponent.AMBARI_SERVER.name())","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_BlueprintFactory.java","fieldParents":[],"isDel":false,"lineBeg":209,"lineEnd":209,"lineMapIndex":14,"methodParents":[],"nodeIndex":37}]