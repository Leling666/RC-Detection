[{"cfgs":[],"code":"import static org.mockito.Mockito.mock","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_integration_PostgresViewIT.java","fieldParents":[],"isDel":true,"lineBeg":22,"lineEnd":22,"lineMapIndex":-1,"methodParents":[],"nodeIndex":0},{"cfgs":[],"code":"import org.apache.kafka.connect.sink.SinkTaskContext","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_integration_PostgresViewIT.java","fieldParents":[],"isDel":true,"lineBeg":41,"lineEnd":41,"lineMapIndex":-1,"methodParents":[],"nodeIndex":1},{"cfgs":[],"code":"import org.mockito.Mockito","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_integration_PostgresViewIT.java","fieldParents":[],"isDel":true,"lineBeg":47,"lineEnd":47,"lineMapIndex":-1,"methodParents":[],"nodeIndex":2},{"cfgs":[],"code":"task.initialize(mock(SinkTaskContext.class))","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_integration_PostgresViewIT.java","fieldParents":[],"isDel":true,"lineBeg":173,"lineEnd":173,"lineMapIndex":-1,"methodParents":[],"nodeIndex":3},{"cfgs":[],"code":"import org.apache.kafka.connect.sink.SinkTaskContext","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_integration_PostgresDatatypeIT.java","fieldParents":[],"isDel":true,"lineBeg":37,"lineEnd":37,"lineMapIndex":-1,"methodParents":[],"nodeIndex":4},{"cfgs":[],"code":"import org.mockito.Mockito","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_integration_PostgresDatatypeIT.java","fieldParents":[],"isDel":true,"lineBeg":43,"lineEnd":43,"lineMapIndex":-1,"methodParents":[],"nodeIndex":5},{"cfgs":[],"code":"import static org.mockito.Mockito.mock","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_integration_PostgresDatatypeIT.java","fieldParents":[],"isDel":true,"lineBeg":51,"lineEnd":51,"lineMapIndex":-1,"methodParents":[],"nodeIndex":6},{"cfgs":[],"code":"task.initialize(mock(SinkTaskContext.class))","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_integration_PostgresDatatypeIT.java","fieldParents":[],"isDel":true,"lineBeg":141,"lineEnd":141,"lineMapIndex":-1,"methodParents":[],"nodeIndex":7},{"cfgs":[],"code":"import org.apache.kafka.connect.sink.ErrantRecordReporter","dfgs":[],"fName":"src_main_java_io_confluent_connect_jdbc_sink_JdbcSinkTask.java","fieldParents":[],"isDel":true,"lineBeg":22,"lineEnd":22,"lineMapIndex":-1,"methodParents":[],"nodeIndex":8},{"cfgs":[],"code":"import java.util.Collections","dfgs":[],"fName":"src_main_java_io_confluent_connect_jdbc_sink_JdbcSinkTask.java","fieldParents":[],"isDel":true,"lineBeg":30,"lineEnd":30,"lineMapIndex":-1,"methodParents":[],"nodeIndex":9},{"cfgs":[],"code":"private ErrantRecordReporter reporter","dfgs":[],"fName":"src_main_java_io_confluent_connect_jdbc_sink_JdbcSinkTask.java","fieldParents":[],"isDel":true,"lineBeg":39,"lineEnd":39,"lineMapIndex":-1,"methodParents":[],"nodeIndex":10},{"cfgs":[12],"code":"try ","dfgs":[],"fName":"src_main_java_io_confluent_connect_jdbc_sink_JdbcSinkTask.java","fieldParents":[],"isDel":true,"lineBeg":52,"lineEnd":52,"lineMapIndex":-1,"methodParents":[],"nodeIndex":11},{"cfgs":[13],"code":"reporter = context.errantRecordReporter()","dfgs":[],"fName":"src_main_java_io_confluent_connect_jdbc_sink_JdbcSinkTask.java","fieldParents":[10],"isDel":true,"lineBeg":53,"lineEnd":53,"lineMapIndex":-1,"methodParents":[],"nodeIndex":12},{"cfgs":[14],"code":"catch (NoSuchMethodError | NoClassDefFoundError e)","dfgs":[],"fName":"src_main_java_io_confluent_connect_jdbc_sink_JdbcSinkTask.java","fieldParents":[],"isDel":true,"lineBeg":54,"lineEnd":54,"lineMapIndex":-1,"methodParents":[],"nodeIndex":13},{"cfgs":[],"code":"reporter = null","dfgs":[],"fName":"src_main_java_io_confluent_connect_jdbc_sink_JdbcSinkTask.java","fieldParents":[10],"isDel":true,"lineBeg":56,"lineEnd":56,"lineMapIndex":-1,"methodParents":[],"nodeIndex":14},{"cfgs":[16],"code":"if (reporter != null)","dfgs":[17],"fName":"src_main_java_io_confluent_connect_jdbc_sink_JdbcSinkTask.java","fieldParents":[10],"isDel":true,"lineBeg":86,"lineEnd":86,"lineMapIndex":-1,"methodParents":[],"nodeIndex":15},{"cfgs":[17],"code":"for (SinkRecord record : records)","dfgs":[17],"fName":"src_main_java_io_confluent_connect_jdbc_sink_JdbcSinkTask.java","fieldParents":[],"isDel":true,"lineBeg":87,"lineEnd":87,"lineMapIndex":-1,"methodParents":[],"nodeIndex":16},{"cfgs":[18],"code":"retryAndSendDLQ(Collections.singletonList(record))","dfgs":[],"fName":"src_main_java_io_confluent_connect_jdbc_sink_JdbcSinkTask.java","fieldParents":[],"isDel":true,"lineBeg":88,"lineEnd":88,"lineMapIndex":-1,"methodParents":[19],"nodeIndex":17},{"cfgs":[],"code":"return","dfgs":[],"fName":"src_main_java_io_confluent_connect_jdbc_sink_JdbcSinkTask.java","fieldParents":[],"isDel":true,"lineBeg":90,"lineEnd":90,"lineMapIndex":-1,"methodParents":[],"nodeIndex":18},{"cfgs":[20],"code":"private void retryAndSendDLQ(Collection<SinkRecord> records) ","dfgs":[22,21,23],"fName":"src_main_java_io_confluent_connect_jdbc_sink_JdbcSinkTask.java","fieldParents":[],"isDel":true,"lineBeg":117,"lineEnd":117,"lineMapIndex":-1,"methodParents":[],"nodeIndex":19},{"cfgs":[21],"code":"try ","dfgs":[],"fName":"src_main_java_io_confluent_connect_jdbc_sink_JdbcSinkTask.java","fieldParents":[],"isDel":true,"lineBeg":118,"lineEnd":118,"lineMapIndex":-1,"methodParents":[],"nodeIndex":20},{"cfgs":[22],"code":"writer.write(records)","dfgs":[23],"fName":"src_main_java_io_confluent_connect_jdbc_sink_JdbcSinkTask.java","fieldParents":[],"isDel":true,"lineBeg":119,"lineEnd":119,"lineMapIndex":-1,"methodParents":[],"nodeIndex":21},{"cfgs":[23],"code":"catch (SQLException e)","dfgs":[],"fName":"src_main_java_io_confluent_connect_jdbc_sink_JdbcSinkTask.java","fieldParents":[],"isDel":true,"lineBeg":120,"lineEnd":120,"lineMapIndex":-1,"methodParents":[],"nodeIndex":22},{"cfgs":[],"code":"reporter.report(records.iterator().next(), e)","dfgs":[],"fName":"src_main_java_io_confluent_connect_jdbc_sink_JdbcSinkTask.java","fieldParents":[10],"isDel":true,"lineBeg":121,"lineEnd":121,"lineMapIndex":-1,"methodParents":[],"nodeIndex":23},{"cfgs":[],"code":"import static org.easymock.EasyMock.anyObject","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":18,"lineEnd":18,"lineMapIndex":-1,"methodParents":[],"nodeIndex":24},{"cfgs":[],"code":"import static org.easymock.EasyMock.expect","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":19,"lineEnd":19,"lineMapIndex":-1,"methodParents":[],"nodeIndex":25},{"cfgs":[],"code":"import static org.easymock.EasyMock.replay","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":21,"lineEnd":21,"lineMapIndex":-1,"methodParents":[],"nodeIndex":26},{"cfgs":[],"code":"import java.util.ArrayList","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":32,"lineEnd":32,"lineMapIndex":-1,"methodParents":[],"nodeIndex":27},{"cfgs":[],"code":"import java.util.List","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":36,"lineEnd":36,"lineMapIndex":-1,"methodParents":[],"nodeIndex":28},{"cfgs":[],"code":"import java.util.concurrent.CompletableFuture","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":40,"lineEnd":40,"lineMapIndex":-1,"methodParents":[],"nodeIndex":29},{"cfgs":[],"code":"import java.util.concurrent.Future","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":41,"lineEnd":41,"lineMapIndex":-1,"methodParents":[],"nodeIndex":30},{"cfgs":[],"code":"import org.apache.kafka.connect.sink.ErrantRecordReporter","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":49,"lineEnd":49,"lineMapIndex":-1,"methodParents":[],"nodeIndex":31},{"cfgs":[],"code":"import org.easymock.EasyMock","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":52,"lineEnd":52,"lineMapIndex":-1,"methodParents":[],"nodeIndex":32},{"cfgs":[34],"code":"expect(ctx.errantRecordReporter()).andReturn(null)","dfgs":[34],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":247,"lineEnd":247,"lineMapIndex":-1,"methodParents":[],"nodeIndex":33},{"cfgs":[],"code":"replayAll()","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":248,"lineEnd":248,"lineMapIndex":118,"methodParents":[],"nodeIndex":34},{"cfgs":[],"code":"public void errorReporting() throws SQLException ","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":304,"lineEnd":304,"lineMapIndex":-1,"methodParents":[],"nodeIndex":35},{"cfgs":[37],"code":"final int maxRetries = 2","dfgs":[54],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":305,"lineEnd":305,"lineMapIndex":-1,"methodParents":[],"nodeIndex":36},{"cfgs":[38],"code":"final int retryBackoffMs = 1000","dfgs":[55],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":306,"lineEnd":306,"lineMapIndex":-1,"methodParents":[],"nodeIndex":37},{"cfgs":[39],"code":"Set<SinkRecord> records = Collections.singleton(new SinkRecord(\"stub\", 0, null, null, null, null, 0))","dfgs":[41],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":308,"lineEnd":308,"lineMapIndex":-1,"methodParents":[],"nodeIndex":38},{"cfgs":[40],"code":"final JdbcDbWriter mockWriter = createMock(JdbcDbWriter.class)","dfgs":[41,40],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":309,"lineEnd":309,"lineMapIndex":-1,"methodParents":[],"nodeIndex":39},{"cfgs":[41],"code":"SinkTaskContext ctx = createMock(SinkTaskContext.class)","dfgs":[47,43],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":310,"lineEnd":310,"lineMapIndex":-1,"methodParents":[],"nodeIndex":40},{"cfgs":[42],"code":"mockWriter.write(records)","dfgs":[44,57],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":312,"lineEnd":312,"lineMapIndex":-1,"methodParents":[],"nodeIndex":41},{"cfgs":[43],"code":"SQLException exception = new SQLException(\"cause 1\")","dfgs":[43],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":313,"lineEnd":313,"lineMapIndex":-1,"methodParents":[],"nodeIndex":42},{"cfgs":[44],"code":"expectLastCall().andThrow(exception)","dfgs":[45,44],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":314,"lineEnd":314,"lineMapIndex":-1,"methodParents":[],"nodeIndex":43},{"cfgs":[45],"code":"mockWriter.write(anyObject())","dfgs":[45],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":315,"lineEnd":315,"lineMapIndex":-1,"methodParents":[],"nodeIndex":44},{"cfgs":[46],"code":"expectLastCall().andThrow(exception)","dfgs":[48],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":316,"lineEnd":316,"lineMapIndex":-1,"methodParents":[],"nodeIndex":45},{"cfgs":[47],"code":"JdbcSinkTask task = new JdbcSinkTask() {@Overridevoid initWriter() {this.writer = mockWriter;}}","dfgs":[47],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":318,"lineEnd":323,"lineMapIndex":-1,"methodParents":[],"nodeIndex":46},{"cfgs":[48],"code":"task.initialize(ctx)","dfgs":[56,49],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":324,"lineEnd":324,"lineMapIndex":-1,"methodParents":[],"nodeIndex":47},{"cfgs":[49],"code":"ErrantRecordReporter reporter = createMock(ErrantRecordReporter.class)","dfgs":[49],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":325,"lineEnd":325,"lineMapIndex":-1,"methodParents":[],"nodeIndex":48},{"cfgs":[50],"code":"expect(ctx.errantRecordReporter()).andReturn(reporter)","dfgs":[50],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":326,"lineEnd":326,"lineMapIndex":-1,"methodParents":[],"nodeIndex":49},{"cfgs":[51],"code":"expect(reporter.report(anyObject(), anyObject())).andReturn(CompletableFuture.completedFuture(null))","dfgs":[51],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":327,"lineEnd":327,"lineMapIndex":-1,"methodParents":[],"nodeIndex":50},{"cfgs":[52],"code":"replayAll()","dfgs":[58],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":328,"lineEnd":328,"lineMapIndex":-1,"methodParents":[],"nodeIndex":51},{"cfgs":[53],"code":"Map<String, String> props = new HashMap<>()","dfgs":[53],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":330,"lineEnd":330,"lineMapIndex":-1,"methodParents":[],"nodeIndex":52},{"cfgs":[54],"code":"props.put(JdbcSinkConfig.CONNECTION_URL, \"stub\")","dfgs":[54],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":331,"lineEnd":331,"lineMapIndex":-1,"methodParents":[],"nodeIndex":53},{"cfgs":[55],"code":"props.put(JdbcSinkConfig.MAX_RETRIES, String.valueOf(maxRetries))","dfgs":[55],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":332,"lineEnd":332,"lineMapIndex":-1,"methodParents":[],"nodeIndex":54},{"cfgs":[56],"code":"props.put(JdbcSinkConfig.RETRY_BACKOFF_MS, String.valueOf(retryBackoffMs))","dfgs":[56],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":333,"lineEnd":333,"lineMapIndex":-1,"methodParents":[],"nodeIndex":55},{"cfgs":[57],"code":"task.start(props)","dfgs":[57],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":334,"lineEnd":334,"lineMapIndex":-1,"methodParents":[11],"nodeIndex":56},{"cfgs":[58],"code":"task.put(records)","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":336,"lineEnd":336,"lineMapIndex":-1,"methodParents":[15],"nodeIndex":57},{"cfgs":[],"code":"verifyAll()","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":338,"lineEnd":338,"lineMapIndex":-1,"methodParents":[],"nodeIndex":58},{"cfgs":[],"code":"public void batchErrorReporting() throws SQLException ","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":342,"lineEnd":342,"lineMapIndex":-1,"methodParents":[],"nodeIndex":59},{"cfgs":[61],"code":"final int maxRetries = 2","dfgs":[83],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":343,"lineEnd":343,"lineMapIndex":-1,"methodParents":[],"nodeIndex":60},{"cfgs":[62],"code":"final int retryBackoffMs = 1000","dfgs":[84],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":344,"lineEnd":344,"lineMapIndex":-1,"methodParents":[],"nodeIndex":61},{"cfgs":[63],"code":"final int batchSize = 3","dfgs":[65],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":345,"lineEnd":345,"lineMapIndex":-1,"methodParents":[],"nodeIndex":62},{"cfgs":[64],"code":"List<SinkRecord> records = new ArrayList<>()","dfgs":[69,66],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":347,"lineEnd":347,"lineMapIndex":-1,"methodParents":[],"nodeIndex":63},{"cfgs":[65],"code":"SinkRecord record = new SinkRecord(\"stub\", 0, null, null, null, null, 0)","dfgs":[66],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":348,"lineEnd":348,"lineMapIndex":-1,"methodParents":[],"nodeIndex":64},{"cfgs":[66,67],"code":"for (int i = 0; i < batchSize; i++)","dfgs":[73],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":350,"lineEnd":350,"lineMapIndex":-1,"methodParents":[],"nodeIndex":65},{"cfgs":[],"code":"records.add(record)","dfgs":[69],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":351,"lineEnd":351,"lineMapIndex":-1,"methodParents":[],"nodeIndex":66},{"cfgs":[68],"code":"final JdbcDbWriter mockWriter = createMock(JdbcDbWriter.class)","dfgs":[69,68],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":354,"lineEnd":354,"lineMapIndex":-1,"methodParents":[],"nodeIndex":67},{"cfgs":[69],"code":"SinkTaskContext ctx = createMock(SinkTaskContext.class)","dfgs":[76,71],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":355,"lineEnd":355,"lineMapIndex":-1,"methodParents":[],"nodeIndex":68},{"cfgs":[70],"code":"mockWriter.write(records)","dfgs":[72,86],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":357,"lineEnd":357,"lineMapIndex":-1,"methodParents":[],"nodeIndex":69},{"cfgs":[71],"code":"SQLException exception = new SQLException(\"cause 1\")","dfgs":[71],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":358,"lineEnd":358,"lineMapIndex":-1,"methodParents":[],"nodeIndex":70},{"cfgs":[72],"code":"expectLastCall().andThrow(exception)","dfgs":[72,73],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":359,"lineEnd":359,"lineMapIndex":-1,"methodParents":[],"nodeIndex":71},{"cfgs":[73],"code":"mockWriter.write(anyObject())","dfgs":[73],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":360,"lineEnd":360,"lineMapIndex":-1,"methodParents":[],"nodeIndex":72},{"cfgs":[74],"code":"expectLastCall().andThrow(exception).times(batchSize)","dfgs":[79,77],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":361,"lineEnd":361,"lineMapIndex":-1,"methodParents":[],"nodeIndex":73},{"cfgs":[76],"code":"JdbcSinkTask task = new JdbcSinkTask() {@Overridevoid initWriter() {this.writer = mockWriter;}}","dfgs":[76],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":363,"lineEnd":368,"lineMapIndex":-1,"methodParents":[],"nodeIndex":74},{"cfgs":[],"code":"this.writer = mockWriter","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":366,"lineEnd":366,"lineMapIndex":-1,"methodParents":[],"nodeIndex":75},{"cfgs":[77],"code":"task.initialize(ctx)","dfgs":[85,78],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":369,"lineEnd":369,"lineMapIndex":-1,"methodParents":[],"nodeIndex":76},{"cfgs":[78],"code":"ErrantRecordReporter reporter = createMock(ErrantRecordReporter.class)","dfgs":[78],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":370,"lineEnd":370,"lineMapIndex":-1,"methodParents":[],"nodeIndex":77},{"cfgs":[79],"code":"expect(ctx.errantRecordReporter()).andReturn(reporter)","dfgs":[79],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":371,"lineEnd":371,"lineMapIndex":-1,"methodParents":[],"nodeIndex":78},{"cfgs":[80],"code":"expect(reporter.report(anyObject(), anyObject())).andReturn(CompletableFuture.completedFuture(null)).times(batchSize)","dfgs":[80],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":372,"lineEnd":372,"lineMapIndex":-1,"methodParents":[],"nodeIndex":79},{"cfgs":[81],"code":"replayAll()","dfgs":[87],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":373,"lineEnd":373,"lineMapIndex":-1,"methodParents":[],"nodeIndex":80},{"cfgs":[82],"code":"Map<String, String> props = new HashMap<>()","dfgs":[82],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":375,"lineEnd":375,"lineMapIndex":-1,"methodParents":[],"nodeIndex":81},{"cfgs":[83],"code":"props.put(JdbcSinkConfig.CONNECTION_URL, \"stub\")","dfgs":[83],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":376,"lineEnd":376,"lineMapIndex":-1,"methodParents":[],"nodeIndex":82},{"cfgs":[84],"code":"props.put(JdbcSinkConfig.MAX_RETRIES, String.valueOf(maxRetries))","dfgs":[84],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":377,"lineEnd":377,"lineMapIndex":-1,"methodParents":[],"nodeIndex":83},{"cfgs":[85],"code":"props.put(JdbcSinkConfig.RETRY_BACKOFF_MS, String.valueOf(retryBackoffMs))","dfgs":[85],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":378,"lineEnd":378,"lineMapIndex":-1,"methodParents":[],"nodeIndex":84},{"cfgs":[86],"code":"task.start(props)","dfgs":[86],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":379,"lineEnd":379,"lineMapIndex":-1,"methodParents":[11],"nodeIndex":85},{"cfgs":[87],"code":"task.put(records)","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":381,"lineEnd":381,"lineMapIndex":-1,"methodParents":[15],"nodeIndex":86},{"cfgs":[],"code":"verifyAll()","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":383,"lineEnd":383,"lineMapIndex":-1,"methodParents":[],"nodeIndex":87},{"cfgs":[],"code":"public void oneInBatchErrorReporting() throws SQLException ","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":387,"lineEnd":387,"lineMapIndex":-1,"methodParents":[],"nodeIndex":88},{"cfgs":[90],"code":"final int maxRetries = 2","dfgs":[113],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":388,"lineEnd":388,"lineMapIndex":-1,"methodParents":[],"nodeIndex":89},{"cfgs":[91],"code":"final int retryBackoffMs = 1000","dfgs":[114],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":389,"lineEnd":389,"lineMapIndex":-1,"methodParents":[],"nodeIndex":90},{"cfgs":[92],"code":"final int batchSize = 3","dfgs":[94],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":390,"lineEnd":390,"lineMapIndex":-1,"methodParents":[],"nodeIndex":91},{"cfgs":[93],"code":"List<SinkRecord> records = new ArrayList<>()","dfgs":[98,95],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":392,"lineEnd":392,"lineMapIndex":-1,"methodParents":[],"nodeIndex":92},{"cfgs":[94],"code":"SinkRecord record = new SinkRecord(\"stub\", 0, null, null, null, null, 0)","dfgs":[95],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":393,"lineEnd":393,"lineMapIndex":-1,"methodParents":[],"nodeIndex":93},{"cfgs":[95,96],"code":"for (int i = 0; i < batchSize; i++)","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":395,"lineEnd":395,"lineMapIndex":-1,"methodParents":[],"nodeIndex":94},{"cfgs":[],"code":"records.add(record)","dfgs":[98],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":396,"lineEnd":396,"lineMapIndex":-1,"methodParents":[],"nodeIndex":95},{"cfgs":[97],"code":"final JdbcDbWriter mockWriter = createMock(JdbcDbWriter.class)","dfgs":[98,97],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":399,"lineEnd":399,"lineMapIndex":-1,"methodParents":[],"nodeIndex":96},{"cfgs":[98],"code":"SinkTaskContext ctx = createMock(SinkTaskContext.class)","dfgs":[106,100],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":400,"lineEnd":400,"lineMapIndex":-1,"methodParents":[],"nodeIndex":97},{"cfgs":[99],"code":"mockWriter.write(records)","dfgs":[101,116],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":402,"lineEnd":402,"lineMapIndex":-1,"methodParents":[],"nodeIndex":98},{"cfgs":[100],"code":"SQLException exception = new SQLException(\"cause 1\")","dfgs":[100],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":403,"lineEnd":403,"lineMapIndex":-1,"methodParents":[],"nodeIndex":99},{"cfgs":[101],"code":"expectLastCall().andThrow(exception)","dfgs":[103,101],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":404,"lineEnd":404,"lineMapIndex":-1,"methodParents":[],"nodeIndex":100},{"cfgs":[102],"code":"mockWriter.write(anyObject())","dfgs":[102],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":405,"lineEnd":405,"lineMapIndex":-1,"methodParents":[],"nodeIndex":101},{"cfgs":[103],"code":"expectLastCall().times(2)","dfgs":[103],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":406,"lineEnd":406,"lineMapIndex":-1,"methodParents":[],"nodeIndex":102},{"cfgs":[104],"code":"expectLastCall().andThrow(exception)","dfgs":[107],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":407,"lineEnd":407,"lineMapIndex":-1,"methodParents":[],"nodeIndex":103},{"cfgs":[106],"code":"JdbcSinkTask task = new JdbcSinkTask() {@Overridevoid initWriter() {this.writer = mockWriter;}}","dfgs":[106],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":409,"lineEnd":414,"lineMapIndex":-1,"methodParents":[],"nodeIndex":104},{"cfgs":[],"code":"this.writer = mockWriter","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":412,"lineEnd":412,"lineMapIndex":-1,"methodParents":[],"nodeIndex":105},{"cfgs":[107],"code":"task.initialize(ctx)","dfgs":[115,108],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":415,"lineEnd":415,"lineMapIndex":-1,"methodParents":[],"nodeIndex":106},{"cfgs":[108],"code":"ErrantRecordReporter reporter = createMock(ErrantRecordReporter.class)","dfgs":[108],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":416,"lineEnd":416,"lineMapIndex":-1,"methodParents":[],"nodeIndex":107},{"cfgs":[109],"code":"expect(ctx.errantRecordReporter()).andReturn(reporter)","dfgs":[109],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":417,"lineEnd":417,"lineMapIndex":-1,"methodParents":[],"nodeIndex":108},{"cfgs":[110],"code":"expect(reporter.report(anyObject(), anyObject())).andReturn(CompletableFuture.completedFuture(null))","dfgs":[110],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":418,"lineEnd":418,"lineMapIndex":-1,"methodParents":[],"nodeIndex":109},{"cfgs":[111],"code":"replayAll()","dfgs":[117],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":419,"lineEnd":419,"lineMapIndex":-1,"methodParents":[],"nodeIndex":110},{"cfgs":[112],"code":"Map<String, String> props = new HashMap<>()","dfgs":[112],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":421,"lineEnd":421,"lineMapIndex":-1,"methodParents":[],"nodeIndex":111},{"cfgs":[113],"code":"props.put(JdbcSinkConfig.CONNECTION_URL, \"stub\")","dfgs":[113],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":422,"lineEnd":422,"lineMapIndex":-1,"methodParents":[],"nodeIndex":112},{"cfgs":[114],"code":"props.put(JdbcSinkConfig.MAX_RETRIES, String.valueOf(maxRetries))","dfgs":[114],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":423,"lineEnd":423,"lineMapIndex":-1,"methodParents":[],"nodeIndex":113},{"cfgs":[115],"code":"props.put(JdbcSinkConfig.RETRY_BACKOFF_MS, String.valueOf(retryBackoffMs))","dfgs":[115],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":424,"lineEnd":424,"lineMapIndex":-1,"methodParents":[],"nodeIndex":114},{"cfgs":[116],"code":"task.start(props)","dfgs":[116],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":425,"lineEnd":425,"lineMapIndex":-1,"methodParents":[11],"nodeIndex":115},{"cfgs":[117],"code":"task.put(records)","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":427,"lineEnd":427,"lineMapIndex":-1,"methodParents":[15],"nodeIndex":116},{"cfgs":[],"code":"verifyAll()","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":true,"lineBeg":429,"lineEnd":429,"lineMapIndex":-1,"methodParents":[],"nodeIndex":117},{"cfgs":[],"code":"replayAll()","dfgs":[],"fName":"src_test_java_io_confluent_connect_jdbc_sink_JdbcSinkTaskTest.java","fieldParents":[],"isDel":false,"lineBeg":245,"lineEnd":245,"lineMapIndex":34,"methodParents":[],"nodeIndex":118}]