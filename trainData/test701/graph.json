[{"cfgs":[2],"code":"DbmsQueryResult percentileAndCountResult = (DbmsQueryResult) metaData.get(PercentilesAndCountNode.class.getSimpleName())","dfgs":[2],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":188,"lineEnd":189,"lineMapIndex":69,"methodParents":[],"nodeIndex":0},{"cfgs":[],"code":"UnnamedColumn tier1Predicate","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":202,"lineEnd":202,"lineMapIndex":70,"methodParents":[],"nodeIndex":1},{"cfgs":[],"code":"if (!primaryColumnName.isPresent())","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":203,"lineEnd":203,"lineMapIndex":71,"methodParents":[],"nodeIndex":2},{"cfgs":[4],"code":"List<Double> cumulProbDist = new ArrayList<>()","dfgs":[30,8,22,27],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":293,"lineEnd":293,"lineMapIndex":-1,"methodParents":[],"nodeIndex":3},{"cfgs":[5],"code":"Pair<Long, Long> tableSizeAndBlockNumber = retrieveTableSizeAndBlockNumber(metaData)","dfgs":[5,7,20,11,16,24,19,26,25,30,27],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":296,"lineEnd":296,"lineMapIndex":-1,"methodParents":[],"nodeIndex":4},{"cfgs":[6],"code":"long tableSize = tableSizeAndBlockNumber.getLeft()","dfgs":[6,14],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":297,"lineEnd":297,"lineMapIndex":-1,"methodParents":[],"nodeIndex":5},{"cfgs":[7],"code":"long totalNumberOfblocks = tableSizeAndBlockNumber.getRight()","dfgs":[8,21,30],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":298,"lineEnd":298,"lineMapIndex":-1,"methodParents":[],"nodeIndex":6},{"cfgs":[8,10],"code":"if (!primaryColumnName.isPresent())","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":300,"lineEnd":300,"lineMapIndex":77,"methodParents":[],"nodeIndex":7},{"cfgs":[9,30],"code":"while (cumulProbDist.size() < totalNumberOfblocks)","dfgs":[30,9],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":301,"lineEnd":301,"lineMapIndex":-1,"methodParents":[],"nodeIndex":8},{"cfgs":[],"code":"cumulProbDist.add(1.0)","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":302,"lineEnd":302,"lineMapIndex":79,"methodParents":[],"nodeIndex":9},{"cfgs":[11],"code":"else","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":305,"lineEnd":305,"lineMapIndex":-1,"methodParents":[],"nodeIndex":10},{"cfgs":[12],"code":"largeGroupSizeResult.rewind()","dfgs":[12],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":309,"lineEnd":309,"lineMapIndex":81,"methodParents":[],"nodeIndex":11},{"cfgs":[13],"code":"largeGroupSizeResult.next()","dfgs":[13],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":310,"lineEnd":310,"lineMapIndex":82,"methodParents":[],"nodeIndex":12},{"cfgs":[14],"code":"long largeGroupSizeSum = largeGroupSizeResult.getLong(0)","dfgs":[14],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":311,"lineEnd":311,"lineMapIndex":83,"methodParents":[],"nodeIndex":13},{"cfgs":[15],"code":"smallGroupSizeSum = tableSize - largeGroupSizeSum","dfgs":[20],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":312,"lineEnd":312,"lineMapIndex":84,"methodParents":[],"nodeIndex":14},{"cfgs":[16],"code":"long totalRemainingSizeUnderP1 = 0","dfgs":[20,16,19,26],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":315,"lineEnd":315,"lineMapIndex":85,"methodParents":[],"nodeIndex":15},{"cfgs":[17,20],"code":"for (int i = 0; i < tier0CumulProbDist.size(); i++)","dfgs":[17,20,19,26],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":316,"lineEnd":316,"lineMapIndex":86,"methodParents":[],"nodeIndex":16},{"cfgs":[18],"code":"if (i == 0)","dfgs":[20,19,26],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":317,"lineEnd":317,"lineMapIndex":87,"methodParents":[],"nodeIndex":17},{"cfgs":[19],"code":"else","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":319,"lineEnd":319,"lineMapIndex":-1,"methodParents":[],"nodeIndex":18},{"cfgs":[],"code":"totalRemainingSizeUnderP1 += blockSize * p1 - outlierSize * (tier0CumulProbDist.get(i) - tier0CumulProbDist.get(i-1))","dfgs":[20,26],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":320,"lineEnd":320,"lineMapIndex":89,"methodParents":[],"nodeIndex":19},{"cfgs":[21,23],"code":"if (smallGroupSizeSum >= totalRemainingSizeUnderP1)","dfgs":[24,25,30,27],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":326,"lineEnd":326,"lineMapIndex":90,"methodParents":[],"nodeIndex":20},{"cfgs":[22,30],"code":"for (int i = 0; i < totalNumberOfblocks; i++)","dfgs":[22],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":327,"lineEnd":327,"lineMapIndex":91,"methodParents":[],"nodeIndex":21},{"cfgs":[],"code":"cumulProbDist.add((i+1) / (double) totalNumberOfblocks)","dfgs":[30],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":328,"lineEnd":328,"lineMapIndex":92,"methodParents":[],"nodeIndex":22},{"cfgs":[24],"code":"erwise, we fill up to (p1 - p0) portion within each block.else","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":331,"lineEnd":332,"lineMapIndex":-1,"methodParents":[],"nodeIndex":23},{"cfgs":[25],"code":"long remainingSize = smallGroupSizeSum","dfgs":[25],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":333,"lineEnd":333,"lineMapIndex":94,"methodParents":[],"nodeIndex":24},{"cfgs":[26,30],"code":"while (remainingSize > 0)","dfgs":[26],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":335,"lineEnd":335,"lineMapIndex":-1,"methodParents":[],"nodeIndex":25},{"cfgs":[27,29],"code":"if (remainingSize <= (p1 - p0) * blockSize)","dfgs":[30,27],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":336,"lineEnd":336,"lineMapIndex":96,"methodParents":[],"nodeIndex":26},{"cfgs":[30],"code":"cumulProbDist.add(1.0)","dfgs":[30],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":337,"lineEnd":337,"lineMapIndex":97,"methodParents":[],"nodeIndex":27},{"cfgs":[],"code":"break","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":338,"lineEnd":338,"lineMapIndex":98,"methodParents":[],"nodeIndex":28},{"cfgs":[],"code":"else","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":339,"lineEnd":339,"lineMapIndex":-1,"methodParents":[],"nodeIndex":29},{"cfgs":[],"code":"tier1CumulProbDist = cumulProbDist","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":358,"lineEnd":358,"lineMapIndex":108,"methodParents":[],"nodeIndex":30},{"cfgs":[],"code":"tier2CumulProbDist = cumulProbDist","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":397,"lineEnd":397,"lineMapIndex":108,"methodParents":[],"nodeIndex":31},{"cfgs":[],"code":"Pair<String, String> fullTableName = Pair.of((String) token.getValue(\"schemaName\"), (String) token.getValue(\"tableName\"))","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":true,"lineBeg":646,"lineEnd":647,"lineMapIndex":123,"methodParents":[],"nodeIndex":32},{"cfgs":[],"code":"for (ExecutionInfoToken token : tokens)","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_ScramblingNode.java","fieldParents":[],"isDel":true,"lineBeg":93,"lineEnd":93,"lineMapIndex":-1,"methodParents":[],"nodeIndex":33},{"cfgs":[],"code":"public void testFastConvergeScramblingPlanEmptyTableNoPrimaryGroup() throws VerdictDBException, SQLException ","dfgs":[],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":93,"lineEnd":93,"lineMapIndex":-1,"methodParents":[],"nodeIndex":34},{"cfgs":[36],"code":"mysqlConn.createStatement().execute(\"delete from oldschema.oldtable\")","dfgs":[47],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":94,"lineEnd":94,"lineMapIndex":-1,"methodParents":[],"nodeIndex":35},{"cfgs":[37],"code":"String newSchemaName = \"newschema\"","dfgs":[47],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":96,"lineEnd":96,"lineMapIndex":-1,"methodParents":[],"nodeIndex":36},{"cfgs":[38],"code":"String newTableName = \"newtable\"","dfgs":[47],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":97,"lineEnd":97,"lineMapIndex":-1,"methodParents":[],"nodeIndex":37},{"cfgs":[39],"code":"String oldSchemaName = \"oldschema\"","dfgs":[48],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":98,"lineEnd":98,"lineMapIndex":-1,"methodParents":[],"nodeIndex":38},{"cfgs":[40],"code":"String oldTableName = \"oldtable\"","dfgs":[48],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":99,"lineEnd":99,"lineMapIndex":-1,"methodParents":[],"nodeIndex":39},{"cfgs":[41],"code":"String scratchpadSchemaName = \"oldschema\"","dfgs":[42],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":100,"lineEnd":100,"lineMapIndex":-1,"methodParents":[],"nodeIndex":40},{"cfgs":[42],"code":"int blockSize = 2","dfgs":[42],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":102,"lineEnd":102,"lineMapIndex":-1,"methodParents":[],"nodeIndex":41},{"cfgs":[43],"code":"ScramblingMethod method = new FastConvergeScramblingMethod(blockSize, scratchpadSchemaName)","dfgs":[48],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":103,"lineEnd":103,"lineMapIndex":-1,"methodParents":[],"nodeIndex":42},{"cfgs":[44],"code":"Map<String, String> options = new HashMap<>()","dfgs":[44],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":104,"lineEnd":104,"lineMapIndex":-1,"methodParents":[],"nodeIndex":43},{"cfgs":[45],"code":"options.put(\"tierColumnName\", \"tiercolumn\")","dfgs":[45],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":105,"lineEnd":105,"lineMapIndex":-1,"methodParents":[],"nodeIndex":44},{"cfgs":[46],"code":"options.put(\"blockColumnName\", \"blockcolumn\")","dfgs":[46],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":106,"lineEnd":106,"lineMapIndex":-1,"methodParents":[],"nodeIndex":45},{"cfgs":[47],"code":"options.put(\"blockCount\", \"3\")","dfgs":[48],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":107,"lineEnd":107,"lineMapIndex":-1,"methodParents":[],"nodeIndex":46},{"cfgs":[48],"code":"mysqlConn.createStatement().execute(String.format(\"drop table if exists %s.%s\", newSchemaName, newTableName))","dfgs":[49,48],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":109,"lineEnd":110,"lineMapIndex":-1,"methodParents":[],"nodeIndex":47},{"cfgs":[49],"code":"ScramblingPlan plan = ScramblingPlan.create(newSchemaName, newTableName,oldSchemaName, oldTableName,method, options)","dfgs":[50],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":111,"lineEnd":114,"lineMapIndex":-1,"methodParents":[],"nodeIndex":48},{"cfgs":[50],"code":"DbmsConnection conn = new JdbcConnection(mysqlConn)","dfgs":[50],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":117,"lineEnd":117,"lineMapIndex":-1,"methodParents":[],"nodeIndex":49},{"cfgs":[],"code":"ExecutablePlanRunner.runTillEnd(conn, plan)","dfgs":[],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":118,"lineEnd":118,"lineMapIndex":-1,"methodParents":[],"nodeIndex":50},{"cfgs":[],"code":"public void testFastConvergeScramblingPlanNonEmptyTableNoPrimaryGroup() throws VerdictDBException, SQLException ","dfgs":[],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":155,"lineEnd":155,"lineMapIndex":-1,"methodParents":[],"nodeIndex":51},{"cfgs":[53],"code":"mysqlConn.createStatement().execute(\"delete from oldschema.oldtable\")","dfgs":[65,54],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":156,"lineEnd":156,"lineMapIndex":-1,"methodParents":[],"nodeIndex":52},{"cfgs":[54,55],"code":"for (int i = 0; i < 10; i++)","dfgs":[54],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":157,"lineEnd":157,"lineMapIndex":-1,"methodParents":[],"nodeIndex":53},{"cfgs":[],"code":"mysqlConn.createStatement().execute(String.format(\"insert into oldschema.oldtable values (%d, %d)\", i%2, i))","dfgs":[65],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":158,"lineEnd":159,"lineMapIndex":-1,"methodParents":[],"nodeIndex":54},{"cfgs":[56],"code":"String newSchemaName = \"newschema\"","dfgs":[65],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":162,"lineEnd":162,"lineMapIndex":-1,"methodParents":[],"nodeIndex":55},{"cfgs":[57],"code":"String newTableName = \"newtable\"","dfgs":[65],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":163,"lineEnd":163,"lineMapIndex":-1,"methodParents":[],"nodeIndex":56},{"cfgs":[58],"code":"String oldSchemaName = \"oldschema\"","dfgs":[66],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":164,"lineEnd":164,"lineMapIndex":-1,"methodParents":[],"nodeIndex":57},{"cfgs":[59],"code":"String oldTableName = \"oldtable\"","dfgs":[66],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":165,"lineEnd":165,"lineMapIndex":-1,"methodParents":[],"nodeIndex":58},{"cfgs":[60],"code":"String scratchpadSchemaName = \"oldschema\"","dfgs":[61],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":166,"lineEnd":166,"lineMapIndex":-1,"methodParents":[],"nodeIndex":59},{"cfgs":[61],"code":"int blockSize = 2","dfgs":[61],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":168,"lineEnd":168,"lineMapIndex":-1,"methodParents":[],"nodeIndex":60},{"cfgs":[62],"code":"ScramblingMethod method = new FastConvergeScramblingMethod(blockSize, scratchpadSchemaName)","dfgs":[66],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":169,"lineEnd":169,"lineMapIndex":-1,"methodParents":[],"nodeIndex":61},{"cfgs":[63],"code":"Map<String, String> options = new HashMap<>()","dfgs":[63],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":170,"lineEnd":170,"lineMapIndex":-1,"methodParents":[],"nodeIndex":62},{"cfgs":[64],"code":"options.put(\"tierColumnName\", \"tiercolumn\")","dfgs":[64],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":171,"lineEnd":171,"lineMapIndex":-1,"methodParents":[],"nodeIndex":63},{"cfgs":[65],"code":"options.put(\"blockColumnName\", \"blockcolumn\")","dfgs":[66],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":172,"lineEnd":172,"lineMapIndex":-1,"methodParents":[],"nodeIndex":64},{"cfgs":[66],"code":"mysqlConn.createStatement().execute(String.format(\"drop table if exists %s.%s\", newSchemaName, newTableName))","dfgs":[67,66],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":174,"lineEnd":175,"lineMapIndex":-1,"methodParents":[],"nodeIndex":65},{"cfgs":[67],"code":"ScramblingPlan plan = ScramblingPlan.create(newSchemaName, newTableName,oldSchemaName, oldTableName,method, options)","dfgs":[68],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":176,"lineEnd":179,"lineMapIndex":-1,"methodParents":[],"nodeIndex":66},{"cfgs":[68],"code":"DbmsConnection conn = new JdbcConnection(mysqlConn)","dfgs":[68],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":182,"lineEnd":182,"lineMapIndex":-1,"methodParents":[],"nodeIndex":67},{"cfgs":[],"code":"ExecutablePlanRunner.runTillEnd(conn, plan)","dfgs":[],"fName":"src_test_java_org_verdictdb_core_scrambling_FastConvergeScramblingPlanTest.java","fieldParents":[],"isDel":false,"lineBeg":183,"lineEnd":183,"lineMapIndex":-1,"methodParents":[],"nodeIndex":68},{"cfgs":[71],"code":"DbmsQueryResult percentileAndCountResult = (DbmsQueryResult) metaData.get(PercentilesAndCountNode.class.getSimpleName())","dfgs":[71],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":188,"lineEnd":189,"lineMapIndex":0,"methodParents":[],"nodeIndex":69},{"cfgs":[],"code":"UnnamedColumn tier1Predicate","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":202,"lineEnd":202,"lineMapIndex":1,"methodParents":[],"nodeIndex":70},{"cfgs":[72,73],"code":"if (!primaryColumnName.isPresent())","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":203,"lineEnd":203,"lineMapIndex":2,"methodParents":[],"nodeIndex":71},{"cfgs":[],"code":"tier1Predicate = ColumnOp.equal(ConstantColumn.valueOf(0), ConstantColumn.valueOf(1))","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":204,"lineEnd":204,"lineMapIndex":-1,"methodParents":[],"nodeIndex":72},{"cfgs":[74],"code":"else","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":205,"lineEnd":205,"lineMapIndex":-1,"methodParents":[],"nodeIndex":73},{"cfgs":[75],"code":"String rightTableSourceAlias = FastConvergeScramblingMethod.RIGHT_TABLE_SOURCE_ALIAS_NAME","dfgs":[75],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":206,"lineEnd":206,"lineMapIndex":-1,"methodParents":[],"nodeIndex":74},{"cfgs":[],"code":"tier1Predicate = ColumnOp.isnull(new BaseColumn(rightTableSourceAlias, LargeGroupListNode.PRIMARY_GROUP_RENAME))","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":207,"lineEnd":208,"lineMapIndex":-1,"methodParents":[],"nodeIndex":75},{"cfgs":[],"code":"DbmsQueryResult outlierProportion = (DbmsQueryResult) metaData.get(OutlierProportionNode.class.getSimpleName())","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":247,"lineEnd":248,"lineMapIndex":-1,"methodParents":[],"nodeIndex":76},{"cfgs":[78,80],"code":"if (!primaryColumnName.isPresent())","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":300,"lineEnd":300,"lineMapIndex":7,"methodParents":[],"nodeIndex":77},{"cfgs":[79],"code":"while (cumulProbDist.size() < totalNumberOfblocks)","dfgs":[79],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":301,"lineEnd":301,"lineMapIndex":-1,"methodParents":[],"nodeIndex":78},{"cfgs":[],"code":"cumulProbDist.add(1.0)","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":302,"lineEnd":302,"lineMapIndex":9,"methodParents":[],"nodeIndex":79},{"cfgs":[81],"code":"DbmsQueryResult largeGroupSizeResult = (DbmsQueryResult) metaData.get(LargeGroupSizeNode.class.getSimpleName())","dfgs":[81],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":307,"lineEnd":308,"lineMapIndex":-1,"methodParents":[],"nodeIndex":80},{"cfgs":[82],"code":"largeGroupSizeResult.rewind()","dfgs":[82],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":309,"lineEnd":309,"lineMapIndex":11,"methodParents":[],"nodeIndex":81},{"cfgs":[83],"code":"largeGroupSizeResult.next()","dfgs":[83],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":310,"lineEnd":310,"lineMapIndex":12,"methodParents":[],"nodeIndex":82},{"cfgs":[84],"code":"long largeGroupSizeSum = largeGroupSizeResult.getLong(0)","dfgs":[84],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":311,"lineEnd":311,"lineMapIndex":13,"methodParents":[],"nodeIndex":83},{"cfgs":[85],"code":"smallGroupSizeSum = tableSize - largeGroupSizeSum","dfgs":[90],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":312,"lineEnd":312,"lineMapIndex":14,"methodParents":[],"nodeIndex":84},{"cfgs":[86],"code":"long totalRemainingSizeUnderP1 = 0","dfgs":[90,88,89],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":315,"lineEnd":315,"lineMapIndex":15,"methodParents":[],"nodeIndex":85},{"cfgs":[87,90],"code":"for (int i = 0; i < tier0CumulProbDist.size(); i++)","dfgs":[87,88,89],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":316,"lineEnd":316,"lineMapIndex":16,"methodParents":[],"nodeIndex":86},{"cfgs":[88,89],"code":"if (i == 0)","dfgs":[88,89],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":317,"lineEnd":317,"lineMapIndex":17,"methodParents":[],"nodeIndex":87},{"cfgs":[],"code":"totalRemainingSizeUnderP1 += blockSize * p1 - outlierSize * tier0CumulProbDist.get(i)","dfgs":[90,89,96],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":318,"lineEnd":318,"lineMapIndex":-1,"methodParents":[],"nodeIndex":88},{"cfgs":[],"code":"totalRemainingSizeUnderP1 += blockSize * p1 - outlierSize * (tier0CumulProbDist.get(i) - tier0CumulProbDist.get(i-1))","dfgs":[90,96],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":320,"lineEnd":320,"lineMapIndex":19,"methodParents":[],"nodeIndex":89},{"cfgs":[91,93],"code":"if (smallGroupSizeSum >= totalRemainingSizeUnderP1)","dfgs":[94,100],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":326,"lineEnd":326,"lineMapIndex":20,"methodParents":[],"nodeIndex":90},{"cfgs":[92],"code":"for (int i = 0; i < totalNumberOfblocks; i++)","dfgs":[92],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":327,"lineEnd":327,"lineMapIndex":21,"methodParents":[],"nodeIndex":91},{"cfgs":[],"code":"cumulProbDist.add((i+1) / (double) totalNumberOfblocks)","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":328,"lineEnd":328,"lineMapIndex":22,"methodParents":[],"nodeIndex":92},{"cfgs":[94],"code":"erwise, we fill up to (p1 - p0) portion within each block.else","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":331,"lineEnd":332,"lineMapIndex":-1,"methodParents":[],"nodeIndex":93},{"cfgs":[95],"code":"long remainingSize = smallGroupSizeSum","dfgs":[95],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":333,"lineEnd":333,"lineMapIndex":24,"methodParents":[],"nodeIndex":94},{"cfgs":[96,106],"code":"while (remainingSize > 0)","dfgs":[96],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":335,"lineEnd":335,"lineMapIndex":-1,"methodParents":[],"nodeIndex":95},{"cfgs":[97,99],"code":"if (remainingSize <= (p1 - p0) * blockSize)","dfgs":[105,99],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":336,"lineEnd":336,"lineMapIndex":26,"methodParents":[],"nodeIndex":96},{"cfgs":[106],"code":"cumulProbDist.add(1.0)","dfgs":[106],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":337,"lineEnd":337,"lineMapIndex":27,"methodParents":[],"nodeIndex":97},{"cfgs":[],"code":"break","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":338,"lineEnd":338,"lineMapIndex":28,"methodParents":[],"nodeIndex":98},{"cfgs":[100],"code":"long thisBlockSize = (long) (blockSize * (p1 - p0))","dfgs":[100],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":340,"lineEnd":340,"lineMapIndex":-1,"methodParents":[],"nodeIndex":99},{"cfgs":[101],"code":"double ratio = thisBlockSize / smallGroupSizeSum","dfgs":[105,102,104],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":341,"lineEnd":341,"lineMapIndex":-1,"methodParents":[],"nodeIndex":100},{"cfgs":[102,103],"code":"if (cumulProbDist.size() == 0)","dfgs":[102,104],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":342,"lineEnd":342,"lineMapIndex":-1,"methodParents":[],"nodeIndex":101},{"cfgs":[105],"code":"cumulProbDist.add(ratio)","dfgs":[106],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":343,"lineEnd":343,"lineMapIndex":-1,"methodParents":[],"nodeIndex":102},{"cfgs":[104],"code":"else","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":344,"lineEnd":344,"lineMapIndex":-1,"methodParents":[],"nodeIndex":103},{"cfgs":[105],"code":"cumulProbDist.add(cumulProbDist.get(cumulProbDist.size()-1) + ratio)","dfgs":[106],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":345,"lineEnd":345,"lineMapIndex":-1,"methodParents":[],"nodeIndex":104},{"cfgs":[],"code":"remainingSize -= thisBlockSize","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":347,"lineEnd":347,"lineMapIndex":-1,"methodParents":[],"nodeIndex":105},{"cfgs":[107],"code":"while (cumulProbDist.size() < totalNumberOfblocks)","dfgs":[107],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":352,"lineEnd":352,"lineMapIndex":-1,"methodParents":[],"nodeIndex":106},{"cfgs":[],"code":"cumulProbDist.add(1.0)","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":353,"lineEnd":353,"lineMapIndex":-1,"methodParents":[],"nodeIndex":107},{"cfgs":[],"code":"DbmsQueryResult tableSizeResult = (DbmsQueryResult) metaData.get(PercentilesAndCountNode.class.getSimpleName())","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":402,"lineEnd":403,"lineMapIndex":31,"methodParents":[],"nodeIndex":108},{"cfgs":[110],"code":"Pair<String, String> fullTableName = (Pair<String, String>) metaData.get(LargeGroupListNode.class.getSimpleName())","dfgs":[110],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":414,"lineEnd":415,"lineMapIndex":-1,"methodParents":[],"nodeIndex":109},{"cfgs":[111],"code":"String largeGroupListSchemaName = fullTableName.getLeft()","dfgs":[111],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":416,"lineEnd":416,"lineMapIndex":-1,"methodParents":[],"nodeIndex":110},{"cfgs":[],"code":"String largeGroupListTableName = fullTableName.getRight()","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":417,"lineEnd":417,"lineMapIndex":-1,"methodParents":[],"nodeIndex":111},{"cfgs":[],"code":"public ExecutionInfoToken createToken(DbmsQueryResult result) ","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":526,"lineEnd":526,"lineMapIndex":-1,"methodParents":[],"nodeIndex":112},{"cfgs":[],"code":"ExecutionInfoToken token = new ExecutionInfoToken()","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":527,"lineEnd":527,"lineMapIndex":-1,"methodParents":[],"nodeIndex":113},{"cfgs":[],"code":"token.setKeyValue(this.getClass().getSimpleName(), result)","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":528,"lineEnd":528,"lineMapIndex":-1,"methodParents":[],"nodeIndex":114},{"cfgs":[],"code":"return token","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":529,"lineEnd":529,"lineMapIndex":-1,"methodParents":[],"nodeIndex":115},{"cfgs":[],"code":"DbmsQueryResult percentileAndCountResult = (DbmsQueryResult) tokens.get(0).getValue(PercentilesAndCountNode.class.getSimpleName())","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":559,"lineEnd":560,"lineMapIndex":-1,"methodParents":[],"nodeIndex":116},{"cfgs":[],"code":"public ExecutionInfoToken createToken(DbmsQueryResult result) ","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":574,"lineEnd":574,"lineMapIndex":-1,"methodParents":[],"nodeIndex":117},{"cfgs":[],"code":"ExecutionInfoToken token = new ExecutionInfoToken()","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":575,"lineEnd":575,"lineMapIndex":-1,"methodParents":[],"nodeIndex":118},{"cfgs":[],"code":"token.setKeyValue(this.getClass().getSimpleName(), result)","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":576,"lineEnd":576,"lineMapIndex":-1,"methodParents":[],"nodeIndex":119},{"cfgs":[],"code":"return token","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":577,"lineEnd":577,"lineMapIndex":-1,"methodParents":[],"nodeIndex":120},{"cfgs":[],"code":"public ExecutionInfoToken createToken(DbmsQueryResult result) ","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":644,"lineEnd":644,"lineMapIndex":-1,"methodParents":[],"nodeIndex":121},{"cfgs":[],"code":"ExecutionInfoToken token = super.createToken(result)","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":645,"lineEnd":645,"lineMapIndex":-1,"methodParents":[112],"nodeIndex":122},{"cfgs":[],"code":"Pair<String, String> fullTableName = Pair.of((String) token.getValue(\"schemaName\"), (String) token.getValue(\"tableName\"))","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":646,"lineEnd":647,"lineMapIndex":32,"methodParents":[],"nodeIndex":123},{"cfgs":[],"code":"token.setKeyValue(this.getClass().getSimpleName(), fullTableName)","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":650,"lineEnd":650,"lineMapIndex":-1,"methodParents":[],"nodeIndex":124},{"cfgs":[],"code":"return token","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":651,"lineEnd":651,"lineMapIndex":-1,"methodParents":[],"nodeIndex":125},{"cfgs":[],"code":"public ExecutionInfoToken createToken(DbmsQueryResult result) ","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":696,"lineEnd":696,"lineMapIndex":-1,"methodParents":[],"nodeIndex":126},{"cfgs":[],"code":"ExecutionInfoToken token = new ExecutionInfoToken()","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":697,"lineEnd":697,"lineMapIndex":-1,"methodParents":[],"nodeIndex":127},{"cfgs":[],"code":"token.setKeyValue(this.getClass().getSimpleName(), result)","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":698,"lineEnd":698,"lineMapIndex":-1,"methodParents":[],"nodeIndex":128},{"cfgs":[],"code":"return token","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_FastConvergeScramblingMethod.java","fieldParents":[],"isDel":false,"lineBeg":699,"lineEnd":699,"lineMapIndex":-1,"methodParents":[],"nodeIndex":129},{"cfgs":[],"code":"metaData.put(key, value)","dfgs":[],"fName":"src_main_java_org_verdictdb_core_scrambling_ScramblingNode.java","fieldParents":[],"isDel":false,"lineBeg":97,"lineEnd":97,"lineMapIndex":-1,"methodParents":[],"nodeIndex":130}]