[{"cfgs":[],"code":"Assert.assertTrue(WallUtils.isValidateMySql(//\r\"SET sql_mode=?,NAMES ?,CHARACTER SET utf8,CHARACTER_SET_RESULTS=utf8,COLLATION_CONNECTION=?\"))","dfgs":[],"fName":"src_test_java_com_alibaba_druid_bvt_filter_wall_mysql_MySqlWallTest20.java","fieldParents":[],"isDel":true,"lineBeg":34,"lineEnd":35,"lineMapIndex":21,"methodParents":[],"nodeIndex":0},{"cfgs":[],"code":"item.setValue(chars\r? new SQLCharExpr(charset): new SQLIdentifierExpr(charset))","dfgs":[],"fName":"src_main_java_com_alibaba_druid_sql_dialect_mysql_parser_MySqlExprParser.java","fieldParents":[],"isDel":true,"lineBeg":716,"lineEnd":719,"lineMapIndex":30,"methodParents":[],"nodeIndex":1},{"cfgs":[],"code":"import com.alibaba.druid.sql.dialect.oracle.parser.OracleStatementParser","dfgs":[],"fName":"src_test_java_com_alibaba_druid_bvt_sql_oracle_create_OracleCreateTableTest69.java","fieldParents":[],"isDel":true,"lineBeg":21,"lineEnd":21,"lineMapIndex":-1,"methodParents":[],"nodeIndex":2},{"cfgs":[],"code":"import com.alibaba.druid.sql.dialect.oracle.visitor.OracleSchemaStatVisitor","dfgs":[],"fName":"src_test_java_com_alibaba_druid_bvt_sql_oracle_create_OracleCreateTableTest69.java","fieldParents":[],"isDel":true,"lineBeg":22,"lineEnd":22,"lineMapIndex":-1,"methodParents":[],"nodeIndex":3},{"cfgs":[],"code":"import org.junit.Assert","dfgs":[],"fName":"src_test_java_com_alibaba_druid_bvt_sql_oracle_create_OracleCreateTableTest69.java","fieldParents":[],"isDel":true,"lineBeg":26,"lineEnd":26,"lineMapIndex":-1,"methodParents":[],"nodeIndex":4},{"cfgs":[],"code":"public class OracleCreateTableTest68 extends OracleTest ","dfgs":[],"fName":"src_test_java_com_alibaba_druid_bvt_sql_oracle_create_OracleCreateTableTest69.java","fieldParents":[],"isDel":true,"lineBeg":30,"lineEnd":30,"lineMapIndex":31,"methodParents":[],"nodeIndex":5},{"cfgs":[],"code":"String sql = //\"  CREATE TABLE \\\"JWGZPT\\\".\\\"A\\\" \\n\" +\"   (    \\\"XM\\\" VARCHAR2(100), \\n\" +\"    \\\"SFZH\\\" VARCHAR2(20), \\n\" +\"    \\\"GZDW\\\" VARCHAR2(200)\\n\" +\"   ) SEGMENT CREATION IMMEDIATE \\n\" +\"  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 \\n\" +\" NOCOMPRESS LOGGING\\n\" +\"  STORAGE(INITIAL 81920 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645\\n\" +\"  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1\\n\" +\"  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)\\n\" +\"  TABLESPACE \\\"TBS_JWGZPT\\\" \"","dfgs":[],"fName":"src_test_java_com_alibaba_druid_bvt_sql_oracle_create_OracleCreateTableTest69.java","fieldParents":[],"isDel":true,"lineBeg":33,"lineEnd":44,"lineMapIndex":32,"methodParents":[],"nodeIndex":6},{"cfgs":[],"code":"assertEquals(\"CREATE TABLE \\\"JWGZPT\\\".\\\"A\\\" (\\n\" +\"\\t\\\"XM\\\" VARCHAR2(100),\\n\" +\"\\t\\\"SFZH\\\" VARCHAR2(20),\\n\" +\"\\t\\\"GZDW\\\" VARCHAR2(200)\\n\" +\")\\n\" +\"PCTFREE 10\\n\" +\"PCTUSED 40\\n\" +\"INITRANS 1\\n\" +\"MAXTRANS 255\\n\" +\"NOCOMPRESS\\n\" +\"LOGGING\\n\" +\"TABLESPACE \\\"TBS_JWGZPT\\\"\\n\" +\"STORAGE (\\n\" +\"\\tINITIAL 81920\\n\" +\"\\tNEXT 1048576\\n\" +\"\\tMINEXTENTS 1\\n\" +\"\\tMAXEXTENTS 2147483645\\n\" +\"\\tPCTINCREASE 0\\n\" +\"\\tFREELISTS 1\\n\" +\"\\tFREELIST GROUPS 1\\n\" +\"\\tBUFFER_POOL DEFAULT\\n\" +\"\\tFLASH_CACHE DEFAULT\\n\" +\"\\tCELL_FLASH_CACHE DEFAULT\\n\" +\")\",//SQLUtils.toSQLString(stmt, JdbcConstants.ORACLE))","dfgs":[],"fName":"src_test_java_com_alibaba_druid_bvt_sql_oracle_create_OracleCreateTableTest69.java","fieldParents":[],"isDel":true,"lineBeg":52,"lineEnd":76,"lineMapIndex":-1,"methodParents":[],"nodeIndex":7},{"cfgs":[],"code":"SchemaStatVisitor visitor = SQLUtils.createSchemaStatVisitor(JdbcConstants.ORACLE)","dfgs":[],"fName":"src_test_java_com_alibaba_druid_bvt_sql_oracle_create_OracleCreateTableTest69.java","fieldParents":[],"isDel":true,"lineBeg":78,"lineEnd":78,"lineMapIndex":-1,"methodParents":[],"nodeIndex":8},{"cfgs":[],"code":"stmt.accept(visitor)","dfgs":[],"fName":"src_test_java_com_alibaba_druid_bvt_sql_oracle_create_OracleCreateTableTest69.java","fieldParents":[],"isDel":true,"lineBeg":79,"lineEnd":79,"lineMapIndex":-1,"methodParents":[],"nodeIndex":9},{"cfgs":[],"code":"System.out.println(\"Tables : \" + visitor.getTables())","dfgs":[],"fName":"src_test_java_com_alibaba_druid_bvt_sql_oracle_create_OracleCreateTableTest69.java","fieldParents":[],"isDel":true,"lineBeg":81,"lineEnd":81,"lineMapIndex":-1,"methodParents":[],"nodeIndex":10},{"cfgs":[],"code":"System.out.println(\"fields : \" + visitor.getColumns())","dfgs":[],"fName":"src_test_java_com_alibaba_druid_bvt_sql_oracle_create_OracleCreateTableTest69.java","fieldParents":[],"isDel":true,"lineBeg":82,"lineEnd":82,"lineMapIndex":-1,"methodParents":[],"nodeIndex":11},{"cfgs":[],"code":"System.out.println(\"coditions : \" + visitor.getConditions())","dfgs":[],"fName":"src_test_java_com_alibaba_druid_bvt_sql_oracle_create_OracleCreateTableTest69.java","fieldParents":[],"isDel":true,"lineBeg":83,"lineEnd":83,"lineMapIndex":-1,"methodParents":[],"nodeIndex":12},{"cfgs":[],"code":"System.out.println(\"relationships : \" + visitor.getRelationships())","dfgs":[],"fName":"src_test_java_com_alibaba_druid_bvt_sql_oracle_create_OracleCreateTableTest69.java","fieldParents":[],"isDel":true,"lineBeg":84,"lineEnd":84,"lineMapIndex":-1,"methodParents":[],"nodeIndex":13},{"cfgs":[],"code":"System.out.println(\"orderBy : \" + visitor.getOrderByColumns())","dfgs":[],"fName":"src_test_java_com_alibaba_druid_bvt_sql_oracle_create_OracleCreateTableTest69.java","fieldParents":[],"isDel":true,"lineBeg":85,"lineEnd":85,"lineMapIndex":-1,"methodParents":[],"nodeIndex":14},{"cfgs":[],"code":"assertEquals(1, visitor.getTables().size())","dfgs":[],"fName":"src_test_java_com_alibaba_druid_bvt_sql_oracle_create_OracleCreateTableTest69.java","fieldParents":[],"isDel":true,"lineBeg":87,"lineEnd":87,"lineMapIndex":-1,"methodParents":[],"nodeIndex":15},{"cfgs":[],"code":"assertEquals(3, visitor.getColumns().size())","dfgs":[],"fName":"src_test_java_com_alibaba_druid_bvt_sql_oracle_create_OracleCreateTableTest69.java","fieldParents":[],"isDel":true,"lineBeg":89,"lineEnd":89,"lineMapIndex":-1,"methodParents":[],"nodeIndex":16},{"cfgs":[],"code":"assertTrue(visitor.getColumns().contains(new TableStat.Column(\"JWGZPT.A\", \"XM\")))","dfgs":[],"fName":"src_test_java_com_alibaba_druid_bvt_sql_oracle_create_OracleCreateTableTest69.java","fieldParents":[],"isDel":true,"lineBeg":91,"lineEnd":91,"lineMapIndex":-1,"methodParents":[],"nodeIndex":17},{"cfgs":[],"code":"String expected = \"INSERT INTO TABLE lol\"+ \"\\nSELECT detail(sellerid, id) AS count1\"+ \"\\n\\t, SUM(sellerid) AS sum1\"+ \"\\nFROM ctu_trade_paid_done:time('natural', '1d', '1h')\"+ \"\\nWHERE match(auctionTitle, '男鞋\\\\n中石化&加油卡\\\\n中石化&充值卡\\\\n中石化&冲值卡\\\\n中石化&代冲\\\\n中石化&代充\\\\n中国石化&加油卡\\\\n中国石化&充值卡\\\\n中国石化&冲值卡\\\\n中国石化&代冲\\\\n中国石化&代充', '\\\\n');\\n\"","dfgs":[],"fName":"src_test_java_com_alibaba_druid_bvt_bug_Bug_for_qianbi.java","fieldParents":[],"isDel":true,"lineBeg":19,"lineEnd":23,"lineMapIndex":34,"methodParents":[],"nodeIndex":18},{"cfgs":[],"code":"import com.alibaba.druid.sql.SQLUtils","dfgs":[],"fName":"src_test_java_com_alibaba_druid_bvt_filter_wall_mysql_MySqlWallTest20.java","fieldParents":[],"isDel":false,"lineBeg":18,"lineEnd":18,"lineMapIndex":-1,"methodParents":[],"nodeIndex":19},{"cfgs":[],"code":"import com.alibaba.druid.util.JdbcConstants","dfgs":[],"fName":"src_test_java_com_alibaba_druid_bvt_filter_wall_mysql_MySqlWallTest20.java","fieldParents":[],"isDel":false,"lineBeg":19,"lineEnd":19,"lineMapIndex":-1,"methodParents":[],"nodeIndex":20},{"cfgs":[],"code":"assertTrue(WallUtils.isValidateMySql(//\r\"SET sql_mode=?,NAMES ?,CHARACTER SET utf8,CHARACTER_SET_RESULTS=utf8,COLLATION_CONNECTION=?\"))","dfgs":[],"fName":"src_test_java_com_alibaba_druid_bvt_filter_wall_mysql_MySqlWallTest20.java","fieldParents":[],"isDel":false,"lineBeg":36,"lineEnd":37,"lineMapIndex":0,"methodParents":[],"nodeIndex":21},{"cfgs":[23],"code":"SQLExpr varExpr = null","dfgs":[27],"fName":"src_main_java_com_alibaba_druid_sql_dialect_mysql_parser_MySqlExprParser.java","fieldParents":[],"isDel":false,"lineBeg":695,"lineEnd":695,"lineMapIndex":-1,"methodParents":[],"nodeIndex":22},{"cfgs":[27,24],"code":"final Token token = lexer.token()","dfgs":[24],"fName":"src_main_java_com_alibaba_druid_sql_dialect_mysql_parser_MySqlExprParser.java","fieldParents":[],"isDel":false,"lineBeg":697,"lineEnd":697,"lineMapIndex":-1,"methodParents":[],"nodeIndex":23},{"cfgs":[25,27],"code":"if (lexer.token() == Token.QUES)","dfgs":[26],"fName":"src_main_java_com_alibaba_druid_sql_dialect_mysql_parser_MySqlExprParser.java","fieldParents":[],"isDel":false,"lineBeg":703,"lineEnd":703,"lineMapIndex":-1,"methodParents":[],"nodeIndex":24},{"cfgs":[26],"code":"varExpr = new SQLVariantRefExpr(\"?\")","dfgs":[27],"fName":"src_main_java_com_alibaba_druid_sql_dialect_mysql_parser_MySqlExprParser.java","fieldParents":[],"isDel":false,"lineBeg":704,"lineEnd":704,"lineMapIndex":-1,"methodParents":[],"nodeIndex":25},{"cfgs":[27],"code":"lexer.nextToken()","dfgs":[],"fName":"src_main_java_com_alibaba_druid_sql_dialect_mysql_parser_MySqlExprParser.java","fieldParents":[],"isDel":false,"lineBeg":705,"lineEnd":705,"lineMapIndex":-1,"methodParents":[],"nodeIndex":26},{"cfgs":[28,29],"code":"if (varExpr != null)","dfgs":[28],"fName":"src_main_java_com_alibaba_druid_sql_dialect_mysql_parser_MySqlExprParser.java","fieldParents":[],"isDel":false,"lineBeg":721,"lineEnd":721,"lineMapIndex":-1,"methodParents":[],"nodeIndex":27},{"cfgs":[],"code":"item.setValue(varExpr)","dfgs":[],"fName":"src_main_java_com_alibaba_druid_sql_dialect_mysql_parser_MySqlExprParser.java","fieldParents":[],"isDel":false,"lineBeg":722,"lineEnd":722,"lineMapIndex":-1,"methodParents":[],"nodeIndex":28},{"cfgs":[30],"code":"else","dfgs":[],"fName":"src_main_java_com_alibaba_druid_sql_dialect_mysql_parser_MySqlExprParser.java","fieldParents":[],"isDel":false,"lineBeg":723,"lineEnd":723,"lineMapIndex":-1,"methodParents":[],"nodeIndex":29},{"cfgs":[],"code":"item.setValue(chars\r? new SQLCharExpr(charset): new SQLIdentifierExpr(charset))","dfgs":[],"fName":"src_main_java_com_alibaba_druid_sql_dialect_mysql_parser_MySqlExprParser.java","fieldParents":[],"isDel":false,"lineBeg":724,"lineEnd":727,"lineMapIndex":1,"methodParents":[],"nodeIndex":30},{"cfgs":[],"code":"public class OracleCreateTableTest69 extends OracleTest ","dfgs":[],"fName":"src_test_java_com_alibaba_druid_bvt_sql_oracle_create_OracleCreateTableTest69.java","fieldParents":[],"isDel":false,"lineBeg":27,"lineEnd":27,"lineMapIndex":5,"methodParents":[],"nodeIndex":31},{"cfgs":[],"code":"String sql = //\"  CREATE TABLE HASH_TABLE\\n\" +\"(\\n\" +\"COL NUMBER(8),\\n\" +\"INF VARCHAR2(100)\\n\" +\")\\n\" +\"PARTITION BY HASH (COL)\\n\" +\"(\\n\" +\"PARTITION PART01 TABLESPACE HASH_TS01,\\n\" +\"PARTITION PART02 TABLESPACE HASH_TS02,\\n\" +\"PARTITION PART03 TABLESPACE HASH_TS03\\n\" +\") \"","dfgs":[],"fName":"src_test_java_com_alibaba_druid_bvt_sql_oracle_create_OracleCreateTableTest69.java","fieldParents":[],"isDel":false,"lineBeg":30,"lineEnd":41,"lineMapIndex":6,"methodParents":[],"nodeIndex":32},{"cfgs":[],"code":"assertEquals(1, statementList.size())","dfgs":[],"fName":"src_test_java_com_alibaba_druid_bvt_sql_oracle_create_OracleCreateTableTest69.java","fieldParents":[],"isDel":false,"lineBeg":47,"lineEnd":47,"lineMapIndex":-1,"methodParents":[],"nodeIndex":33},{"cfgs":[],"code":"String expected = \"INSERT INTO TABLE lol\\n\" +\"SELECT detail(sellerid, id) AS count1, SUM(sellerid) AS sum1\\n\" +\"FROM ctu_trade_paid_done:time('natural', '1d', '1h')\\n\" +\"WHERE match(auctionTitle, '男鞋\\\\n中石化&加油卡\\\\n中石化&充值卡\\\\n中石化&冲值卡\\\\n中石化&代冲\\\\n中石化&代充\\\\n中国石化&加油卡\\\\n中国石化&充值卡\\\\n中国石化&冲值卡\\\\n中国石化&代冲\\\\n中国石化&代充', '\\\\n');\\n\"","dfgs":[],"fName":"src_test_java_com_alibaba_druid_bvt_bug_Bug_for_qianbi.java","fieldParents":[],"isDel":false,"lineBeg":19,"lineEnd":22,"lineMapIndex":18,"methodParents":[],"nodeIndex":34}]