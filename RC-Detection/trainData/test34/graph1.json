[
    {
        "cfgs": [],
        "code": "import java.util.Map",
        "dfgs": [],
        "fName": "core_src_main_java_org_apache_accumulo_core_client_admin_CompactionConfig.java",
        "fieldParents": [],
        "isDel": true,
        "lineBeg": 23,
        "lineEnd": 23,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 0,
        "rootcause": false,
        "commits": [
            "2f788f4826d0fd6d96ad04def79320e8479c9108"
        ]
    },
    {
        "cfgs": [],
        "code": "private CompactionStrategyConfig compactionStrategy = new CompactionStrategyConfig(\"org.apache.accumulo.tserver.compaction.EverythingCompactionStrategy\") {@Overridepublic CompactionStrategyConfig setOptions(Map<String,String> opts) {throw new UnsupportedOperationException();}}",
        "dfgs": [],
        "fName": "core_src_main_java_org_apache_accumulo_core_client_admin_CompactionConfig.java",
        "fieldParents": [],
        "isDel": true,
        "lineBeg": 42,
        "lineEnd": 47,
        "lineMapIndex": 34,
        "methodParents": [],
        "nodeIndex": 1,
        "rootcause": true,
        "commits": [
            "2f788f4826d0fd6d96ad04def79320e8479c9108"
        ]
    },
    {
        "cfgs": [],
        "code": "if (iterators.size() > 0 || compactionStrategy != null)",
        "dfgs": [],
        "fName": "server_master_src_main_java_org_apache_accumulo_master_tableOps_CompactRange.java",
        "fieldParents": [],
        "isDel": true,
        "lineBeg": 214,
        "lineEnd": 214,
        "lineMapIndex": 40,
        "methodParents": [],
        "nodeIndex": 2,
        "rootcause": true,
        "commits": [
            "2f788f4826d0fd6d96ad04def79320e8479c9108"
        ]
    },
    {
        "cfgs": [],
        "code": "throw new ThriftTableOperationException(tableId, null, TableOperation.COMPACT, TableOperationExceptionType.OTHER,\"Another compaction with iterators is running\")",
        "dfgs": [],
        "fName": "server_master_src_main_java_org_apache_accumulo_master_tableOps_CompactRange.java",
        "fieldParents": [],
        "isDel": true,
        "lineBeg": 251,
        "lineEnd": 252,
        "lineMapIndex": 41,
        "methodParents": [],
        "nodeIndex": 3,
        "rootcause": false,
        "commits": [
            "2576ffbf81f676240d1c425f36166e3ae32f1d24"
        ]
    },
    {
        "cfgs": [],
        "code": "import org.apache.accumulo.core.client.AccumuloException",
        "dfgs": [],
        "fName": "test_src_test_java_org_apache_accumulo_test_UserCompactionStrategyIT.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 29,
        "lineEnd": 29,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 4,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [],
        "code": "import org.apache.accumulo.test.functional.SlowIterator",
        "dfgs": [],
        "fName": "test_src_test_java_org_apache_accumulo_test_UserCompactionStrategyIT.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 48,
        "lineEnd": 48,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 5,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [],
        "code": "public void testConcurrent() throws Exception ",
        "dfgs": [],
        "fName": "test_src_test_java_org_apache_accumulo_test_UserCompactionStrategyIT.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 306,
        "lineEnd": 306,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 6,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [
            8
        ],
        "code": "Connector c = getConnector()",
        "dfgs": [
            9,
            8
        ],
        "fName": "test_src_test_java_org_apache_accumulo_test_UserCompactionStrategyIT.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 309,
        "lineEnd": 309,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 7,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [
            9
        ],
        "code": "String tableName = getUniqueNames(1)[0]",
        "dfgs": [
            9,
            10
        ],
        "fName": "test_src_test_java_org_apache_accumulo_test_UserCompactionStrategyIT.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 311,
        "lineEnd": 311,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 8,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [
            10
        ],
        "code": "c.tableOperations().create(tableName)",
        "dfgs": [
            10
        ],
        "fName": "test_src_test_java_org_apache_accumulo_test_UserCompactionStrategyIT.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 312,
        "lineEnd": 312,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 9,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [
            11
        ],
        "code": "writeRandomValue(c, tableName, 1 << 16)",
        "dfgs": [
            11
        ],
        "fName": "test_src_test_java_org_apache_accumulo_test_UserCompactionStrategyIT.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 315,
        "lineEnd": 315,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 10,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [
            12
        ],
        "code": "writeRandomValue(c, tableName, 1 << 16)",
        "dfgs": [
            12,
            15
        ],
        "fName": "test_src_test_java_org_apache_accumulo_test_UserCompactionStrategyIT.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 316,
        "lineEnd": 316,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 11,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [
            13
        ],
        "code": "c.tableOperations().compact(tableName, new CompactionConfig().setWait(false))",
        "dfgs": [
            13
        ],
        "fName": "test_src_test_java_org_apache_accumulo_test_UserCompactionStrategyIT.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 318,
        "lineEnd": 318,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 12,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [
            14
        ],
        "code": "c.tableOperations().compact(tableName, new CompactionConfig().setWait(true))",
        "dfgs": [
            14
        ],
        "fName": "test_src_test_java_org_apache_accumulo_test_UserCompactionStrategyIT.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 319,
        "lineEnd": 319,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 13,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [
            15
        ],
        "code": "Assert.assertEquals(1, FunctionalTestUtils.countRFiles(c, tableName))",
        "dfgs": [
            15,
            23
        ],
        "fName": "test_src_test_java_org_apache_accumulo_test_UserCompactionStrategyIT.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 321,
        "lineEnd": 321,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 14,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [
            16
        ],
        "code": "writeRandomValue(c, tableName, 1 << 16)",
        "dfgs": [
            19
        ],
        "fName": "test_src_test_java_org_apache_accumulo_test_UserCompactionStrategyIT.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 323,
        "lineEnd": 323,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 15,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [
            17
        ],
        "code": "IteratorSetting iterConfig = new IteratorSetting(30, SlowIterator.class)",
        "dfgs": [
            17
        ],
        "fName": "test_src_test_java_org_apache_accumulo_test_UserCompactionStrategyIT.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 325,
        "lineEnd": 325,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 16,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [
            18
        ],
        "code": "SlowIterator.setSleepTime(iterConfig, 1000)",
        "dfgs": [
            19
        ],
        "fName": "test_src_test_java_org_apache_accumulo_test_UserCompactionStrategyIT.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 326,
        "lineEnd": 326,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 17,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [
            19
        ],
        "code": "long t1 = System.currentTimeMillis()",
        "dfgs": [
            22
        ],
        "fName": "test_src_test_java_org_apache_accumulo_test_UserCompactionStrategyIT.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 328,
        "lineEnd": 328,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 18,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [
            20
        ],
        "code": "c.tableOperations().compact(tableName, new CompactionConfig().setWait(false).setIterators(Arrays.asList(iterConfig)))",
        "dfgs": [
            21
        ],
        "fName": "test_src_test_java_org_apache_accumulo_test_UserCompactionStrategyIT.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 329,
        "lineEnd": 329,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 19,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [
            21
        ],
        "code": "try ",
        "dfgs": [],
        "fName": "test_src_test_java_org_apache_accumulo_test_UserCompactionStrategyIT.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 330,
        "lineEnd": 330,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 20,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [
            22
        ],
        "code": "c.tableOperations().compact(tableName, new CompactionConfig().setWait(true))",
        "dfgs": [],
        "fName": "test_src_test_java_org_apache_accumulo_test_UserCompactionStrategyIT.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 332,
        "lineEnd": 332,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 21,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [
            23
        ],
        "code": "if (System.currentTimeMillis() - t1 < 2000)",
        "dfgs": [],
        "fName": "test_src_test_java_org_apache_accumulo_test_UserCompactionStrategyIT.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 333,
        "lineEnd": 333,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 22,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [],
        "code": "Assert.fail(\"Expected compaction to fail because another concurrent compaction set iterators\")",
        "dfgs": [],
        "fName": "test_src_test_java_org_apache_accumulo_test_UserCompactionStrategyIT.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 334,
        "lineEnd": 334,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 23,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [],
        "code": "catch (AccumuloException e)",
        "dfgs": [],
        "fName": "test_src_test_java_org_apache_accumulo_test_UserCompactionStrategyIT.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 335,
        "lineEnd": 335,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 24,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [
            26
        ],
        "code": "public boolean equals(Object o) ",
        "dfgs": [
            29,
            26,
            27
        ],
        "fName": "core_src_main_java_org_apache_accumulo_core_client_admin_CompactionStrategyConfig.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 76,
        "lineEnd": 76,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 25,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [
            27,
            29
        ],
        "code": "if (o instanceof CompactionStrategyConfig)",
        "dfgs": [
            27
        ],
        "fName": "core_src_main_java_org_apache_accumulo_core_client_admin_CompactionStrategyConfig.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 77,
        "lineEnd": 77,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 26,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [
            28
        ],
        "code": "CompactionStrategyConfig ocsc = (CompactionStrategyConfig) o",
        "dfgs": [
            28
        ],
        "fName": "core_src_main_java_org_apache_accumulo_core_client_admin_CompactionStrategyConfig.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 78,
        "lineEnd": 78,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 27,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [],
        "code": "return className.equals(ocsc.className) && options.equals(ocsc.options)",
        "dfgs": [],
        "fName": "core_src_main_java_org_apache_accumulo_core_client_admin_CompactionStrategyConfig.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 79,
        "lineEnd": 79,
        "lineMapIndex": -1,
        "methodParents": [
            25
        ],
        "nodeIndex": 28,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [],
        "code": "return false",
        "dfgs": [],
        "fName": "core_src_main_java_org_apache_accumulo_core_client_admin_CompactionStrategyConfig.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 82,
        "lineEnd": 82,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 29,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [],
        "code": "compactionStrategy = CompactionStrategyConfigUtil.DEFAULT_STRATEGY",
        "dfgs": [],
        "fName": "server_base_src_main_java_org_apache_accumulo_server_master_tableOps_UserCompactionConfig.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 49,
        "lineEnd": 49,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 30,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [],
        "code": "import java.util.Map",
        "dfgs": [],
        "fName": "core_src_main_java_org_apache_accumulo_core_client_impl_CompactionStrategyConfigUtil.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 28,
        "lineEnd": 28,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 31,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [],
        "code": "public static final CompactionStrategyConfig DEFAULT_STRATEGY = new CompactionStrategyConfig(\"org.apache.accumulo.tserver.compaction.EverythingCompactionStrategy\") {@Overridepublic CompactionStrategyConfig setOptions(Map<String,String> opts) {throw new UnsupportedOperationException();}}",
        "dfgs": [],
        "fName": "core_src_main_java_org_apache_accumulo_core_client_impl_CompactionStrategyConfigUtil.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 35,
        "lineEnd": 41,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 32,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [],
        "code": "import org.apache.accumulo.core.client.impl.CompactionStrategyConfigUtil",
        "dfgs": [],
        "fName": "core_src_main_java_org_apache_accumulo_core_client_admin_CompactionConfig.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 25,
        "lineEnd": 25,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 33,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [],
        "code": "private CompactionStrategyConfig compactionStrategy = CompactionStrategyConfigUtil.DEFAULT_STRATEGY",
        "dfgs": [],
        "fName": "core_src_main_java_org_apache_accumulo_core_client_admin_CompactionConfig.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 42,
        "lineEnd": 42,
        "lineMapIndex": 1,
        "methodParents": [],
        "nodeIndex": 34,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [],
        "code": "import org.apache.accumulo.core.client.impl.CompactionStrategyConfigUtil",
        "dfgs": [],
        "fName": "server_master_src_main_java_org_apache_accumulo_master_tableOps_CompactRange.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 34,
        "lineEnd": 34,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 35,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [],
        "code": "import com.google.common.base.Preconditions",
        "dfgs": [],
        "fName": "server_master_src_main_java_org_apache_accumulo_master_tableOps_CompactRange.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 65,
        "lineEnd": 65,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 36,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [
            38
        ],
        "code": "Preconditions.checkNotNull(tableId, \"Invalid argument: null tableId\")",
        "dfgs": [
            38
        ],
        "fName": "server_master_src_main_java_org_apache_accumulo_master_tableOps_CompactRange.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 214,
        "lineEnd": 214,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 37,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [
            39
        ],
        "code": "Preconditions.checkNotNull(iterators, \"Invalid argument: null iterator list\")",
        "dfgs": [
            39,
            40
        ],
        "fName": "server_master_src_main_java_org_apache_accumulo_master_tableOps_CompactRange.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 215,
        "lineEnd": 215,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 38,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [
            40
        ],
        "code": "Preconditions.checkNotNull(compactionStrategy, \"Invalid argument: null compactionStrategy\")",
        "dfgs": [
            40
        ],
        "fName": "server_master_src_main_java_org_apache_accumulo_master_tableOps_CompactRange.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 216,
        "lineEnd": 216,
        "lineMapIndex": -1,
        "methodParents": [],
        "nodeIndex": 39,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [],
        "code": "if (iterators.size() > 0 || !compactionStrategy.equals(CompactionStrategyConfigUtil.DEFAULT_STRATEGY))",
        "dfgs": [],
        "fName": "server_master_src_main_java_org_apache_accumulo_master_tableOps_CompactRange.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 222,
        "lineEnd": 222,
        "lineMapIndex": 2,
        "methodParents": [
            25
        ],
        "nodeIndex": 40,
        "rootcause": false,
        "commits": []
    },
    {
        "cfgs": [],
        "code": "throw new ThriftTableOperationException(tableId, null, TableOperation.COMPACT, TableOperationExceptionType.OTHER,\"Another compaction with iterators and/or a compaction strategy is running\")",
        "dfgs": [],
        "fName": "server_master_src_main_java_org_apache_accumulo_master_tableOps_CompactRange.java",
        "fieldParents": [],
        "isDel": false,
        "lineBeg": 259,
        "lineEnd": 260,
        "lineMapIndex": 3,
        "methodParents": [],
        "nodeIndex": 41,
        "rootcause": false,
        "commits": []
    }
]