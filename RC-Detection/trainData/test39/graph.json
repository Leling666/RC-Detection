[{"cfgs":[],"code":"import java.util.Arrays","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_UpgradeCatalog250.java","fieldParents":[],"isDel":true,"lineBeg":22,"lineEnd":22,"lineMapIndex":-1,"methodParents":[],"nodeIndex":0},{"cfgs":[],"code":"createRoleAuthorizations()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_UpgradeCatalog250.java","fieldParents":[],"isDel":true,"lineBeg":134,"lineEnd":134,"lineMapIndex":-1,"methodParents":[2],"nodeIndex":1},{"cfgs":[3],"code":"protected void createRoleAuthorizations() throws SQLException ","dfgs":[3,4,5],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_UpgradeCatalog250.java","fieldParents":[],"isDel":true,"lineBeg":200,"lineEnd":200,"lineMapIndex":-1,"methodParents":[],"nodeIndex":2},{"cfgs":[4],"code":"LOG.info(\"Adding authorizations\")","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_UpgradeCatalog250.java","fieldParents":[],"isDel":true,"lineBeg":201,"lineEnd":201,"lineMapIndex":-1,"methodParents":[],"nodeIndex":3},{"cfgs":[5],"code":"addRoleAuthorization(\"CLUSTER.RUN_CUSTOM_COMMAND\", \"Perform custom cluster-level actions\",Arrays.asList(\"AMBARI.ADMINISTRATOR:AMBARI\", \"CLUSTER.ADMINISTRATOR:CLUSTER\"))","dfgs":[5],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_UpgradeCatalog250.java","fieldParents":[],"isDel":true,"lineBeg":203,"lineEnd":204,"lineMapIndex":-1,"methodParents":[],"nodeIndex":4},{"cfgs":[],"code":"addRoleAuthorization(\"AMBARI.RUN_CUSTOM_COMMAND\", \"Perform custom administrative actions\",Collections.singletonList(\"AMBARI.ADMINISTRATOR:AMBARI\"))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_UpgradeCatalog250.java","fieldParents":[],"isDel":true,"lineBeg":206,"lineEnd":207,"lineMapIndex":-1,"methodParents":[],"nodeIndex":5},{"cfgs":[],"code":"import static org.easymock.EasyMock.aryEq","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":true,"lineBeg":25,"lineEnd":25,"lineMapIndex":66,"methodParents":[],"nodeIndex":6},{"cfgs":[],"code":"import java.sql.SQLException","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":39,"lineEnd":39,"lineMapIndex":-1,"methodParents":[],"nodeIndex":7},{"cfgs":[],"code":"import java.util.ArrayList","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":41,"lineEnd":41,"lineMapIndex":-1,"methodParents":[],"nodeIndex":8},{"cfgs":[],"code":"import java.util.Collection","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":42,"lineEnd":42,"lineMapIndex":-1,"methodParents":[],"nodeIndex":9},{"cfgs":[],"code":"import org.apache.ambari.server.AmbariException","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":49,"lineEnd":49,"lineMapIndex":-1,"methodParents":[],"nodeIndex":10},{"cfgs":[],"code":"import org.apache.ambari.server.orm.dao.PermissionDAO","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":57,"lineEnd":57,"lineMapIndex":-1,"methodParents":[],"nodeIndex":11},{"cfgs":[],"code":"import org.apache.ambari.server.orm.dao.ResourceTypeDAO","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":58,"lineEnd":58,"lineMapIndex":-1,"methodParents":[],"nodeIndex":12},{"cfgs":[],"code":"import org.apache.ambari.server.orm.dao.RoleAuthorizationDAO","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":59,"lineEnd":59,"lineMapIndex":-1,"methodParents":[],"nodeIndex":13},{"cfgs":[],"code":"import org.apache.ambari.server.orm.entities.PermissionEntity","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":60,"lineEnd":60,"lineMapIndex":-1,"methodParents":[],"nodeIndex":14},{"cfgs":[],"code":"import org.apache.ambari.server.orm.entities.ResourceTypeEntity","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":61,"lineEnd":61,"lineMapIndex":-1,"methodParents":[],"nodeIndex":15},{"cfgs":[],"code":"import org.apache.ambari.server.orm.entities.RoleAuthorizationEntity","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":62,"lineEnd":62,"lineMapIndex":-1,"methodParents":[],"nodeIndex":16},{"cfgs":[18],"code":"Method createRoleAuthorizations = UpgradeCatalog250.class.getDeclaredMethod(\"createRoleAuthorizations\")","dfgs":[18],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":212,"lineEnd":212,"lineMapIndex":-1,"methodParents":[],"nodeIndex":17},{"cfgs":[19],"code":"UpgradeCatalog250 upgradeCatalog250 = createMockBuilder(UpgradeCatalog250.class).addMockedMethod(updateAmsConfigs).addMockedMethod(createRoleAuthorizations).addMockedMethod(updateKafkaConfigs).createMock()","dfgs":[19,20],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":215,"lineEnd":219,"lineMapIndex":-1,"methodParents":[],"nodeIndex":18},{"cfgs":[20],"code":"upgradeCatalog250.createRoleAuthorizations()","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":224,"lineEnd":224,"lineMapIndex":-1,"methodParents":[2],"nodeIndex":19},{"cfgs":[],"code":"expectLastCall().once()","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":225,"lineEnd":225,"lineMapIndex":-1,"methodParents":[],"nodeIndex":20},{"cfgs":[],"code":"public void testCreateRoleAuthorizations() throws AmbariException, SQLException ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":309,"lineEnd":309,"lineMapIndex":-1,"methodParents":[],"nodeIndex":21},{"cfgs":[23],"code":"EasyMockSupport easyMockSupport = new EasyMockSupport()","dfgs":[23],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":311,"lineEnd":311,"lineMapIndex":-1,"methodParents":[],"nodeIndex":22},{"cfgs":[24],"code":"ResourceTypeEntity ambariResourceTypeEntity = easyMockSupport.createMock(ResourceTypeEntity.class)","dfgs":[24,32],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":313,"lineEnd":313,"lineMapIndex":-1,"methodParents":[],"nodeIndex":23},{"cfgs":[25],"code":"ResourceTypeEntity clusterResourceTypeEntity = easyMockSupport.createMock(ResourceTypeEntity.class)","dfgs":[27,33],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":315,"lineEnd":315,"lineMapIndex":-1,"methodParents":[],"nodeIndex":24},{"cfgs":[26],"code":"Collection<RoleAuthorizationEntity> ambariAdministratorAuthorizations = new ArrayList<RoleAuthorizationEntity>()","dfgs":[30],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":317,"lineEnd":317,"lineMapIndex":-1,"methodParents":[],"nodeIndex":25},{"cfgs":[27],"code":"Collection<RoleAuthorizationEntity> clusterAdministratorAuthorizations = new ArrayList<RoleAuthorizationEntity>()","dfgs":[28],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":318,"lineEnd":318,"lineMapIndex":-1,"methodParents":[],"nodeIndex":26},{"cfgs":[28],"code":"PermissionEntity clusterAdministratorPermissionEntity = easyMockSupport.createMock(PermissionEntity.class)","dfgs":[29,28],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":320,"lineEnd":320,"lineMapIndex":-1,"methodParents":[],"nodeIndex":27},{"cfgs":[29],"code":"expect(clusterAdministratorPermissionEntity.getAuthorizations()).andReturn(clusterAdministratorAuthorizations).times(1)","dfgs":[33,64,30],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":321,"lineEnd":323,"lineMapIndex":-1,"methodParents":[],"nodeIndex":28},{"cfgs":[30],"code":"PermissionEntity ambariAdministratorPermissionEntity = easyMockSupport.createMock(PermissionEntity.class)","dfgs":[31,30],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":325,"lineEnd":325,"lineMapIndex":-1,"methodParents":[],"nodeIndex":29},{"cfgs":[31],"code":"expect(ambariAdministratorPermissionEntity.getAuthorizations()).andReturn(ambariAdministratorAuthorizations).times(2)","dfgs":[32,61],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":326,"lineEnd":328,"lineMapIndex":-1,"methodParents":[],"nodeIndex":30},{"cfgs":[32],"code":"PermissionDAO permissionDAO = easyMockSupport.createMock(PermissionDAO.class)","dfgs":[36,32,50],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":330,"lineEnd":330,"lineMapIndex":-1,"methodParents":[],"nodeIndex":31},{"cfgs":[33],"code":"expect(permissionDAO.findPermissionByNameAndType(\"AMBARI.ADMINISTRATOR\", ambariResourceTypeEntity)).andReturn(ambariAdministratorPermissionEntity).times(2)","dfgs":[37,33,34],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":331,"lineEnd":333,"lineMapIndex":-1,"methodParents":[],"nodeIndex":32},{"cfgs":[34],"code":"expect(permissionDAO.findPermissionByNameAndType(\"CLUSTER.ADMINISTRATOR\", clusterResourceTypeEntity)).andReturn(clusterAdministratorPermissionEntity).times(1)","dfgs":[38,34,35],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":334,"lineEnd":336,"lineMapIndex":-1,"methodParents":[],"nodeIndex":33},{"cfgs":[35],"code":"expect(permissionDAO.merge(ambariAdministratorPermissionEntity)).andReturn(ambariAdministratorPermissionEntity).times(2)","dfgs":[35],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":337,"lineEnd":339,"lineMapIndex":-1,"methodParents":[],"nodeIndex":34},{"cfgs":[36],"code":"expect(permissionDAO.merge(clusterAdministratorPermissionEntity)).andReturn(clusterAdministratorPermissionEntity).times(1)","dfgs":[50,37],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":340,"lineEnd":342,"lineMapIndex":-1,"methodParents":[],"nodeIndex":35},{"cfgs":[37],"code":"ResourceTypeDAO resourceTypeDAO = easyMockSupport.createMock(ResourceTypeDAO.class)","dfgs":[39,37,51],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":344,"lineEnd":344,"lineMapIndex":-1,"methodParents":[],"nodeIndex":36},{"cfgs":[38],"code":"expect(resourceTypeDAO.findByName(\"AMBARI\")).andReturn(ambariResourceTypeEntity).times(2)","dfgs":[38],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":345,"lineEnd":345,"lineMapIndex":-1,"methodParents":[],"nodeIndex":37},{"cfgs":[39],"code":"expect(resourceTypeDAO.findByName(\"CLUSTER\")).andReturn(clusterResourceTypeEntity).times(1)","dfgs":[51,40],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":346,"lineEnd":346,"lineMapIndex":-1,"methodParents":[],"nodeIndex":38},{"cfgs":[40],"code":"RoleAuthorizationDAO roleAuthorizationDAO = easyMockSupport.createMock(RoleAuthorizationDAO.class)","dfgs":[48,40,49],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":348,"lineEnd":348,"lineMapIndex":-1,"methodParents":[],"nodeIndex":39},{"cfgs":[41],"code":"expect(roleAuthorizationDAO.findById(\"CLUSTER.RUN_CUSTOM_COMMAND\")).andReturn(null).times(1)","dfgs":[41],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":349,"lineEnd":349,"lineMapIndex":-1,"methodParents":[],"nodeIndex":40},{"cfgs":[42],"code":"expect(roleAuthorizationDAO.findById(\"AMBARI.RUN_CUSTOM_COMMAND\")).andReturn(null).times(1)","dfgs":[43,42],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":350,"lineEnd":350,"lineMapIndex":-1,"methodParents":[],"nodeIndex":41},{"cfgs":[43],"code":"Capture<RoleAuthorizationEntity> captureClusterRunCustomCommandEntity = newCapture()","dfgs":[43],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":352,"lineEnd":352,"lineMapIndex":-1,"methodParents":[],"nodeIndex":42},{"cfgs":[44],"code":"roleAuthorizationDAO.create(capture(captureClusterRunCustomCommandEntity))","dfgs":[46,44,56],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":353,"lineEnd":353,"lineMapIndex":-1,"methodParents":[],"nodeIndex":43},{"cfgs":[45],"code":"expectLastCall().times(1)","dfgs":[45],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":354,"lineEnd":354,"lineMapIndex":-1,"methodParents":[],"nodeIndex":44},{"cfgs":[46],"code":"Capture<RoleAuthorizationEntity> captureAmbariRunCustomCommandEntity = newCapture()","dfgs":[46],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":356,"lineEnd":356,"lineMapIndex":-1,"methodParents":[],"nodeIndex":45},{"cfgs":[47],"code":"roleAuthorizationDAO.create(capture(captureAmbariRunCustomCommandEntity))","dfgs":[47,49,55],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":357,"lineEnd":357,"lineMapIndex":-1,"methodParents":[],"nodeIndex":46},{"cfgs":[48],"code":"expectLastCall().times(1)","dfgs":[49],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":358,"lineEnd":358,"lineMapIndex":-1,"methodParents":[],"nodeIndex":47},{"cfgs":[49],"code":"Injector injector = easyMockSupport.createNiceMock(Injector.class)","dfgs":[52,49],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":360,"lineEnd":360,"lineMapIndex":-1,"methodParents":[],"nodeIndex":48},{"cfgs":[50],"code":"expect(injector.getInstance(RoleAuthorizationDAO.class)).andReturn(roleAuthorizationDAO).atLeastOnce()","dfgs":[50],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":361,"lineEnd":361,"lineMapIndex":-1,"methodParents":[],"nodeIndex":49},{"cfgs":[51],"code":"expect(injector.getInstance(PermissionDAO.class)).andReturn(permissionDAO).atLeastOnce()","dfgs":[51],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":362,"lineEnd":362,"lineMapIndex":-1,"methodParents":[],"nodeIndex":50},{"cfgs":[52],"code":"expect(injector.getInstance(ResourceTypeDAO.class)).andReturn(resourceTypeDAO).atLeastOnce()","dfgs":[53],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":363,"lineEnd":363,"lineMapIndex":-1,"methodParents":[],"nodeIndex":51},{"cfgs":[53],"code":"easyMockSupport.replayAll()","dfgs":[54],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":365,"lineEnd":365,"lineMapIndex":-1,"methodParents":[],"nodeIndex":52},{"cfgs":[54],"code":"new UpgradeCatalog250(injector).createRoleAuthorizations()","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":366,"lineEnd":366,"lineMapIndex":-1,"methodParents":[2],"nodeIndex":53},{"cfgs":[55],"code":"easyMockSupport.verifyAll()","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":367,"lineEnd":367,"lineMapIndex":-1,"methodParents":[],"nodeIndex":54},{"cfgs":[56],"code":"RoleAuthorizationEntity ambariRunCustomCommandEntity = captureAmbariRunCustomCommandEntity.getValue()","dfgs":[57],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":369,"lineEnd":369,"lineMapIndex":-1,"methodParents":[],"nodeIndex":55},{"cfgs":[57],"code":"RoleAuthorizationEntity clusterRunCustomCommandEntity = captureClusterRunCustomCommandEntity.getValue()","dfgs":[59],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":370,"lineEnd":370,"lineMapIndex":-1,"methodParents":[],"nodeIndex":56},{"cfgs":[58],"code":"Assert.assertEquals(\"AMBARI.RUN_CUSTOM_COMMAND\", ambariRunCustomCommandEntity.getAuthorizationId())","dfgs":[58],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":372,"lineEnd":372,"lineMapIndex":-1,"methodParents":[],"nodeIndex":57},{"cfgs":[59],"code":"Assert.assertEquals(\"Perform custom administrative actions\", ambariRunCustomCommandEntity.getAuthorizationName())","dfgs":[59,63],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":373,"lineEnd":373,"lineMapIndex":-1,"methodParents":[],"nodeIndex":58},{"cfgs":[60],"code":"Assert.assertEquals(\"CLUSTER.RUN_CUSTOM_COMMAND\", clusterRunCustomCommandEntity.getAuthorizationId())","dfgs":[60],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":375,"lineEnd":375,"lineMapIndex":-1,"methodParents":[],"nodeIndex":59},{"cfgs":[61],"code":"Assert.assertEquals(\"Perform custom cluster-level actions\", clusterRunCustomCommandEntity.getAuthorizationName())","dfgs":[61,62],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":376,"lineEnd":376,"lineMapIndex":-1,"methodParents":[],"nodeIndex":60},{"cfgs":[62],"code":"Assert.assertEquals(2, ambariAdministratorAuthorizations.size())","dfgs":[62],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":378,"lineEnd":378,"lineMapIndex":-1,"methodParents":[],"nodeIndex":61},{"cfgs":[63],"code":"Assert.assertTrue(ambariAdministratorAuthorizations.contains(clusterRunCustomCommandEntity))","dfgs":[63,65],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":379,"lineEnd":379,"lineMapIndex":-1,"methodParents":[],"nodeIndex":62},{"cfgs":[64],"code":"Assert.assertTrue(ambariAdministratorAuthorizations.contains(ambariRunCustomCommandEntity))","dfgs":[64],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":380,"lineEnd":380,"lineMapIndex":-1,"methodParents":[],"nodeIndex":63},{"cfgs":[65],"code":"Assert.assertEquals(1, clusterAdministratorAuthorizations.size())","dfgs":[65],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":382,"lineEnd":382,"lineMapIndex":-1,"methodParents":[],"nodeIndex":64},{"cfgs":[],"code":"Assert.assertTrue(clusterAdministratorAuthorizations.contains(clusterRunCustomCommandEntity))","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog250Test.java","fieldParents":[],"isDel":true,"lineBeg":383,"lineEnd":383,"lineMapIndex":-1,"methodParents":[],"nodeIndex":65},{"cfgs":[],"code":"import static org.easymock.EasyMock.aryEq","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":23,"lineEnd":23,"lineMapIndex":6,"methodParents":[],"nodeIndex":66},{"cfgs":[],"code":"import java.util.Collection","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":41,"lineEnd":41,"lineMapIndex":-1,"methodParents":[],"nodeIndex":67},{"cfgs":[],"code":"import org.apache.ambari.server.orm.dao.ResourceTypeDAO","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":61,"lineEnd":61,"lineMapIndex":-1,"methodParents":[],"nodeIndex":68},{"cfgs":[],"code":"import org.apache.ambari.server.orm.dao.RoleAuthorizationDAO","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":62,"lineEnd":62,"lineMapIndex":-1,"methodParents":[],"nodeIndex":69},{"cfgs":[],"code":"import org.apache.ambari.server.orm.entities.ResourceTypeEntity","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":69,"lineEnd":69,"lineMapIndex":-1,"methodParents":[],"nodeIndex":70},{"cfgs":[],"code":"import org.apache.ambari.server.orm.entities.RoleAuthorizationEntity","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":70,"lineEnd":70,"lineMapIndex":-1,"methodParents":[],"nodeIndex":71},{"cfgs":[73],"code":"Method createRoleAuthorizations = UpgradeCatalog242.class.getDeclaredMethod(\"createRoleAuthorizations\")","dfgs":[73],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":247,"lineEnd":247,"lineMapIndex":-1,"methodParents":[],"nodeIndex":72},{"cfgs":[74],"code":"UpgradeCatalog242 upgradeCatalog242 = createMockBuilder(UpgradeCatalog242.class).addMockedMethod(addNewConfigurationsFromXml).addMockedMethod(convertRolePrincipals).addMockedMethod(createRoleAuthorizations).createMock()","dfgs":[74,75],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":249,"lineEnd":253,"lineMapIndex":-1,"methodParents":[],"nodeIndex":73},{"cfgs":[75],"code":"upgradeCatalog242.createRoleAuthorizations()","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":259,"lineEnd":259,"lineMapIndex":-1,"methodParents":[124],"nodeIndex":74},{"cfgs":[],"code":"expectLastCall().once()","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":260,"lineEnd":260,"lineMapIndex":-1,"methodParents":[],"nodeIndex":75},{"cfgs":[],"code":"public void testCreateRoleAuthorizations() throws AmbariException, SQLException ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":380,"lineEnd":380,"lineMapIndex":-1,"methodParents":[],"nodeIndex":76},{"cfgs":[78],"code":"EasyMockSupport easyMockSupport = new EasyMockSupport()","dfgs":[78],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":382,"lineEnd":382,"lineMapIndex":-1,"methodParents":[],"nodeIndex":77},{"cfgs":[79],"code":"ResourceTypeEntity ambariResourceTypeEntity = easyMockSupport.createMock(ResourceTypeEntity.class)","dfgs":[79,87],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":384,"lineEnd":384,"lineMapIndex":-1,"methodParents":[],"nodeIndex":78},{"cfgs":[80],"code":"ResourceTypeEntity clusterResourceTypeEntity = easyMockSupport.createMock(ResourceTypeEntity.class)","dfgs":[82,88],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":386,"lineEnd":386,"lineMapIndex":-1,"methodParents":[],"nodeIndex":79},{"cfgs":[81],"code":"Collection<RoleAuthorizationEntity> ambariAdministratorAuthorizations = new ArrayList<RoleAuthorizationEntity>()","dfgs":[85],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":388,"lineEnd":388,"lineMapIndex":-1,"methodParents":[],"nodeIndex":80},{"cfgs":[82],"code":"Collection<RoleAuthorizationEntity> clusterAdministratorAuthorizations = new ArrayList<RoleAuthorizationEntity>()","dfgs":[83],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":389,"lineEnd":389,"lineMapIndex":-1,"methodParents":[],"nodeIndex":81},{"cfgs":[83],"code":"PermissionEntity clusterAdministratorPermissionEntity = easyMockSupport.createMock(PermissionEntity.class)","dfgs":[84,83],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":391,"lineEnd":391,"lineMapIndex":-1,"methodParents":[],"nodeIndex":82},{"cfgs":[84],"code":"expect(clusterAdministratorPermissionEntity.getAuthorizations()).andReturn(clusterAdministratorAuthorizations).times(1)","dfgs":[88,119,85],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":392,"lineEnd":394,"lineMapIndex":-1,"methodParents":[],"nodeIndex":83},{"cfgs":[85],"code":"PermissionEntity ambariAdministratorPermissionEntity = easyMockSupport.createMock(PermissionEntity.class)","dfgs":[86,85],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":396,"lineEnd":396,"lineMapIndex":-1,"methodParents":[],"nodeIndex":84},{"cfgs":[86],"code":"expect(ambariAdministratorPermissionEntity.getAuthorizations()).andReturn(ambariAdministratorAuthorizations).times(2)","dfgs":[87,116],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":397,"lineEnd":399,"lineMapIndex":-1,"methodParents":[],"nodeIndex":85},{"cfgs":[87],"code":"PermissionDAO permissionDAO = easyMockSupport.createMock(PermissionDAO.class)","dfgs":[91,87,105],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":401,"lineEnd":401,"lineMapIndex":-1,"methodParents":[],"nodeIndex":86},{"cfgs":[88],"code":"expect(permissionDAO.findPermissionByNameAndType(\"AMBARI.ADMINISTRATOR\", ambariResourceTypeEntity)).andReturn(ambariAdministratorPermissionEntity).times(2)","dfgs":[92,88,89],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":402,"lineEnd":404,"lineMapIndex":-1,"methodParents":[],"nodeIndex":87},{"cfgs":[89],"code":"expect(permissionDAO.findPermissionByNameAndType(\"CLUSTER.ADMINISTRATOR\", clusterResourceTypeEntity)).andReturn(clusterAdministratorPermissionEntity).times(1)","dfgs":[93,89,90],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":405,"lineEnd":407,"lineMapIndex":-1,"methodParents":[],"nodeIndex":88},{"cfgs":[90],"code":"expect(permissionDAO.merge(ambariAdministratorPermissionEntity)).andReturn(ambariAdministratorPermissionEntity).times(2)","dfgs":[90],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":408,"lineEnd":410,"lineMapIndex":-1,"methodParents":[],"nodeIndex":89},{"cfgs":[91],"code":"expect(permissionDAO.merge(clusterAdministratorPermissionEntity)).andReturn(clusterAdministratorPermissionEntity).times(1)","dfgs":[105,92],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":411,"lineEnd":413,"lineMapIndex":-1,"methodParents":[],"nodeIndex":90},{"cfgs":[92],"code":"ResourceTypeDAO resourceTypeDAO = easyMockSupport.createMock(ResourceTypeDAO.class)","dfgs":[94,92,106],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":415,"lineEnd":415,"lineMapIndex":-1,"methodParents":[],"nodeIndex":91},{"cfgs":[93],"code":"expect(resourceTypeDAO.findByName(\"AMBARI\")).andReturn(ambariResourceTypeEntity).times(2)","dfgs":[93],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":416,"lineEnd":416,"lineMapIndex":-1,"methodParents":[],"nodeIndex":92},{"cfgs":[94],"code":"expect(resourceTypeDAO.findByName(\"CLUSTER\")).andReturn(clusterResourceTypeEntity).times(1)","dfgs":[106,95],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":417,"lineEnd":417,"lineMapIndex":-1,"methodParents":[],"nodeIndex":93},{"cfgs":[95],"code":"RoleAuthorizationDAO roleAuthorizationDAO = easyMockSupport.createMock(RoleAuthorizationDAO.class)","dfgs":[103,95,104],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":419,"lineEnd":419,"lineMapIndex":-1,"methodParents":[],"nodeIndex":94},{"cfgs":[96],"code":"expect(roleAuthorizationDAO.findById(\"CLUSTER.RUN_CUSTOM_COMMAND\")).andReturn(null).times(1)","dfgs":[96],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":420,"lineEnd":420,"lineMapIndex":-1,"methodParents":[],"nodeIndex":95},{"cfgs":[97],"code":"expect(roleAuthorizationDAO.findById(\"AMBARI.RUN_CUSTOM_COMMAND\")).andReturn(null).times(1)","dfgs":[98,97],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":421,"lineEnd":421,"lineMapIndex":-1,"methodParents":[],"nodeIndex":96},{"cfgs":[98],"code":"Capture<RoleAuthorizationEntity> captureClusterRunCustomCommandEntity = newCapture()","dfgs":[98],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":423,"lineEnd":423,"lineMapIndex":-1,"methodParents":[],"nodeIndex":97},{"cfgs":[99],"code":"roleAuthorizationDAO.create(capture(captureClusterRunCustomCommandEntity))","dfgs":[101,99,111],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":424,"lineEnd":424,"lineMapIndex":-1,"methodParents":[],"nodeIndex":98},{"cfgs":[100],"code":"expectLastCall().times(1)","dfgs":[100],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":425,"lineEnd":425,"lineMapIndex":-1,"methodParents":[],"nodeIndex":99},{"cfgs":[101],"code":"Capture<RoleAuthorizationEntity> captureAmbariRunCustomCommandEntity = newCapture()","dfgs":[101],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":427,"lineEnd":427,"lineMapIndex":-1,"methodParents":[],"nodeIndex":100},{"cfgs":[102],"code":"roleAuthorizationDAO.create(capture(captureAmbariRunCustomCommandEntity))","dfgs":[102,104,110],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":428,"lineEnd":428,"lineMapIndex":-1,"methodParents":[],"nodeIndex":101},{"cfgs":[103],"code":"expectLastCall().times(1)","dfgs":[104],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":429,"lineEnd":429,"lineMapIndex":-1,"methodParents":[],"nodeIndex":102},{"cfgs":[104],"code":"Injector injector = easyMockSupport.createNiceMock(Injector.class)","dfgs":[107,104],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":431,"lineEnd":431,"lineMapIndex":-1,"methodParents":[],"nodeIndex":103},{"cfgs":[105],"code":"expect(injector.getInstance(RoleAuthorizationDAO.class)).andReturn(roleAuthorizationDAO).atLeastOnce()","dfgs":[105],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":432,"lineEnd":432,"lineMapIndex":-1,"methodParents":[],"nodeIndex":104},{"cfgs":[106],"code":"expect(injector.getInstance(PermissionDAO.class)).andReturn(permissionDAO).atLeastOnce()","dfgs":[106],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":433,"lineEnd":433,"lineMapIndex":-1,"methodParents":[],"nodeIndex":105},{"cfgs":[107],"code":"expect(injector.getInstance(ResourceTypeDAO.class)).andReturn(resourceTypeDAO).atLeastOnce()","dfgs":[108],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":434,"lineEnd":434,"lineMapIndex":-1,"methodParents":[],"nodeIndex":106},{"cfgs":[108],"code":"easyMockSupport.replayAll()","dfgs":[109],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":436,"lineEnd":436,"lineMapIndex":-1,"methodParents":[],"nodeIndex":107},{"cfgs":[109],"code":"new UpgradeCatalog242(injector).createRoleAuthorizations()","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":437,"lineEnd":437,"lineMapIndex":-1,"methodParents":[124],"nodeIndex":108},{"cfgs":[110],"code":"easyMockSupport.verifyAll()","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":438,"lineEnd":438,"lineMapIndex":-1,"methodParents":[],"nodeIndex":109},{"cfgs":[111],"code":"RoleAuthorizationEntity ambariRunCustomCommandEntity = captureAmbariRunCustomCommandEntity.getValue()","dfgs":[112],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":440,"lineEnd":440,"lineMapIndex":-1,"methodParents":[],"nodeIndex":110},{"cfgs":[112],"code":"RoleAuthorizationEntity clusterRunCustomCommandEntity = captureClusterRunCustomCommandEntity.getValue()","dfgs":[114],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":441,"lineEnd":441,"lineMapIndex":-1,"methodParents":[],"nodeIndex":111},{"cfgs":[113],"code":"Assert.assertEquals(\"AMBARI.RUN_CUSTOM_COMMAND\", ambariRunCustomCommandEntity.getAuthorizationId())","dfgs":[113],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":443,"lineEnd":443,"lineMapIndex":-1,"methodParents":[],"nodeIndex":112},{"cfgs":[114],"code":"Assert.assertEquals(\"Perform custom administrative actions\", ambariRunCustomCommandEntity.getAuthorizationName())","dfgs":[114,118],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":444,"lineEnd":444,"lineMapIndex":-1,"methodParents":[],"nodeIndex":113},{"cfgs":[115],"code":"Assert.assertEquals(\"CLUSTER.RUN_CUSTOM_COMMAND\", clusterRunCustomCommandEntity.getAuthorizationId())","dfgs":[115],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":446,"lineEnd":446,"lineMapIndex":-1,"methodParents":[],"nodeIndex":114},{"cfgs":[116],"code":"Assert.assertEquals(\"Perform custom cluster-level actions\", clusterRunCustomCommandEntity.getAuthorizationName())","dfgs":[116,117],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":447,"lineEnd":447,"lineMapIndex":-1,"methodParents":[],"nodeIndex":115},{"cfgs":[117],"code":"Assert.assertEquals(2, ambariAdministratorAuthorizations.size())","dfgs":[117],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":449,"lineEnd":449,"lineMapIndex":-1,"methodParents":[],"nodeIndex":116},{"cfgs":[118],"code":"Assert.assertTrue(ambariAdministratorAuthorizations.contains(clusterRunCustomCommandEntity))","dfgs":[118,120],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":450,"lineEnd":450,"lineMapIndex":-1,"methodParents":[],"nodeIndex":117},{"cfgs":[119],"code":"Assert.assertTrue(ambariAdministratorAuthorizations.contains(ambariRunCustomCommandEntity))","dfgs":[119],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":451,"lineEnd":451,"lineMapIndex":-1,"methodParents":[],"nodeIndex":118},{"cfgs":[120],"code":"Assert.assertEquals(1, clusterAdministratorAuthorizations.size())","dfgs":[120],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":453,"lineEnd":453,"lineMapIndex":-1,"methodParents":[],"nodeIndex":119},{"cfgs":[],"code":"Assert.assertTrue(clusterAdministratorAuthorizations.contains(clusterRunCustomCommandEntity))","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_upgrade_UpgradeCatalog242Test.java","fieldParents":[],"isDel":false,"lineBeg":454,"lineEnd":454,"lineMapIndex":-1,"methodParents":[],"nodeIndex":120},{"cfgs":[],"code":"import java.util.Arrays","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_UpgradeCatalog242.java","fieldParents":[],"isDel":false,"lineBeg":22,"lineEnd":22,"lineMapIndex":-1,"methodParents":[],"nodeIndex":121},{"cfgs":[],"code":"import java.util.Collections","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_UpgradeCatalog242.java","fieldParents":[],"isDel":false,"lineBeg":23,"lineEnd":23,"lineMapIndex":-1,"methodParents":[],"nodeIndex":122},{"cfgs":[],"code":"createRoleAuthorizations()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_UpgradeCatalog242.java","fieldParents":[],"isDel":false,"lineBeg":128,"lineEnd":128,"lineMapIndex":-1,"methodParents":[124],"nodeIndex":123},{"cfgs":[],"code":"protected void createRoleAuthorizations() throws SQLException ","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_UpgradeCatalog242.java","fieldParents":[],"isDel":false,"lineBeg":138,"lineEnd":138,"lineMapIndex":-1,"methodParents":[],"nodeIndex":124},{"cfgs":[126],"code":"addRoleAuthorization(\"CLUSTER.RUN_CUSTOM_COMMAND\", \"Perform custom cluster-level actions\",Arrays.asList(\"AMBARI.ADMINISTRATOR:AMBARI\", \"CLUSTER.ADMINISTRATOR:CLUSTER\"))","dfgs":[126],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_UpgradeCatalog242.java","fieldParents":[],"isDel":false,"lineBeg":139,"lineEnd":140,"lineMapIndex":-1,"methodParents":[],"nodeIndex":125},{"cfgs":[],"code":"addRoleAuthorization(\"AMBARI.RUN_CUSTOM_COMMAND\", \"Perform custom administrative actions\",Collections.singletonList(\"AMBARI.ADMINISTRATOR:AMBARI\"))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_upgrade_UpgradeCatalog242.java","fieldParents":[],"isDel":false,"lineBeg":142,"lineEnd":143,"lineMapIndex":-1,"methodParents":[],"nodeIndex":126}]