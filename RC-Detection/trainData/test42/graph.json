[{"cfgs":[],"code":"configurationProcessor.doUpdateForClusterCreate()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_ClusterConfigurationRequest.java","fieldParents":[],"isDel":true,"lineBeg":71,"lineEnd":71,"lineMapIndex":23,"methodParents":[],"nodeIndex":0},{"cfgs":[],"code":"System.out.printf(\"TopologyManager: Queueing available host %s\\n\", hostName)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_TopologyManager.java","fieldParents":[],"isDel":true,"lineBeg":177,"lineEnd":177,"lineMapIndex":29,"methodParents":[],"nodeIndex":1},{"cfgs":[6,3],"code":"System.out.println(\"TopologyManager.ConfigureClusterTask: Entering\")","dfgs":[6,3],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_TopologyManager.java","fieldParents":[],"isDel":true,"lineBeg":503,"lineEnd":503,"lineMapIndex":30,"methodParents":[],"nodeIndex":2},{"cfgs":[5,4],"code":"System.out.println(\"TopologyManager.ConfigureClusterTask: Setting Configuration on cluster\")","dfgs":[5,4],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_TopologyManager.java","fieldParents":[],"isDel":true,"lineBeg":523,"lineEnd":523,"lineMapIndex":31,"methodParents":[],"nodeIndex":3},{"cfgs":[5],"code":"System.out.println(\"TopologyManager.ConfigureClusterTask: \" +\"An exception occurred while attempting to process cluster configs and set on cluster\")","dfgs":[5],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_TopologyManager.java","fieldParents":[],"isDel":true,"lineBeg":528,"lineEnd":529,"lineMapIndex":32,"methodParents":[],"nodeIndex":4},{"cfgs":[6],"code":"System.out.println(\"TopologyManager.ConfigureClusterTask: Setting configure complete flag to true\")","dfgs":[6],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_TopologyManager.java","fieldParents":[],"isDel":true,"lineBeg":534,"lineEnd":534,"lineMapIndex":33,"methodParents":[],"nodeIndex":5},{"cfgs":[],"code":"System.out.println(\"TopologyManager.ConfigureClusterTask: Exiting\")","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_TopologyManager.java","fieldParents":[],"isDel":true,"lineBeg":541,"lineEnd":541,"lineMapIndex":34,"methodParents":[],"nodeIndex":6},{"cfgs":[8],"code":"System.out.println(\"Caught an error from Config Processor: \" + e)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_TopologyManager.java","fieldParents":[],"isDel":true,"lineBeg":553,"lineEnd":553,"lineMapIndex":35,"methodParents":[],"nodeIndex":7},{"cfgs":[],"code":"throw e","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_TopologyManager.java","fieldParents":[],"isDel":true,"lineBeg":554,"lineEnd":554,"lineMapIndex":-1,"methodParents":[],"nodeIndex":8},{"cfgs":[],"code":"public String updateForClusterCreate(String propertyName,String origValue,Map<String, Map<String, String>> properties,ClusterTopology topology)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":true,"lineBeg":639,"lineEnd":642,"lineMapIndex":38,"methodParents":[],"nodeIndex":9},{"cfgs":[],"code":"public Collection<String> getRequiredHostGroups(String origValue,Map<String, Map<String, String>> properties,ClusterTopology topology)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":true,"lineBeg":644,"lineEnd":646,"lineMapIndex":39,"methodParents":[],"nodeIndex":10},{"cfgs":[12],"code":"if (matchingGroups.size() == 1)","dfgs":[16,12],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":true,"lineBeg":795,"lineEnd":795,"lineMapIndex":41,"methodParents":[],"nodeIndex":11},{"cfgs":[13,16],"code":"if (topology.isNameNodeHAEnabled() && isComponentNameNode() && (matchingGroups.size() == 2))","dfgs":[16,18],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":true,"lineBeg":798,"lineEnd":798,"lineMapIndex":46,"methodParents":[],"nodeIndex":12},{"cfgs":[14,15],"code":"if (properties.containsKey(\"core-site\") && properties.get(\"core-site\").get(\"fs.defaultFS\").equals(origValue))","dfgs":[15],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":true,"lineBeg":801,"lineEnd":801,"lineMapIndex":47,"methodParents":[],"nodeIndex":13},{"cfgs":[],"code":"return Collections.emptySet()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":true,"lineBeg":802,"lineEnd":802,"lineMapIndex":48,"methodParents":[],"nodeIndex":14},{"cfgs":[16],"code":"if (properties.containsKey(\"hbase-site\") && properties.get(\"hbase-site\").get(\"hbase.rootdir\").equals(origValue))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":true,"lineBeg":805,"lineEnd":805,"lineMapIndex":49,"methodParents":[],"nodeIndex":15},{"cfgs":[17,18],"code":"if (topology.isNameNodeHAEnabled() && isComponentSecondaryNameNode() && (matchingGroups.isEmpty()))","dfgs":[18],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":true,"lineBeg":812,"lineEnd":812,"lineMapIndex":55,"methodParents":[],"nodeIndex":16},{"cfgs":[],"code":"return Collections.emptySet()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":true,"lineBeg":815,"lineEnd":815,"lineMapIndex":-1,"methodParents":[],"nodeIndex":17},{"cfgs":[],"code":"throw new IllegalArgumentException(\"Unable to determine required host groups for component. \" +\"Component '\" + component + \"' is not mapped to any host group or is mapped to multiple groups.\")","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":true,"lineBeg":819,"lineEnd":820,"lineMapIndex":68,"methodParents":[],"nodeIndex":18},{"cfgs":[],"code":"assertEquals(\"Yarn Log Server URL was incorrectly updated\",\"http://\" + expectedHostName +\":19888/jobhistory/logs\", yarnSiteProperties.get(\"yarn.log.server.url\"))","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":true,"lineBeg":2184,"lineEnd":2185,"lineMapIndex":76,"methodParents":[],"nodeIndex":19},{"cfgs":[],"code":"assertEquals(\"Falcon Kerberos Principal property not properly exported\",\"falcon/\" + expectedHostName + \"@EXAMPLE.COM\", falconStartupProperties.get(\"*.falcon.service.authentication.kerberos.principal\"))","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":true,"lineBeg":2912,"lineEnd":2913,"lineMapIndex":77,"methodParents":[],"nodeIndex":20},{"cfgs":[],"code":"assertEquals(\"nimbus startup settings not properly handled by cluster create\",\"localhost\", stormSiteProperties.get(\"nimbus.childopts\"))","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":true,"lineBeg":3125,"lineEnd":3126,"lineMapIndex":78,"methodParents":[],"nodeIndex":21},{"cfgs":[23],"code":"try ","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_ClusterConfigurationRequest.java","fieldParents":[],"isDel":false,"lineBeg":71,"lineEnd":71,"lineMapIndex":-1,"methodParents":[],"nodeIndex":22},{"cfgs":[24],"code":"configurationProcessor.doUpdateForClusterCreate()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_ClusterConfigurationRequest.java","fieldParents":[],"isDel":false,"lineBeg":72,"lineEnd":72,"lineMapIndex":0,"methodParents":[],"nodeIndex":23},{"cfgs":[25],"code":"catch (ConfigurationTopologyException e)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_ClusterConfigurationRequest.java","fieldParents":[],"isDel":false,"lineBeg":73,"lineEnd":73,"lineMapIndex":-1,"methodParents":[],"nodeIndex":24},{"cfgs":[],"code":"LOG.error(\"An exception occurred while doing configuration topology update: \" + e, e)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_ClusterConfigurationRequest.java","fieldParents":[],"isDel":false,"lineBeg":75,"lineEnd":75,"lineMapIndex":-1,"methodParents":[],"nodeIndex":25},{"cfgs":[],"code":"import org.slf4j.Logger","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_TopologyManager.java","fieldParents":[],"isDel":false,"lineBeg":42,"lineEnd":42,"lineMapIndex":-1,"methodParents":[],"nodeIndex":26},{"cfgs":[],"code":"import org.slf4j.LoggerFactory","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_TopologyManager.java","fieldParents":[],"isDel":false,"lineBeg":43,"lineEnd":43,"lineMapIndex":-1,"methodParents":[],"nodeIndex":27},{"cfgs":[],"code":"protected final static Logger LOG = LoggerFactory.getLogger(TopologyManager.class)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_TopologyManager.java","fieldParents":[],"isDel":false,"lineBeg":86,"lineEnd":86,"lineMapIndex":-1,"methodParents":[],"nodeIndex":28},{"cfgs":[],"code":"LOG.info(\"TopologyManager: Queueing available host {}\", hostName)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_TopologyManager.java","fieldParents":[28],"isDel":false,"lineBeg":181,"lineEnd":181,"lineMapIndex":1,"methodParents":[],"nodeIndex":29},{"cfgs":[34,31],"code":"LOG.info(\"TopologyManager.ConfigureClusterTask: Entering\")","dfgs":[34,31],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_TopologyManager.java","fieldParents":[28],"isDel":false,"lineBeg":507,"lineEnd":507,"lineMapIndex":2,"methodParents":[],"nodeIndex":30},{"cfgs":[33,32],"code":"LOG.info(\"TopologyManager.ConfigureClusterTask: Setting Configuration on cluster\")","dfgs":[33,32],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_TopologyManager.java","fieldParents":[28],"isDel":false,"lineBeg":527,"lineEnd":527,"lineMapIndex":3,"methodParents":[],"nodeIndex":31},{"cfgs":[33],"code":"LOG.error(\"TopologyManager.ConfigureClusterTask: \" +\"An exception occurred while attempting to process cluster configs and set on cluster: \" + e)","dfgs":[33],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_TopologyManager.java","fieldParents":[28],"isDel":false,"lineBeg":532,"lineEnd":533,"lineMapIndex":4,"methodParents":[],"nodeIndex":32},{"cfgs":[34],"code":"LOG.info(\"TopologyManager.ConfigureClusterTask: Setting configure complete flag to true\")","dfgs":[34],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_TopologyManager.java","fieldParents":[28],"isDel":false,"lineBeg":538,"lineEnd":538,"lineMapIndex":5,"methodParents":[],"nodeIndex":33},{"cfgs":[],"code":"LOG.info(\"TopologyManager.ConfigureClusterTask: Exiting\")","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_TopologyManager.java","fieldParents":[28],"isDel":false,"lineBeg":545,"lineEnd":545,"lineMapIndex":6,"methodParents":[],"nodeIndex":34},{"cfgs":[36],"code":"LOG.error(\"An exception occurred while attempting to determine required host groups for config update \" + e)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_TopologyManager.java","fieldParents":[28],"isDel":false,"lineBeg":557,"lineEnd":557,"lineMapIndex":7,"methodParents":[],"nodeIndex":35},{"cfgs":[37],"code":"e.printStackTrace()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_TopologyManager.java","fieldParents":[],"isDel":false,"lineBeg":558,"lineEnd":558,"lineMapIndex":-1,"methodParents":[],"nodeIndex":36},{"cfgs":[],"code":"requiredHostGroups = Collections.emptyList()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_topology_TopologyManager.java","fieldParents":[],"isDel":false,"lineBeg":559,"lineEnd":559,"lineMapIndex":-1,"methodParents":[],"nodeIndex":37},{"cfgs":[],"code":"String updateForClusterCreate(String propertyName,String origValue,Map<String, Map<String, String>> properties,ClusterTopology topology)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":639,"lineEnd":642,"lineMapIndex":9,"methodParents":[],"nodeIndex":38},{"cfgs":[],"code":"Collection<String> getRequiredHostGroups(String origValue,Map<String, Map<String, String>> properties,ClusterTopology topology)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":644,"lineEnd":646,"lineMapIndex":10,"methodParents":[],"nodeIndex":39},{"cfgs":[41],"code":"int matchingGroupCount = matchingGroups.size()","dfgs":[41],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":795,"lineEnd":795,"lineMapIndex":-1,"methodParents":[],"nodeIndex":40},{"cfgs":[42],"code":"if (matchingGroupCount == 1)","dfgs":[43],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":796,"lineEnd":796,"lineMapIndex":11,"methodParents":[],"nodeIndex":41},{"cfgs":[43],"code":"Cardinality cardinality = topology.getBlueprint().getStack().getCardinality(component)","dfgs":[43,65,46,55,56,59,62],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":799,"lineEnd":799,"lineMapIndex":-1,"methodParents":[],"nodeIndex":42},{"cfgs":[44,45],"code":"if (matchingGroupCount == 0 && cardinality.isValidCount(0))","dfgs":[55,46,56,59,62,65],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":802,"lineEnd":802,"lineMapIndex":-1,"methodParents":[],"nodeIndex":43},{"cfgs":[],"code":"return Collections.emptySet()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":803,"lineEnd":803,"lineMapIndex":-1,"methodParents":[],"nodeIndex":44},{"cfgs":[46],"code":"else","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":804,"lineEnd":804,"lineMapIndex":-1,"methodParents":[],"nodeIndex":45},{"cfgs":[47,55],"code":"if (topology.isNameNodeHAEnabled() && isComponentNameNode() && (matchingGroupCount == 2))","dfgs":[56,55,59,62,65],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":806,"lineEnd":806,"lineMapIndex":12,"methodParents":[],"nodeIndex":46},{"cfgs":[48,49],"code":"if (properties.containsKey(\"core-site\") && properties.get(\"core-site\").get(\"fs.defaultFS\").equals(origValue))","dfgs":[49,51,53],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":809,"lineEnd":809,"lineMapIndex":13,"methodParents":[],"nodeIndex":47},{"cfgs":[],"code":"return Collections.emptySet()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":810,"lineEnd":810,"lineMapIndex":14,"methodParents":[],"nodeIndex":48},{"cfgs":[50,51],"code":"if (properties.containsKey(\"hbase-site\") && properties.get(\"hbase-site\").get(\"hbase.rootdir\").equals(origValue))","dfgs":[51,53],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":813,"lineEnd":813,"lineMapIndex":15,"methodParents":[],"nodeIndex":49},{"cfgs":[],"code":"return Collections.emptySet()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":816,"lineEnd":816,"lineMapIndex":-1,"methodParents":[],"nodeIndex":50},{"cfgs":[52,53],"code":"if (properties.containsKey(\"accumulo-site\") && properties.get(\"accumulo-site\").get(\"instance.volumes\").equals(origValue))","dfgs":[56,53],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":819,"lineEnd":819,"lineMapIndex":-1,"methodParents":[],"nodeIndex":51},{"cfgs":[],"code":"return Collections.emptySet()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":822,"lineEnd":822,"lineMapIndex":-1,"methodParents":[],"nodeIndex":52},{"cfgs":[54,55],"code":"if (!origValue.contains(\"localhost\"))","dfgs":[57,60,63,66],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":825,"lineEnd":825,"lineMapIndex":-1,"methodParents":[],"nodeIndex":53},{"cfgs":[],"code":"return Collections.emptySet()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":827,"lineEnd":827,"lineMapIndex":-1,"methodParents":[],"nodeIndex":54},{"cfgs":[56],"code":"if (topology.isNameNodeHAEnabled() && isComponentSecondaryNameNode() && (matchingGroupCount == 0))","dfgs":[56,59,62,65],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":831,"lineEnd":831,"lineMapIndex":16,"methodParents":[],"nodeIndex":55},{"cfgs":[57,59],"code":"if (isYarnResourceManagerHAEnabled(properties) && isComponentResourceManager() && (matchingGroupCount == 2))","dfgs":[59,62,65],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":837,"lineEnd":837,"lineMapIndex":-1,"methodParents":[],"nodeIndex":56},{"cfgs":[58,59],"code":"if (!origValue.contains(\"localhost\"))","dfgs":[60,63,66],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":838,"lineEnd":838,"lineMapIndex":-1,"methodParents":[],"nodeIndex":57},{"cfgs":[],"code":"return Collections.emptySet()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":840,"lineEnd":840,"lineMapIndex":-1,"methodParents":[],"nodeIndex":58},{"cfgs":[60,62],"code":"if ((isOozieServerHAEnabled(properties)) && isComponentOozieServer() && (matchingGroupCount > 1))","dfgs":[62,65],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":844,"lineEnd":844,"lineMapIndex":-1,"methodParents":[],"nodeIndex":59},{"cfgs":[61,62],"code":"if (!origValue.contains(\"localhost\"))","dfgs":[63,66],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":845,"lineEnd":845,"lineMapIndex":-1,"methodParents":[],"nodeIndex":60},{"cfgs":[],"code":"return Collections.emptySet()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":847,"lineEnd":847,"lineMapIndex":-1,"methodParents":[],"nodeIndex":61},{"cfgs":[63,65],"code":"if ((isHiveServerHAEnabled(properties)) && isComponentHiveServer() && (matchingGroupCount > 1))","dfgs":[65],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":851,"lineEnd":851,"lineMapIndex":-1,"methodParents":[],"nodeIndex":62},{"cfgs":[64,65],"code":"if (!origValue.contains(\"localhost\"))","dfgs":[66],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":852,"lineEnd":852,"lineMapIndex":-1,"methodParents":[],"nodeIndex":63},{"cfgs":[],"code":"return Collections.emptySet()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":854,"lineEnd":854,"lineMapIndex":-1,"methodParents":[],"nodeIndex":64},{"cfgs":[66,68],"code":"if ((isComponentHiveMetaStoreServer()) && matchingGroupCount > 1)","dfgs":[68],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":858,"lineEnd":858,"lineMapIndex":-1,"methodParents":[],"nodeIndex":65},{"cfgs":[67,68],"code":"if (!origValue.contains(\"localhost\"))","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":859,"lineEnd":859,"lineMapIndex":-1,"methodParents":[],"nodeIndex":66},{"cfgs":[],"code":"return Collections.emptySet()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":861,"lineEnd":861,"lineMapIndex":-1,"methodParents":[],"nodeIndex":67},{"cfgs":[],"code":"throw new IllegalArgumentException(\"Unable to update configuration property with topology information. \" +\"Component '\" + component + \"' is not mapped to any host group or is mapped to multiple groups.\")","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":865,"lineEnd":866,"lineMapIndex":18,"methodParents":[],"nodeIndex":68},{"cfgs":[70],"code":"public Collection<String> getRequiredHostGroups(String origValue, Map<String, Map<String, String>> properties, ClusterTopology topology) ","dfgs":[70,71,73],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":1050,"lineEnd":1050,"lineMapIndex":-1,"methodParents":[],"nodeIndex":69},{"cfgs":[71,72],"code":"if (isDatabaseManaged(properties))","dfgs":[71],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":1051,"lineEnd":1051,"lineMapIndex":-1,"methodParents":[],"nodeIndex":70},{"cfgs":[],"code":"return super.getRequiredHostGroups(origValue, properties, topology)","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":1052,"lineEnd":1052,"lineMapIndex":-1,"methodParents":[39],"nodeIndex":71},{"cfgs":[73],"code":"else","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":1053,"lineEnd":1053,"lineMapIndex":-1,"methodParents":[],"nodeIndex":72},{"cfgs":[],"code":"return Collections.emptySet()","dfgs":[],"fName":"ambari-server_src_main_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessor.java","fieldParents":[],"isDel":false,"lineBeg":1054,"lineEnd":1054,"lineMapIndex":-1,"methodParents":[],"nodeIndex":73},{"cfgs":[],"code":"import org.apache.commons.collections.map.HashedMap","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":false,"lineBeg":51,"lineEnd":51,"lineMapIndex":-1,"methodParents":[],"nodeIndex":74},{"cfgs":[],"code":"expect(stack.getCardinality(\"MYSQL_SERVER\")).andReturn(new Cardinality(\"0-1\")).anyTimes()","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":false,"lineBeg":144,"lineEnd":144,"lineMapIndex":-1,"methodParents":[],"nodeIndex":75},{"cfgs":[],"code":"assertEquals(\"Yarn Log Server URL was incorrectly updated\",\"http://\" + expectedHostName + \":19888/jobhistory/logs\", yarnSiteProperties.get(\"yarn.log.server.url\"))","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":false,"lineBeg":2187,"lineEnd":2188,"lineMapIndex":19,"methodParents":[],"nodeIndex":76},{"cfgs":[],"code":"assertEquals(\"Falcon Kerberos Principal property not properly exported\",\"falcon/\" + expectedHostName + \"@EXAMPLE.COM\", falconStartupProperties.get(\"*.falcon.service.authentication.kerberos.principal\"))","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":false,"lineBeg":2915,"lineEnd":2916,"lineMapIndex":20,"methodParents":[],"nodeIndex":77},{"cfgs":[],"code":"assertEquals(\"nimbus startup settings not properly handled by cluster create\",\"localhost\", stormSiteProperties.get(\"nimbus.childopts\"))","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":false,"lineBeg":3128,"lineEnd":3129,"lineMapIndex":21,"methodParents":[],"nodeIndex":78},{"cfgs":[],"code":"public void testGetRequiredHostGroups___validComponentCountofZero() throws Exception ","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":false,"lineBeg":3533,"lineEnd":3533,"lineMapIndex":-1,"methodParents":[],"nodeIndex":79},{"cfgs":[],"code":"Map<String, Map<String, String>> properties = new HashMap<String, Map<String, String>>()","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":false,"lineBeg":3534,"lineEnd":3534,"lineMapIndex":-1,"methodParents":[],"nodeIndex":80},{"cfgs":[],"code":"Map<String, String> hiveSite = new HashMap<String, String>()","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":false,"lineBeg":3535,"lineEnd":3535,"lineMapIndex":-1,"methodParents":[],"nodeIndex":81},{"cfgs":[],"code":"properties.put(\"hive-site\", hiveSite)","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":false,"lineBeg":3536,"lineEnd":3536,"lineMapIndex":-1,"methodParents":[],"nodeIndex":82},{"cfgs":[],"code":"Map<String, String> hiveEnv = new HashMap<String, String>()","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":false,"lineBeg":3537,"lineEnd":3537,"lineMapIndex":-1,"methodParents":[],"nodeIndex":83},{"cfgs":[],"code":"properties.put(\"hive-env\", hiveEnv)","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":false,"lineBeg":3538,"lineEnd":3538,"lineMapIndex":-1,"methodParents":[],"nodeIndex":84},{"cfgs":[],"code":"hiveSite.put(\"javax.jdo.option.ConnectionURL\", \"localhost:1111\")","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":false,"lineBeg":3540,"lineEnd":3540,"lineMapIndex":-1,"methodParents":[],"nodeIndex":85},{"cfgs":[],"code":"hiveEnv.put(\"hive_database\", \"New Database\")","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":false,"lineBeg":3542,"lineEnd":3542,"lineMapIndex":-1,"methodParents":[],"nodeIndex":86},{"cfgs":[],"code":"Configuration clusterConfig = new Configuration(properties,Collections.<String, Map<String, Map<String, String>>>emptyMap())","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":false,"lineBeg":3545,"lineEnd":3546,"lineMapIndex":-1,"methodParents":[],"nodeIndex":87},{"cfgs":[],"code":"Collection<String> hgComponents1 = new HashSet<String>()","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":false,"lineBeg":3548,"lineEnd":3548,"lineMapIndex":-1,"methodParents":[],"nodeIndex":88},{"cfgs":[],"code":"hgComponents1.add(\"HIVE_SERVER\")","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":false,"lineBeg":3549,"lineEnd":3549,"lineMapIndex":-1,"methodParents":[],"nodeIndex":89},{"cfgs":[],"code":"hgComponents1.add(\"NAMENODE\")","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":false,"lineBeg":3550,"lineEnd":3550,"lineMapIndex":-1,"methodParents":[],"nodeIndex":90},{"cfgs":[],"code":"TestHostGroup group1 = new TestHostGroup(\"group1\", hgComponents1, Collections.singleton(\"host1\"))","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":false,"lineBeg":3551,"lineEnd":3551,"lineMapIndex":-1,"methodParents":[],"nodeIndex":91},{"cfgs":[],"code":"Collection<String> hgComponents2 = new HashSet<String>()","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":false,"lineBeg":3553,"lineEnd":3553,"lineMapIndex":-1,"methodParents":[],"nodeIndex":92},{"cfgs":[],"code":"hgComponents2.add(\"DATANODE\")","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":false,"lineBeg":3554,"lineEnd":3554,"lineMapIndex":-1,"methodParents":[],"nodeIndex":93},{"cfgs":[],"code":"TestHostGroup group2 = new TestHostGroup(\"group2\", hgComponents2, Collections.singleton(\"host2\"))","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":false,"lineBeg":3555,"lineEnd":3555,"lineMapIndex":-1,"methodParents":[],"nodeIndex":94},{"cfgs":[],"code":"Collection<TestHostGroup> hostGroups = new ArrayList<TestHostGroup>()","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":false,"lineBeg":3557,"lineEnd":3557,"lineMapIndex":-1,"methodParents":[],"nodeIndex":95},{"cfgs":[],"code":"hostGroups.add(group1)","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":false,"lineBeg":3558,"lineEnd":3558,"lineMapIndex":-1,"methodParents":[],"nodeIndex":96},{"cfgs":[],"code":"hostGroups.add(group2)","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":false,"lineBeg":3559,"lineEnd":3559,"lineMapIndex":-1,"methodParents":[],"nodeIndex":97},{"cfgs":[],"code":"ClusterTopology topology = createClusterTopology(\"c1\", bp, clusterConfig, hostGroups)","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":false,"lineBeg":3561,"lineEnd":3561,"lineMapIndex":-1,"methodParents":[],"nodeIndex":98},{"cfgs":[],"code":"BlueprintConfigurationProcessor updater = new BlueprintConfigurationProcessor(topology)","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":false,"lineBeg":3562,"lineEnd":3562,"lineMapIndex":-1,"methodParents":[],"nodeIndex":99},{"cfgs":[],"code":"Collection<String> requiredGroups = updater.getRequiredHostGroups()","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":false,"lineBeg":3565,"lineEnd":3565,"lineMapIndex":-1,"methodParents":[],"nodeIndex":100},{"cfgs":[],"code":"System.out.println(\"Required Groups: \" + requiredGroups)","dfgs":[],"fName":"ambari-server_src_test_java_org_apache_ambari_server_controller_internal_BlueprintConfigurationProcessorTest.java","fieldParents":[],"isDel":false,"lineBeg":3566,"lineEnd":3566,"lineMapIndex":-1,"methodParents":[],"nodeIndex":101}]